[{"method": "GET", "response": {"status": 200, "statusText": "OK", "httpVersion": "HTTP/1.1", "cookies": [], "headers": [], "content": {"size": 289121, "mimeType": "application/javascript;charset=ISO-8859-1", "text": "/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/syf-widget.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./node_modules/safe-stable-stringify/index.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/safe-stable-stringify/index.js ***!\n  \\*****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst { hasOwnProperty } = Object.prototype\n\nconst stringify = configure()\n\n// @ts-expect-error\nstringify.configure = configure\n// @ts-expect-error\nstringify.stringify = stringify\n\n// @ts-expect-error\nstringify.default = stringify\n\n// @ts-expect-error used for named export\nexports.stringify = stringify\n// @ts-expect-error used for named export\nexports.configure = configure\n\nmodule.exports = stringify\n\n// eslint-disable-next-line no-control-regex\nconst strEscapeSequencesRegExp = /[\\u0000-\\u001f\\u0022\\u005c\\ud800-\\udfff]|[\\ud800-\\udbff](?![\\udc00-\\udfff])|(?:[^\\ud800-\\udbff]|^)[\\udc00-\\udfff]/\n\n// Escape C0 control characters, double quotes, the backslash and every code\n// unit with a numeric value in the inclusive range 0xD800 to 0xDFFF.\nfunction strEscape (str) {\n  // Some magic numbers that worked out fine while benchmarking with v8 8.0\n  if (str.length < 5000 && !strEscapeSequencesRegExp.test(str)) {\n    return `\"${str}\"`\n  }\n  return JSON.stringify(str)\n}\n\nfunction insertSort (array) {\n  // Insertion sort is very efficient for small input sizes but it has a bad\n  // worst case complexity. Thus, use native array sort for bigger values.\n  if (array.length > 2e2) {\n    return array.sort()\n  }\n  for (let i = 1; i < array.length; i++) {\n    const currentValue = array[i]\n    let position = i\n    while (position !== 0 && array[position - 1] > currentValue) {\n      array[position] = array[position - 1]\n      position--\n    }\n    array[position] = currentValue\n  }\n  return array\n}\n\nconst typedArrayPrototypeGetSymbolToStringTag =\n  Object.getOwnPropertyDescriptor(\n    Object.getPrototypeOf(\n      Object.getPrototypeOf(\n        new Int8Array()\n      )\n    ),\n    Symbol.toStringTag\n  ).get\n\nfunction isTypedArrayWithEntries (value) {\n  return typedArrayPrototypeGetSymbolToStringTag.call(value) !== undefined && value.length !== 0\n}\n\nfunction stringifyTypedArray (array, separator, maximumBreadth) {\n  if (array.length < maximumBreadth) {\n    maximumBreadth = array.length\n  }\n  const whitespace = separator === ',' ? '' : ' '\n  let res = `\"0\":${whitespace}${array[0]}`\n  for (let i = 1; i < maximumBreadth; i++) {\n    res += `${separator}\"${i}\":${whitespace}${array[i]}`\n  }\n  return res\n}\n\nfunction getCircularValueOption (options) {\n  if (hasOwnProperty.call(options, 'circularValue')) {\n    const circularValue = options.circularValue\n    if (typeof circularValue === 'string') {\n      return `\"${circularValue}\"`\n    }\n    if (circularValue == null) {\n      return circularValue\n    }\n    if (circularValue === Error || circularValue === TypeError) {\n      return {\n        toString () {\n          throw new TypeError('Converting circular structure to JSON')\n        }\n      }\n    }\n    throw new TypeError('The \"circularValue\" argument must be of type string or the value null or undefined')\n  }\n  return '\"[Circular]\"'\n}\n\nfunction getBooleanOption (options, key) {\n  let value\n  if (hasOwnProperty.call(options, key)) {\n    value = options[key]\n    if (typeof value !== 'boolean') {\n      throw new TypeError(`The \"${key}\" argument must be of type boolean`)\n    }\n  }\n  return value === undefined ? true : value\n}\n\nfunction getPositiveIntegerOption (options, key) {\n  let value\n  if (hasOwnProperty.call(options, key)) {\n    value = options[key]\n    if (typeof value !== 'number') {\n      throw new TypeError(`The \"${key}\" argument must be of type number`)\n    }\n    if (!Number.isInteger(value)) {\n      throw new TypeError(`The \"${key}\" argument must be an integer`)\n    }\n    if (value < 1) {\n      throw new RangeError(`The \"${key}\" argument must be >= 1`)\n    }\n  }\n  return value === undefined ? Infinity : value\n}\n\nfunction getItemCount (number) {\n  if (number === 1) {\n    return '1 item'\n  }\n  return `${number} items`\n}\n\nfunction getUniqueReplacerSet (replacerArray) {\n  const replacerSet = new Set()\n  for (const value of replacerArray) {\n    if (typeof value === 'string' || typeof value === 'number') {\n      replacerSet.add(String(value))\n    }\n  }\n  return replacerSet\n}\n\nfunction getStrictOption (options) {\n  if (hasOwnProperty.call(options, 'strict')) {\n    const value = options.strict\n    if (typeof value !== 'boolean') {\n      throw new TypeError('The \"strict\" argument must be of type boolean')\n    }\n    if (value) {\n      return (value) => {\n        let message = `Object can not safely be stringified. Received type ${typeof value}`\n        if (typeof value !== 'function') message += ` (${value.toString()})`\n        throw new Error(message)\n      }\n    }\n  }\n}\n\nfunction configure (options) {\n  options = { ...options }\n  const fail = getStrictOption(options)\n  if (fail) {\n    if (options.bigint === undefined) {\n      options.bigint = false\n    }\n    if (!('circularValue' in options)) {\n      options.circularValue = Error\n    }\n  }\n  const circularValue = getCircularValueOption(options)\n  const bigint = getBooleanOption(options, 'bigint')\n  const deterministic = getBooleanOption(options, 'deterministic')\n  const maximumDepth = getPositiveIntegerOption(options, 'maximumDepth')\n  const maximumBreadth = getPositiveIntegerOption(options, 'maximumBreadth')\n\n  function stringifyFnReplacer (key, parent, stack, replacer, spacer, indentation) {\n    let value = parent[key]\n\n    if (typeof value === 'object' && value !== null && typeof value.toJSON === 'function') {\n      value = value.toJSON(key)\n    }\n    value = replacer.call(parent, key, value)\n\n    switch (typeof value) {\n      case 'string':\n        return strEscape(value)\n      case 'object': {\n        if (value === null) {\n          return 'null'\n        }\n        if (stack.indexOf(value) !== -1) {\n          return circularValue\n        }\n\n        let res = ''\n        let join = ','\n        const originalIndentation = indentation\n\n        if (Array.isArray(value)) {\n          if (value.length === 0) {\n            return '[]'\n          }\n          if (maximumDepth < stack.length + 1) {\n            return '\"[Array]\"'\n          }\n          stack.push(value)\n          if (spacer !== '') {\n            indentation += spacer\n            res += `\\n${indentation}`\n            join = `,\\n${indentation}`\n          }\n          const maximumValuesToStringify = Math.min(value.length, maximumBreadth)\n          let i = 0\n          for (; i < maximumValuesToStringify - 1; i++) {\n            const tmp = stringifyFnReplacer(String(i), value, stack, replacer, spacer, indentation)\n            res += tmp !== undefined ? tmp : 'null'\n            res += join\n          }\n          const tmp = stringifyFnReplacer(String(i), value, stack, replacer, spacer, indentation)\n          res += tmp !== undefined ? tmp : 'null'\n          if (value.length - 1 > maximumBreadth) {\n            const removedKeys = value.length - maximumBreadth - 1\n            res += `${join}\"... ${getItemCount(removedKeys)} not stringified\"`\n          }\n          if (spacer !== '') {\n            res += `\\n${originalIndentation}`\n          }\n          stack.pop()\n          return `[${res}]`\n        }\n\n        let keys = Object.keys(value)\n        const keyLength = keys.length\n        if (keyLength === 0) {\n          return '{}'\n        }\n        if (maximumDepth < stack.length + 1) {\n          return '\"[Object]\"'\n        }\n        let whitespace = ''\n        let separator = ''\n        if (spacer !== '') {\n          indentation += spacer\n          join = `,\\n${indentation}`\n          whitespace = ' '\n        }\n        const maximumPropertiesToStringify = Math.min(keyLength, maximumBreadth)\n        if (deterministic && !isTypedArrayWithEntries(value)) {\n          keys = insertSort(keys)\n        }\n        stack.push(value)\n        for (let i = 0; i < maximumPropertiesToStringify; i++) {\n          const key = keys[i]\n          const tmp = stringifyFnReplacer(key, value, stack, replacer, spacer, indentation)\n          if (tmp !== undefined) {\n            res += `${separator}${strEscape(key)}:${whitespace}${tmp}`\n            separator = join\n          }\n        }\n        if (keyLength > maximumBreadth) {\n          const removedKeys = keyLength - maximumBreadth\n          res += `${separator}\"...\":${whitespace}\"${getItemCount(removedKeys)} not stringified\"`\n          separator = join\n        }\n        if (spacer !== '' && separator.length > 1) {\n          res = `\\n${indentation}${res}\\n${originalIndentation}`\n        }\n        stack.pop()\n        return `{${res}}`\n      }\n      case 'number':\n        return isFinite(value) ? String(value) : fail ? fail(value) : 'null'\n      case 'boolean':\n        return value === true ? 'true' : 'false'\n      case 'undefined':\n        return undefined\n      case 'bigint':\n        if (bigint) {\n          return String(value)\n        }\n        // fallthrough\n      default:\n        return fail ? fail(value) : undefined\n    }\n  }\n\n  function stringifyArrayReplacer (key, value, stack, replacer, spacer, indentation) {\n    if (typeof value === 'object' && value !== null && typeof value.toJSON === 'function') {\n      value = value.toJSON(key)\n    }\n\n    switch (typeof value) {\n      case 'string':\n        return strEscape(value)\n      case 'object': {\n        if (value === null) {\n          return 'null'\n        }\n        if (stack.indexOf(value) !== -1) {\n          return circularValue\n        }\n\n        const originalIndentation = indentation\n        let res = ''\n        let join = ','\n\n        if (Array.isArray(value)) {\n          if (value.length === 0) {\n            return '[]'\n          }\n          if (maximumDepth < stack.length + 1) {\n            return '\"[Array]\"'\n          }\n          stack.push(value)\n          if (spacer !== '') {\n            indentation += spacer\n            res += `\\n${indentation}`\n            join = `,\\n${indentation}`\n          }\n          const maximumValuesToStringify = Math.min(value.length, maximumBreadth)\n          let i = 0\n          for (; i < maximumValuesToStringify - 1; i++) {\n            const tmp = stringifyArrayReplacer(String(i), value[i], stack, replacer, spacer, indentation)\n            res += tmp !== undefined ? tmp : 'null'\n            res += join\n          }\n          const tmp = stringifyArrayReplacer(String(i), value[i], stack, replacer, spacer, indentation)\n          res += tmp !== undefined ? tmp : 'null'\n          if (value.length - 1 > maximumBreadth) {\n            const removedKeys = value.length - maximumBreadth - 1\n            res += `${join}\"... ${getItemCount(removedKeys)} not stringified\"`\n          }\n          if (spacer !== '') {\n            res += `\\n${originalIndentation}`\n          }\n          stack.pop()\n          return `[${res}]`\n        }\n        stack.push(value)\n        let whitespace = ''\n        if (spacer !== '') {\n          indentation += spacer\n          join = `,\\n${indentation}`\n          whitespace = ' '\n        }\n        let separator = ''\n        for (const key of replacer) {\n          const tmp = stringifyArrayReplacer(key, value[key], stack, replacer, spacer, indentation)\n          if (tmp !== undefined) {\n            res += `${separator}${strEscape(key)}:${whitespace}${tmp}`\n            separator = join\n          }\n        }\n        if (spacer !== '' && separator.length > 1) {\n          res = `\\n${indentation}${res}\\n${originalIndentation}`\n        }\n        stack.pop()\n        return `{${res}}`\n      }\n      case 'number':\n        return isFinite(value) ? String(value) : fail ? fail(value) : 'null'\n      case 'boolean':\n        return value === true ? 'true' : 'false'\n      case 'undefined':\n        return undefined\n      case 'bigint':\n        if (bigint) {\n          return String(value)\n        }\n        // fallthrough\n      default:\n        return fail ? fail(value) : undefined\n    }\n  }\n\n  function stringifyIndent (key, value, stack, spacer, indentation) {\n    switch (typeof value) {\n      case 'string':\n        return strEscape(value)\n      case 'object': {\n        if (value === null) {\n          return 'null'\n        }\n        if (typeof value.toJSON === 'function') {\n          value = value.toJSON(key)\n          // Prevent calling `toJSON` again.\n          if (typeof value !== 'object') {\n            return stringifyIndent(key, value, stack, spacer, indentation)\n          }\n          if (value === null) {\n            return 'null'\n          }\n        }\n        if (stack.indexOf(value) !== -1) {\n          return circularValue\n        }\n        const originalIndentation = indentation\n\n        if (Array.isArray(value)) {\n          if (value.length === 0) {\n            return '[]'\n          }\n          if (maximumDepth < stack.length + 1) {\n            return '\"[Array]\"'\n          }\n          stack.push(value)\n          indentation += spacer\n          let res = `\\n${indentation}`\n          const join = `,\\n${indentation}`\n          const maximumValuesToStringify = Math.min(value.length, maximumBreadth)\n          let i = 0\n          for (; i < maximumValuesToStringify - 1; i++) {\n            const tmp = stringifyIndent(String(i), value[i], stack, spacer, indentation)\n            res += tmp !== undefined ? tmp : 'null'\n            res += join\n          }\n          const tmp = stringifyIndent(String(i), value[i], stack, spacer, indentation)\n          res += tmp !== undefined ? tmp : 'null'\n          if (value.length - 1 > maximumBreadth) {\n            const removedKeys = value.length - maximumBreadth - 1\n            res += `${join}\"... ${getItemCount(removedKeys)} not stringified\"`\n          }\n          res += `\\n${originalIndentation}`\n          stack.pop()\n          return `[${res}]`\n        }\n\n        let keys = Object.keys(value)\n        const keyLength = keys.length\n        if (keyLength === 0) {\n          return '{}'\n        }\n        if (maximumDepth < stack.length + 1) {\n          return '\"[Object]\"'\n        }\n        indentation += spacer\n        const join = `,\\n${indentation}`\n        let res = ''\n        let separator = ''\n        let maximumPropertiesToStringify = Math.min(keyLength, maximumBreadth)\n        if (isTypedArrayWithEntries(value)) {\n          res += stringifyTypedArray(value, join, maximumBreadth)\n          keys = keys.slice(value.length)\n          maximumPropertiesToStringify -= value.length\n          separator = join\n        }\n        if (deterministic) {\n          keys = insertSort(keys)\n        }\n        stack.push(value)\n        for (let i = 0; i < maximumPropertiesToStringify; i++) {\n          const key = keys[i]\n          const tmp = stringifyIndent(key, value[key], stack, spacer, indentation)\n          if (tmp !== undefined) {\n            res += `${separator}${strEscape(key)}: ${tmp}`\n            separator = join\n          }\n        }\n        if (keyLength > maximumBreadth) {\n          const removedKeys = keyLength - maximumBreadth\n          res += `${separator}\"...\": \"${getItemCount(removedKeys)} not stringified\"`\n          separator = join\n        }\n        if (separator !== '') {\n          res = `\\n${indentation}${res}\\n${originalIndentation}`\n        }\n        stack.pop()\n        return `{${res}}`\n      }\n      case 'number':\n        return isFinite(value) ? String(value) : fail ? fail(value) : 'null'\n      case 'boolean':\n        return value === true ? 'true' : 'false'\n      case 'undefined':\n        return undefined\n      case 'bigint':\n        if (bigint) {\n          return String(value)\n        }\n        // fallthrough\n      default:\n        return fail ? fail(value) : undefined\n    }\n  }\n\n  function stringifySimple (key, value, stack) {\n    switch (typeof value) {\n      case 'string':\n        return strEscape(value)\n      case 'object': {\n        if (value === null) {\n          return 'null'\n        }\n        if (typeof value.toJSON === 'function') {\n          value = value.toJSON(key)\n          // Prevent calling `toJSON` again\n          if (typeof value !== 'object') {\n            return stringifySimple(key, value, stack)\n          }\n          if (value === null) {\n            return 'null'\n          }\n        }\n        if (stack.indexOf(value) !== -1) {\n          return circularValue\n        }\n\n        let res = ''\n\n        if (Array.isArray(value)) {\n          if (value.length === 0) {\n            return '[]'\n          }\n          if (maximumDepth < stack.length + 1) {\n            return '\"[Array]\"'\n          }\n          stack.push(value)\n          const maximumValuesToStringify = Math.min(value.length, maximumBreadth)\n          let i = 0\n          for (; i < maximumValuesToStringify - 1; i++) {\n            const tmp = stringifySimple(String(i), value[i], stack)\n            res += tmp !== undefined ? tmp : 'null'\n            res += ','\n          }\n          const tmp = stringifySimple(String(i), value[i], stack)\n          res += tmp !== undefined ? tmp : 'null'\n          if (value.length - 1 > maximumBreadth) {\n            const removedKeys = value.length - maximumBreadth - 1\n            res += `,\"... ${getItemCount(removedKeys)} not stringified\"`\n          }\n          stack.pop()\n          return `[${res}]`\n        }\n\n        let keys = Object.keys(value)\n        const keyLength = keys.length\n        if (keyLength === 0) {\n          return '{}'\n        }\n        if (maximumDepth < stack.length + 1) {\n          return '\"[Object]\"'\n        }\n        let separator = ''\n        let maximumPropertiesToStringify = Math.min(keyLength, maximumBreadth)\n        if (isTypedArrayWithEntries(value)) {\n          res += stringifyTypedArray(value, ',', maximumBreadth)\n          keys = keys.slice(value.length)\n          maximumPropertiesToStringify -= value.length\n          separator = ','\n        }\n        if (deterministic) {\n          keys = insertSort(keys)\n        }\n        stack.push(value)\n        for (let i = 0; i < maximumPropertiesToStringify; i++) {\n          const key = keys[i]\n          const tmp = stringifySimple(key, value[key], stack)\n          if (tmp !== undefined) {\n            res += `${separator}${strEscape(key)}:${tmp}`\n            separator = ','\n          }\n        }\n        if (keyLength > maximumBreadth) {\n          const removedKeys = keyLength - maximumBreadth\n          res += `${separator}\"...\":\"${getItemCount(removedKeys)} not stringified\"`\n        }\n        stack.pop()\n        return `{${res}}`\n      }\n      case 'number':\n        return isFinite(value) ? String(value) : fail ? fail(value) : 'null'\n      case 'boolean':\n        return value === true ? 'true' : 'false'\n      case 'undefined':\n        return undefined\n      case 'bigint':\n        if (bigint) {\n          return String(value)\n        }\n        // fallthrough\n      default:\n        return fail ? fail(value) : undefined\n    }\n  }\n\n  function stringify (value, replacer, space) {\n    if (arguments.length > 1) {\n      let spacer = ''\n      if (typeof space === 'number') {\n        spacer = ' '.repeat(Math.min(space, 10))\n      } else if (typeof space === 'string') {\n        spacer = space.slice(0, 10)\n      }\n      if (replacer != null) {\n        if (typeof replacer === 'function') {\n          return stringifyFnReplacer('', { '': value }, [], replacer, spacer, '')\n        }\n        if (Array.isArray(replacer)) {\n          return stringifyArrayReplacer('', value, [], getUniqueReplacerSet(replacer), spacer, '')\n        }\n      }\n      if (spacer.length !== 0) {\n        return stringifyIndent('', value, [], spacer, '')\n      }\n    }\n    return stringifySimple('', value, [])\n  }\n\n  return stringify\n}\n\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/index.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/index.js ***!\n  \\*****************************************************/\n/*! exports provided: v1, v3, v4, v5, NIL, version, validate, stringify, parse */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _v1_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v1.js */ \"./node_modules/uuid/dist/esm-browser/v1.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"v1\", function() { return _v1_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _v3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./v3.js */ \"./node_modules/uuid/dist/esm-browser/v3.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"v3\", function() { return _v3_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _v4_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./v4.js */ \"./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"v4\", function() { return _v4_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _v5_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./v5.js */ \"./node_modules/uuid/dist/esm-browser/v5.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"v5\", function() { return _v5_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _nil_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./nil.js */ \"./node_modules/uuid/dist/esm-browser/nil.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"NIL\", function() { return _nil_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./version.js */ \"./node_modules/uuid/dist/esm-browser/version.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"version\", function() { return _version_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"validate\", function() { return _validate_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"stringify\", function() { return _stringify_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parse.js */ \"./node_modules/uuid/dist/esm-browser/parse.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"parse\", function() { return _parse_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n\n\n\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/md5.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/md5.js ***!\n  \\***************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (md5);\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/nil.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/nil.js ***!\n  \\***************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = ('00000000-0000-0000-0000-000000000000');\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/parse.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/parse.js ***!\n  \\*****************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n\nfunction parse(uuid) {\n  if (!Object(_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (parse);\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/regex.js\":\n/*!*****************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!\n  \\*****************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/rng.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!\n  \\***************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return rng; });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/sha1.js\":\n/*!****************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/sha1.js ***!\n  \\****************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (sha1);\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/stringify.js\":\n/*!*********************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!\n  \\*********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!Object(_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (stringify);\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/v1.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/v1.js ***!\n  \\**************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || Object(_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(b);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (v1);\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/v3.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/v3.js ***!\n  \\**************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"./node_modules/uuid/dist/esm-browser/v35.js\");\n/* harmony import */ var _md5_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./md5.js */ \"./node_modules/uuid/dist/esm-browser/md5.js\");\n\n\nvar v3 = Object(_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v3', 0x30, _md5_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (v3);\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/v35.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/v35.js ***!\n  \\***************************************************/\n/*! exports provided: DNS, URL, default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DNS\", function() { return DNS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"URL\", function() { return URL; });\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n/* harmony import */ var _parse_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./parse.js */ \"./node_modules/uuid/dist/esm-browser/parse.js\");\n\n\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nvar DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nvar URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = Object(_parse_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return Object(_stringify_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n});\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/v4.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!\n  \\**************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./rng.js */ \"./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return Object(_stringify_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(rnds);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (v4);\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/v5.js\":\n/*!**************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/v5.js ***!\n  \\**************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _v35_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./v35.js */ \"./node_modules/uuid/dist/esm-browser/v35.js\");\n/* harmony import */ var _sha1_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sha1.js */ \"./node_modules/uuid/dist/esm-browser/sha1.js\");\n\n\nvar v5 = Object(_v35_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])('v5', 0x50, _sha1_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n/* harmony default export */ __webpack_exports__[\"default\"] = (v5);\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/validate.js\":\n/*!********************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!\n  \\********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"./node_modules/uuid/dist/esm-browser/regex.js\");\n\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (validate);\n\n/***/ }),\n\n/***/ \"./node_modules/uuid/dist/esm-browser/version.js\":\n/*!*******************************************************!*\\\n  !*** ./node_modules/uuid/dist/esm-browser/version.js ***!\n  \\*******************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n\nfunction version(uuid) {\n  if (!Object(_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (version);\n\n/***/ }),\n\n/***/ \"./src/analytics.js\":\n/*!**************************!*\\\n  !*** ./src/analytics.js ***!\n  \\**************************/\n/*! exports provided: sendAnalytics, init, sendAdobeAnalyticsForWidget */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sendAnalytics\", function() { return sendAnalytics; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sendAdobeAnalyticsForWidget\", function() { return sendAdobeAnalyticsForWidget; });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"./src/constants.js\");\n/* harmony import */ var _browser_detect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./browser-detect */ \"./src/browser-detect.js\");\n\n\n\nlet analyticsTarget = null;\nconst marks = [];\n\nfunction sendRTUMEvent(params) {\n  if (analyticsTarget) {\n    analyticsTarget.postMessage(JSON.stringify(params), '*');\n  } else {\n    marks.push(params);\n  }\n}\n\nfunction sendAnalytics(eventName, data) {\n  const params = {\n    event: eventName,\n    url: window.location.href,\n    host: window.location.host,\n    title: document.title,\n    ts: new Date().getTime(),\n    browser: _browser_detect__WEBPACK_IMPORTED_MODULE_1__[\"browser\"],\n    device: Object(_browser_detect__WEBPACK_IMPORTED_MODULE_1__[\"getDeviceType\"])(),\n    ...data,\n  };\n  return sendRTUMEvent(params);\n}\n\nfunction init(analyticsIframe, data) {\n  if (analyticsIframe && analyticsIframe.contentWindow) {\n    analyticsTarget = analyticsIframe.contentWindow;\n\n    sendAnalytics(_constants__WEBPACK_IMPORTED_MODULE_0__[\"EVT_WIDGET_READY\"], data);\n\n    while (marks.length > 0) {\n      sendRTUMEvent(marks.shift());\n    }\n  }\n}\n\nfunction sendAdobeAnalyticsForWidget(partnerId, merchantName, syfToken, prefferedOffer, eventType, offerText,pdpPrice,widgetType,productDescription,flowType,numberOfMultiWidgets,isShowCardArt=null,syfWidgetToken=\"\") {\n  //Adobe Analytics Related fields\n  var _SFDDL = _SFDDL || {};\n  _SFDDL.pageInfo = _SFDDL.pageInfo || {};\n  _SFDDL.formAction = _SFDDL.formAction || {};\n  _SFDDL.click = _SFDDL.click || {};\n\n  window.__syf__ = window.__syf__ || {};\n  window.__syf__._SFDDL = _SFDDL || {};\n\n  window.__syf__._SFDDL.pageInfo = {\n    \"Country_Language\": \"US|ENG\",\n    \"SiteIdentifier\": \"digitalpos\",\n    \"Device\": Object(_browser_detect__WEBPACK_IMPORTED_MODULE_1__[\"getDeviceType\"])(),\n    \"PNL\": \"PS\",\n    \"ClientName\": merchantName,\n    \"CustomerType\": \"consumer\",\n    \"SyfPartnerID\": partnerId,\n    \"PageKind\": \"merchant\",\n    \"PageFunction\": \"offers_widget\",\n    \"PageSubFunction\": \"\",\n    \"PageName\": \"offer_details_page\",\n    \"Placements\": flowType,\n    \"TargetName\": \"\",\n    \"TokenId\": syfToken,\n    \"Comment\": \"Widget On Click\",\n    \"OfferType\": prefferedOffer,\n    \"pdpPrice\": pdpPrice,\n    \"widget-type\":widgetType,\n    \"numOf_MultiWidgets\": numberOfMultiWidgets\n  };\n\n  if(isShowCardArt===\"true\"){\n    window.__syf__._SFDDL.pageInfo[\"abtesting\"]=\"A\";\n    window.__syf__._SFDDL.pageInfo[\"Widget-token\"] = syfWidgetToken;\n  }\n  else if(isShowCardArt===\"false\"){\n    window.__syf__._SFDDL.pageInfo[\"abtesting\"]=\"B\";\n    window.__syf__._SFDDL.pageInfo[\"Widget-token\"] = syfWidgetToken;\n  }\n\n  window.__syf__._SFDDL.formAction = {\n    \"appType\": \"MPP_WIDGET\",\n    \"product\": \"MPP_WIDGET\",\n    \"action\": \"MPP_WIDGET\"\n  };\n  window.__syf__._SFDDL.click = {\n    //\"action\": \"ConversionClickEvent\",\n    //\"className\": \"ensightencustomevent\",\n    \"action\": \"syfClickEvent\",\n    \"className\": \"syfClickEvent\",\n    \"data-object\": \"button\",\n    \"data-reason\": offerText===undefined?\"Learn how & Prequalify\":offerText,\n    \"data-type\": \"body\",\n    \"click-type\":productDescription\n  }\n  if (Object.keys(window.__syf__._SFDDL).length > 0){\n    if (eventType === 'load') {\n      let pageViewEvent = new CustomEvent('syfWidgetPageView');\n      pageViewEvent.initEvent(\"syfWidgetPageView\");\n      setTimeout( function() {\n        dispatchEvent(pageViewEvent);\n      }, 500);\n    }\n    if (eventType === 'click') {\n      let event = new CustomEvent('syfWidgetClick');\n      event.initEvent(\"syfWidgetClick\");\n      dispatchEvent(event);\n    }\n  }   \n}\n\n\n/***/ }),\n\n/***/ \"./src/browser-detect.js\":\n/*!*******************************!*\\\n  !*** ./src/browser-detect.js ***!\n  \\*******************************/\n/*! exports provided: BROWSERS_DATA, browser, version, mobile, setMobile, getBrowserData, getBrowserVersion, isMac, isWindows, isAndroid, isIos, getiOSVersion, isIE, getIEVersion, isIE11, legacyIsSupported, isEdge, isMobile, isIpad, isIphone, isChrome, isSafari, isFirefox, isChromeIos, isSurfaceTablet, isAndroidTablet, isSamsungInternet, isAndroidMobile, isSafariIos, isChromeAndroid, isTablet, isMobileOrTablet, getDeviceType, isDesktop, isRecordingSupported, appleWalletSupported, isMessenger, isDarkMode, isLightMode, noColorPreference, getColorScheme */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BROWSERS_DATA\", function() { return BROWSERS_DATA; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"browser\", function() { return browser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"version\", function() { return version; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mobile\", function() { return mobile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setMobile\", function() { return setMobile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBrowserData\", function() { return getBrowserData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getBrowserVersion\", function() { return getBrowserVersion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isMac\", function() { return isMac; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isWindows\", function() { return isWindows; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isAndroid\", function() { return isAndroid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isIos\", function() { return isIos; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getiOSVersion\", function() { return getiOSVersion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isIE\", function() { return isIE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getIEVersion\", function() { return getIEVersion; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isIE11\", function() { return isIE11; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"legacyIsSupported\", function() { return legacyIsSupported; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isEdge\", function() { return isEdge; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isMobile\", function() { return isMobile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isIpad\", function() { return isIpad; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isIphone\", function() { return isIphone; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isChrome\", function() { return isChrome; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isSafari\", function() { return isSafari; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isFirefox\", function() { return isFirefox; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isChromeIos\", function() { return isChromeIos; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isSurfaceTablet\", function() { return isSurfaceTablet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isAndroidTablet\", function() { return isAndroidTablet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isSamsungInternet\", function() { return isSamsungInternet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isAndroidMobile\", function() { return isAndroidMobile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isSafariIos\", function() { return isSafariIos; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isChromeAndroid\", function() { return isChromeAndroid; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isTablet\", function() { return isTablet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isMobileOrTablet\", function() { return isMobileOrTablet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getDeviceType\", function() { return getDeviceType; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDesktop\", function() { return isDesktop; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isRecordingSupported\", function() { return isRecordingSupported; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"appleWalletSupported\", function() { return appleWalletSupported; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isMessenger\", function() { return isMessenger; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isDarkMode\", function() { return isDarkMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isLightMode\", function() { return isLightMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"noColorPreference\", function() { return noColorPreference; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getColorScheme\", function() { return getColorScheme; });\n/*\n    Loop Commerce\n*/\n\nconst BROWSERS_DATA = [{\n    subString: \"Edge\",\n    identity: \"Edge\",\n    versionSearch: \"Edge\"\n}, {\n    subString: \"CriOS\",\n    identity: \"Chrome_ios\",\n    versionSearch: \"CriOS\"\n}, {\n    subString: \"MSIE\",\n    identity: \"Explorer\",\n    versionSearch: \"MSIE\"\n}, {\n    subString: \"Trident\",\n    identity: \"Explorer\",\n    versionSearch: \"rv\"\n}, {\n    subString: \"Firefox\",\n    identity: \"Firefox\"\n}, {\n    subString: \"FxiOS\",\n    identity: \"Firefox\",\n    versionSearch: \"FxiOS\"\n}, {\n    subString: \"SamsungBrowser\",\n    identity: \"Samsung\",\n    versionSearch: \"SamsungBrowser\"\n}, {\n    subString: \"Silk\",\n    identity: \"Silk\",\n    versionSearch: \"Silk\"\n}, {\n    subString: \"Chrome\",\n    identity: \"Chrome\"\n}, {\n    subString: \"Apple\",\n    identity: \"Safari\",\n    versionSearch: \"Version\"\n}, {\n    identity: \"Opera\",\n    versionSearch: \"Version\"\n}, {\n    subString: \"OPR\",\n    identity: \"Opera\",\n    versionSearch: \"OPR\"\n}, {\n    subString: \"Gecko\",\n    identity: \"Mozilla\",\n    versionSearch: \"rv\"\n}, { // for older Netscapes (4-)\n    subString: \"Mozilla\",\n    identity: \"Netscape\",\n    versionSearch: \"Mozilla\"\n}];\n\nvar supportsModernSyntax = function () {\n    try {\n        // yes eval is evil, but we have full control over the input value here\n        // we should not ever use eval or new Function(...) with variable strings\n        // the try / catch doesn't work without wrapping this code in eval\n        eval('const { foo } = { foo: \"bar\" };'); // destructuring\n        eval('const foo = {}; const bar = { ...foo };'); //  merging\n    } catch (e) {\n        // syntax error\n        return false;\n    }\n\n    return true;\n}();\n\n// Initial setup\nlet {browser, version} = getBrowserData(navigator.userAgent, BROWSERS_DATA);\n\n/**\n * Return browser name and version\n * @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n * @param {array} browserDataList - A list of browsers with browser search strings and version search strings\n * @returns {object} Browser name and version, eg. {'Chrome', 80}\n */\nfunction getBrowserData(userAgent, browserDataList) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    let browser = \"unknown browser\";\n    let version = \"unknown version\";\n    for (var i = 0; i < browserDataList.length; i++) {\n        if (currentUserAgent.indexOf(browserDataList[i].subString) != -1) {\n            const versionSearchString = browserDataList[i].versionSearch || browserDataList[i].identity;\n            version = getBrowserVersion(currentUserAgent, versionSearchString);\n            browser = browserDataList[i].identity;\n            return { browser, version };\n        };\n    }\n    return { browser, version };\n}\n\n/**\n * Return browser version\n * @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n * @param {string} versionSearchString - A version search string to get a version number from a userAgent string\n * @returns {string} Browser version number\n */\nfunction getBrowserVersion(userAgent, versionSearchString) {\n    var index = userAgent.indexOf(versionSearchString);\n    if (index == -1) {\n        return;\n    }\n    return parseFloat(userAgent.substring(index + versionSearchString.length + 1));\n}\n\n// Platform\n\n/**\n * Return true if the env is Mac\n * @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n * @returns {boolean} True if the env is Mac\n */\nfunction isMac(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    return currentUserAgent.indexOf('Mac') > -1 && !/iPad|iPhone|iPod/.test(currentUserAgent);\n}\n/**\n * Return true if the env is Window\n * @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n * @returns {boolean} True if the env is Window\n */\nfunction isWindows(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    return currentUserAgent.indexOf('Win') > -1;\n}\n\n// OS\n\n/**\n * Return true if the env is Android\n * @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n * @returns {boolean} True if the env is Android\n */\nfunction isAndroid(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    return currentUserAgent.search(/android/i) > -1 && currentUserAgent.indexOf('Win')=== -1;\n}\n/**\n * Return true if the env is IOS\n * @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n * @returns {boolean} True if the env is IOS\n */\nfunction isIos(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    return /iPad|iPhone|iPod/.test(currentUserAgent) && !window.MSStream;\n}\n/**\n * Return IOS Version\n * @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n * @returns {float} IOS Version number\n */\nfunction getiOSVersion(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    if(!isIos(currentUserAgent)){\n        return null;\n    }\n\n    var match = currentUserAgent.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n    var version;\n\n    if (match !== undefined && match !== null) {\n        version = [\n            parseInt(match[1], 10),\n            parseInt(match[2], 10),\n            parseInt(match[3] || 0, 10)\n        ];\n        return parseFloat(version.join('.'));\n    }\n\n    return false;\n}\n\n// IE\n\n/**\n * Return true if the browser is IE\n * @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n * @returns {boolean} True if the browser is IE\n */\nfunction isIE(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    let currentBrowser = browser;\n    if (userAgent || !browser) {\n        currentBrowser = getBrowserData(currentUserAgent, BROWSERS_DATA).browser;\n    }\n    return currentBrowser === 'Explorer';\n}\n\n/**\n * Return IE version\n * @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n * @returns {integer} IE version number\n */\n// note: only works for IE 10 and down, returns null otherwise so use specific detection\n// for ie11 or edge\nfunction getIEVersion(userAgent) {\n    var myNav = userAgent.toLowerCase();\n    return (myNav.indexOf('msie') != -1) ? parseInt(myNav.split('msie')[1]) : null;\n}\n\n/**\n * Return true if the browser is IE 11\n * @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n * @returns {boolean} True if the browser is IE 11\n */\nfunction isIE11(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    let ieVersion = version || getBrowserData(currentUserAgent, BROWSERS_DATA).version;\n    return isIE(userAgent) && ieVersion == '11';\n}\n\n/**\n * DEPRECATED: Return true if Loop is supporting the current browser\n * Use `is-supported/index.js` in favor of this function. This browser support\n * detection code fails to run on older browsers.\n *\n * @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n * @returns {boolean} True if Loop is supporting the current browser\n */\nfunction legacyIsSupported(userAgent) {\n    const isIE11OrLess = isIE(userAgent) && getIEVersion(userAgent) && getIEVersion(userAgent) <= 11;\n    return !isIE11OrLess && supportsModernSyntax;\n}\n\n/**\n * Return true if the browser is Edge\n * @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n * @returns {boolean} True if the browser is Edge\n */\nfunction isEdge(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    return /Edge\\/\\d./i.test(currentUserAgent);\n}\n\nlet mobile;\n\n/**\n* sets mobile variable with a given boolean value for testing purposes\n* @param {boolean} isMobile - pass in a boolean value to set the local `mobile` variable\n*/\nfunction setMobile(isMobile) {\n    mobile = isMobile;\n}\n/**\n* Return true if the env is a mobile device\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the env is a mobile device\n*/\nfunction isMobile(userAgent) {\n    if (mobile) return mobile;\n    const currentUserAgent = userAgent || navigator.userAgent;\n    mobile = /iP(hone|od)|Android(.*mobile)|BlackBerry|IEMobile/i.test(currentUserAgent||navigator.vendor||window.opera);\n    return mobile;\n}\n\n/**\n* Return true if the device is an iPad\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the device is an iPad\n*/\nfunction isIpad(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    //The Overly Explicit 90% Solution https://gist.github.com/dalethedeveloper/1503252\n    const ipad = /iPad/.test(currentUserAgent || navigator.vendor || window.opera);\n    // iPad OS starts sending desktop UA from version 13, we need to combine it with a feature detection\n    // to make sure it's an iPad.\n    // https://github.com/serbanghita/Mobile-Detect/issues/795\n    // This will work unless one day, Apple decided to ship a Macbook with... a touch screen.\n    const ipados = /Macintosh/.test(currentUserAgent) && 'ontouchend' in document;\n    return ipad || ipados;\n}\n\n/**\n* Return true if the device is an iPhone\n* @returns {boolean} True if the env is an iPhone\n*/\nfunction isIphone(userAgent) {\n    return isMobile(userAgent) && isIos(userAgent);\n}\n\n// Browser\n\n/**\n* Return true if the browser is Chrome\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the browser is Chrome\n*/\nfunction isChrome(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    let currentBrowser = browser;\n    if (userAgent || !browser) {\n        currentBrowser = getBrowserData(currentUserAgent, BROWSERS_DATA).browser;\n    }\n    return currentBrowser == \"Chrome\";\n}\n\n/**\n* Return true if the browser is Safari\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the browser is Safari\n*/\nfunction isSafari(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    let currentBrowser = browser;\n    if (userAgent || !browser) {\n        currentBrowser = getBrowserData(currentUserAgent, BROWSERS_DATA).browser;\n    }\n    return currentBrowser == \"Safari\";\n}\n\n/**\n* Return true if the browser is FireFox\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the browser is FireFox\n*/\nfunction isFirefox(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    let currentBrowser = browser;\n    if (userAgent || !browser) {\n        currentBrowser = getBrowserData(currentUserAgent, BROWSERS_DATA).browser;\n    }\n    return currentBrowser == \"Firefox\";\n}\n\n/**\n* Return true if the os is Chrome_ios\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the os is Chrome_ios\n*/\nfunction isChromeIos(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    let currentBrowser = browser;\n    if (userAgent || !browser) {\n        currentBrowser = getBrowserData(currentUserAgent, BROWSERS_DATA).browser;\n    }\n    return currentBrowser === 'Chrome_ios';\n}\n\n// Tablets\n\n/**\n* Return true if the device is SurfaceTablet\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the device is SurfaceTablet\n*/\nfunction isSurfaceTablet(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    return (/Mozilla.*MSIE.*; Windows NT.*; Touch/).test(currentUserAgent);\n}\n\n/**\n* Return true if the device is AndroidTablet\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the device is AndroidTablet\n*/\nfunction isAndroidTablet(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    return /(android(?!.*mobile))/i.test(currentUserAgent);\n}\n\n/**\n* Return true if the env is SamsungInternet\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the env is SamsungInternet\n*/\nfunction isSamsungInternet(userAgent) {\n    const currentUserAgent = userAgent || navigator.userAgent;\n    return /(SamsungBrowser)/i.test(currentUserAgent);\n}\n\n/**\n* Return true if the device is AndroidMobile\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the device is AndroidMobile\n*/\nfunction isAndroidMobile(userAgent) {\n    return isAndroid(userAgent) && !isAndroidTablet(userAgent);\n}\n\n/**\n* Return true if the broswer is Safari and os is ios\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the broswer is Safari and os is ios\n*/\nfunction isSafariIos(userAgent) {\n    return isIos(userAgent) && isSafari(userAgent) && !isChromeIos(userAgent);\n}\n\n/**\n* Return true if the env is ChromeAndroid\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the env is ChromeAndroid\n*/\nfunction isChromeAndroid(userAgent) {\n    return isChrome(userAgent) && isAndroid(userAgent);\n}\n\n/**\n* Return true if the device is tablet\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the device is tablet\n*/\nfunction isTablet(userAgent) {\n    return isIpad(userAgent) || isAndroidTablet(userAgent) || isSurfaceTablet(userAgent);\n}\n\n/**\n* Return true if the device is Mobile Or Tablet\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the device is Mobile Or Tablet\n*/\nfunction isMobileOrTablet(userAgent) {\n    return isMobile(userAgent) || isTablet(userAgent);\n}\n\n/**\n* Return device type\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {string} Device type, \"Desktop\", \"Tablet\", or \"Mobile\"\n*/\nfunction getDeviceType(userAgent) {\n    var type = \"Desktop\";\n    if(isTablet(userAgent)){\n        type = \"Tablet\";\n    }\n    else if(isMobile(userAgent)){\n        type = \"Mobile\";\n    }\n    return type;\n}\n\n/**\n* Return device type\n* @param {string} [userAgent] - A user agent string. It is optional. If not given, global `navigator.userAgent` will be used.\n* @returns {boolean} True if the device is Desktop\n*/\nfunction isDesktop(userAgent) {\n    return getDeviceType(userAgent) === \"Desktop\";\n}\n\n/**\n* Return true if recording is supported\n* @returns {boolean} True if the env supports recording\n*/\nfunction isRecordingSupported() {\n    // LPL-22540: We currently rely on the MediaRecorder API for uploading video, once we find\n    // a different approach to support other browsers, will need to change this logic.\n    return typeof window.MediaRecorder === 'function' || isIos();\n}\n\n/**\n* Return true if apple wallet is supported\n* @returns {boolean} True if the env supports apple wallet\n*/\nfunction appleWalletSupported() {\n    return window.ApplePaySession && ApplePaySession.canMakePayments();\n}\n\n/**\n* Return true if window name is messenger_ref\n* @returns {boolean} True if window name is messenger_ref\n*/\nfunction isMessenger() {\n    return window.name === \"messenger_ref\";\n    // removing these checks as it messes up when opening up normal shop checkout flows from a FACEBOOK app webview\n    // ...this may cause regression on messenger, so when we reintroduce that this may need to be revisted\n    //|| window.name === \"facebook_ref\" || (navigator.userAgent.indexOf(\"FBAN\") > -1) || (navigator.userAgent.indexOf(\"FBAV\") > -1);\n}\n\n/**\n* Return true if color preference is set to dark mode\n* @returns {boolean} True if env is dark mode\n*/\nfunction isDarkMode() {\n    return window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n}\n\n/**\n* Return true if color preference is set to light mode\n* @returns {boolean} True if env is light mode\n*/\nfunction isLightMode() {\n    return window.matchMedia(\"(prefers-color-scheme: light)\").matches;\n}\n\n/**\n* Return true if env has no color preference\n* @returns {boolean} True if env has no color preference\n*/\nfunction noColorPreference() {\n    return window.matchMedia(\"(prefers-color-scheme: no-preference)\").matches;\n}\n\n/**\n* Return color scheme\n* @returns {string} Color preference, \"light\", \"dark\", or \"none\"\n*/\nfunction getColorScheme() {\n    if(noColorPreference()){\n        return 'none';\n    }\n    else if(isLightMode()){\n        return 'light';\n    }\n    else if(isDarkMode()){\n        return 'dark';\n    }\n    return null;\n}\n\n\n\n\n/***/ }),\n\n/***/ \"./src/constants.js\":\n/*!**************************!*\\\n  !*** ./src/constants.js ***!\n  \\**************************/\n/*! exports provided: ERR_SYF, EVT_CLICK, EVT_MESSAGE, EVT_MOUSEENTER, EVT_MOUSELEAVE, EVT_OFFER_DISPLAYED, EVT_CTA_HOVERED, EVT_CTA_CLICKED, EVT_SYF_READY, EVT_WIDGET_READY, EVT_WIDGET_CONTENT_REFRESH, LOCALSTORAGE_NAME */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ERR_SYF\", function() { return ERR_SYF; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVT_CLICK\", function() { return EVT_CLICK; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVT_MESSAGE\", function() { return EVT_MESSAGE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVT_MOUSEENTER\", function() { return EVT_MOUSEENTER; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVT_MOUSELEAVE\", function() { return EVT_MOUSELEAVE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVT_OFFER_DISPLAYED\", function() { return EVT_OFFER_DISPLAYED; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVT_CTA_HOVERED\", function() { return EVT_CTA_HOVERED; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVT_CTA_CLICKED\", function() { return EVT_CTA_CLICKED; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVT_SYF_READY\", function() { return EVT_SYF_READY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVT_WIDGET_READY\", function() { return EVT_WIDGET_READY; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EVT_WIDGET_CONTENT_REFRESH\", function() { return EVT_WIDGET_CONTENT_REFRESH; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LOCALSTORAGE_NAME\", function() { return LOCALSTORAGE_NAME; });\nconst ERR_SYF = 'SYF-ERROR';\n\nconst EVT_CLICK = 'click';\nconst EVT_MESSAGE = 'message';\nconst EVT_MOUSEENTER = 'mouseenter';\nconst EVT_MOUSELEAVE = 'mouseleave';\nconst EVT_OFFER_DISPLAYED = 'offer-displayed';\nconst EVT_CTA_HOVERED = 'cta-hovered';\nconst EVT_CTA_CLICKED = 'cta-hovered';\nconst EVT_SYF_READY = 'syf-ready';\nconst EVT_WIDGET_READY = 'widget-ready';\nconst EVT_WIDGET_CONTENT_REFRESH ='widget-content-refresh';\nconst LOCALSTORAGE_NAME = 'syf-user';\n\n\n/***/ }),\n\n/***/ \"./src/syf-widget-loader.js\":\n/*!**********************************!*\\\n  !*** ./src/syf-widget-loader.js ***!\n  \\**********************************/\n/*! exports provided: widget_loader */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"widget_loader\", function() { return widget_loader; });\nfunction widget_loader() {\n\n  window.__syf_widget_loadstart__ = new Date().getTime();\n  window.__syf__ = window.__syf__ || {};\n  window.__syf__.snippetStart = new Date().getTime();\n  window.__syf__.snippetExecuted = true;\n  window.__syf__.url = \"syf-widget.js?partnerId=PI53421676&cid=unifitest\";\n  window.__syf__.on = true; // eslint-disable-line no-undef\n  window.__syf__.productCatageryNames = \"\";\n  window.__syf__.flowType = \"PDP\";\n  window.__syf__.subFlowType = \"undefined\";\n  window.__syf__.productAttributes = \"\";\n  \n  // uncomment for local testing\n  // return true;\n  // Cross site scripting redirection\n\n  // var urlPattern = /^((http[s]):\\/)?\\/?([^:\\/\\s]+)(\\/)([\\w\\-\\.]+[^#?\\s]+)(.*)?(?:\\?|\\&)(?<key>[\\w]+)(?:\\=|\\&?)(?<value>[\\w+,.-]*)$/;\n\n  // var urlPattern1 = /^https?:\\/\\/(?:www\\.)?([-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b)*(\\/[\\/\\d\\w\\.-]*)*(?:[\\?]*)$/;\n  // if (urlPattern.test(\"https://qwidgets.syfpos.com\") || urlPattern1.test(\"https://qwidgets.syfpos.com\")) {\n    return true;\n  // } \n  // else {     \n  //   console.log(\"Not a valid Url, Please close the browser window\");\n  //   return false\n  // }    \n};\n\n/***/ }),\n\n/***/ \"./src/syf-widget.js\":\n/*!***************************!*\\\n  !*** ./src/syf-widget.js ***!\n  \\***************************/\n/*! no exports provided */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils.js\");\n/* harmony import */ var _analytics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./analytics */ \"./src/analytics.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ \"./src/constants.js\");\n/* harmony import */ var _syf_widget_loader__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./syf-widget-loader */ \"./src/syf-widget-loader.js\");\n\n\n\n\n\n\n\n\n\n(function widgetInit() {\n  let widget_enable = Object(_syf_widget_loader__WEBPACK_IMPORTED_MODULE_3__[\"widget_loader\"])();\n  if (widget_enable === true) {\n    startWidget();\n  }\n})();\n\nfunction startWidget() {\n  if (!window.__syf__.on) {\n    return;\n  }\n\n  window.__syf_widget_loadend__ = Date.now();\n  let dbuyData = { form: null, object: null };\n  const jsonString = __webpack_require__(/*! safe-stable-stringify */ \"./node_modules/safe-stable-stringify/index.js\");\n\n  const config = {\"colors\":{\"base\":\"#282828\",\"test\":\"test\",\"point\":\"#ab1005\"},\"fontSize\":\"14px\",\"marginBottom\":\"32px\",\"priceElement\":\".sync-price\",\"widgetElement\":\".sync-price\",\"observingTarget\":\"#product-content\",\"multiWidgetProps\":{\"enableObserver\":true,\"multiProductWidget\":\"mproduct-widget\",\"multiProductElement\":\"#mproduct-container\",\"multiProductOfferText\":\"Buy Now, Pay Over Time\",\"multiProductTagElement\":\"#syf-tags\",\"multiProductObservingTarget\":\"#mproduct-price\"},\"trustedDomains\":[\"https://qwidgets.syfpos.com\",\"https://dpdpone.syfpos.com/mit\",\"https://qpdpone.syfpos.com\",\"http://localhost:3000/home\",\"http://localhost:9080\",\"https://synchrony-devstore-unifi.myshopify.com\",\"http://ec2-3-226-168-54.compute-1.amazonaws.com/magento2.4\",\"http://ec2-3-238-23-63.compute-1.amazonaws.com\",\"https://synchrony-devstore-unifi.myshopify.com\",\"https://dshop.mysynchrony.com\",\"https://qshop.mysynchrony.com\",\"https://synchrony-test-store-2.myshopify.com\",\"https://www.huckleberrybikes.com\",\"https://synchrony-devstore-unifi.myshopify.com\",\"https://synchrony-devstore-unifi.myshopify.com\",\"https://dwidgets.syfpos.com\",\"https://qwidgets.syfpos.com\",\"https://eemerchant.myshopify.com\",\"https://pwidgets.syfpos.com\",\"https://ppdpone.syfpos.com\",\"https://qa.unifitestsite.com\",\"https://ecarts-qa.syf.com\"]}; // eslint-disable-line no-undef\n\n  if (config.trustedDomains) {\n    config.trustedDomains.push(\"https://qwidgets.syfpos.com\");\n  } else {\n    config.trustedDomains = [\"https://qwidgets.syfpos.com\"];\n  }\n\n  /**\n   * returns {Number|null} price\n   */\n  const getPrice = () => {\n    const priceElement = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getElement\"])(config.observingTarget, \"price\");\n    if (!priceElement) {\n      // sendAnalytics(ERR_SYF, { error: `price element '${config.observingTarget}' not found` });\n      return null;\n    }\n    return Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"parsePrice\"])(priceElement.innerText);\n  };\n\n  const getProductCatogeries = () => {\n    if (window.__syf__.productCatageryNames !== null) {\n      return window.__syf__.productCatageryNames;\n    } else {\n      return \"\";\n    }\n  };\n\n  const getFlowType = () => {\n    if (window.__syf__.flowType !== null) {\n      return window.__syf__.flowType;\n    } else {\n      return \"\";\n    }\n  };\n\n  const getProductAttributes = () => {\n    if (window.__syf__.productAttributes !== null) {\n      return window.__syf__.productAttributes;\n    } else {\n      return \"\";\n    }\n  };\n\n  const isEventSourceSYF = eventSource => {\n    let allowedDomains = [...config.trustedDomains];\n    for (let i = 0; i < allowedDomains.length; i++) {\n      if (allowedDomains[i].includes(eventSource)) {\n        return true;\n      }\n    }\n    return false;\n  };\n  const getSeamlessApplyBuyCookie = () => {\n    let nameEQ = \"syfToken\" + \"=\";\n    let ca = document.cookie.split(\";\");\n    for (let i = 0; i < ca.length; i++) {\n      let c = ca[i];\n      while (c.charAt(0) == \" \") c = c.substring(1, c.length);\n      if (c.indexOf(nameEQ) == 0) {\n        let token = c.substring(nameEQ.length, c.length);\n        if (token.includes(\"PI53421676\")) return token;\n      }\n    }\n    return \"MPP\";\n  };\n\n  const getWidgetContainer = () => {\n    let elements = [];\n    let widgetClassNames = [];\n    if (config.widgetElement) widgetClassNames.push(config.widgetElement);\n    if (config.widgetElementPLCC)\n      widgetClassNames.push(config.widgetElementPLCC);\n    if (config.widgetElementSETPAY)\n      widgetClassNames.push(config.widgetElementSETPAY);\n    elements = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getElement\"])(widgetClassNames, \"widget\");\n    elements.map(element => {\n      if (element == null) {\n        // sendAnalytics(ERR_SYF, { error: `widget element '${config.widgetElement} not found`});\n      } else {\n        let dbuyForm = element.dataset.dbuyForm;\n        if (undefined === dbuyForm) {\n          let dbuyJSON = element.dataset.dbuyJson;\n          if (undefined !== dbuyJSON) {\n            try {\n              let dbuyObject = JSON.parse(dbuyJSON);\n              dbuyData[\"object\"] = dbuyObject;\n            } catch (exception) {\n              let dbuyObject = window[dbuyJSON];\n              if (undefined !== dbuyObject) {\n                dbuyData[\"object\"] = dbuyObject;\n              }\n            }\n\n            dbuyData[\"form\"] = null;\n          }\n        } else {\n          dbuyData[\"form\"] = document.getElementById(dbuyForm);\n          dbuyData[\"object\"] = null;\n        }\n      }\n    });\n    return elements;\n  };\n\n  let price = getPrice();\n  let flowType = getFlowType();\n  let existingCookie = getSeamlessApplyBuyCookie();\n  let productCatogery = getProductCatogeries();\n  let productAttributes = getProductAttributes();\n  let syfWidgetToken = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getFeatureFlagsCookie\"])();\n  let childSyfPartnerId = String(\"undefined\");\n  let partnerCode = String(\"undefined\");\n  let childSyfMerchantNumber = String(\"undefined\");\n  const processInd = String(\" \");\n  let dataToPassUpdateOffer = {\n    price,\n    existingCookie,\n    productCatogery,\n    flowType,\n    syfWidgetToken\n  };\n  if (productAttributes)\n    dataToPassUpdateOffer.productAttributes = productAttributes;\n\n  let prequalFlag = String(true);\n\n  if (!price) {\n    return;\n  } \n\n  const sessionId = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"setSessionCookie\"])(\"PI53421676\");\n\n  const container = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])({\n    tag: \"div\",\n    attributes: {\n      id: \"syf-iframe-container\"\n    },\n    styles: {\n      \"z-index\": 160000000,\n      position: \"fixed\",\n      top: 0,\n      left: 0,\n      right: 0,\n      height: \"100%\",\n      width: \"100%\",\n      overflow: \"auto\",\n      display: \"none\"\n    }\n  });\n\n  /* iframe wrapper */\n  const wrapper = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])({\n    tag: \"div\",\n    attributes: {\n      id: \"syf-iframe-wrapper\"\n    },\n    styles: {\n      position: \"relative\",\n      width: \"600px\",\n      height: \"350px\",\n      margin: \"100px auto\"\n    }\n  });\n\n  /* iframe for offers api calls */\n  let additionalParams = \"\";\n  if (childSyfPartnerId && childSyfPartnerId != \"undefined\") {\n    additionalParams += \"&childSyfPartnerId=\" + childSyfPartnerId;\n    dataToPassUpdateOffer.childSyfPartnerId = childSyfPartnerId;\n  }\n  if (partnerCode && partnerCode != \"undefined\") {\n    additionalParams += \"&partnerCode=\" + partnerCode;\n    dataToPassUpdateOffer.partnerCode = partnerCode;\n  }\n  if (childSyfMerchantNumber && childSyfMerchantNumber != \"undefined\") {\n    additionalParams += \"&childSyfMerchantNumber=\" + childSyfMerchantNumber;\n    dataToPassUpdateOffer.childSyfMerchantNumber = childSyfMerchantNumber;\n  }\n  if (processInd && processInd != \"undefined\") {\n    dataToPassUpdateOffer.processInd = processInd;\n  }\n  const syfIframe = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"])({\n    tag: \"IFRAME\",\n    attributes: {\n      id: \"syf-internal-wrapper\",\n      src:\n        \"https://qwidgets.syfpos.com/syf-widget-internal.html?partnerId=PI53421676&flowType=\" +\n        flowType +\n        additionalParams +\n        \"&subFlowType=\" +\n        \"&cid=unifitest\"\n    },\n    styles: {\n      display: \"none\"\n    }\n  });\n  syfIframe.loading = \"eager\";\n\n  document.body.appendChild(container);\n  container.appendChild(wrapper);\n  wrapper.appendChild(syfIframe);\n\n  /**\n   *\n   * @param {Object}\n   *            cta HTMLElement to attach the onClick event to\n   */\n  const activateCTA = (cta, desc, offer, price, widgetType) => {\n    if (cta !== null) {\n      cta.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_2__[\"EVT_CLICK\"], () => {\n        let existingCookie = getSeamlessApplyBuyCookie();\n        const syfWidgetToken = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getCookieValue\"])(\"syf-widget-token\");\n        // sendAnalytics(EVT_CTA_CLICKED);\n        syfIframe.contentWindow.postMessage(\n          jsonString({\n            syfToken: existingCookie,\n            productDescription: desc.textContent,\n            offerText: cta.textContent,\n            offerType: offer.textContent,\n            price: price.textContent,\n            widgetType: widgetType.textContent,\n            syfWidgetToken: syfWidgetToken,\n            isLearnHowClicked: true\n          }),\n          \"https://qwidgets.syfpos.com\"\n        );\n      });\n    }\n  };\n\n  const injectMPPScript = () => {\n    if (document.getElementById(\"syfMPPScript\") === null) {\n      const syfMPPScript = document.createElement(\"script\");\n      syfMPPScript.setAttribute(\"id\", \"syfMPPScript\");\n      syfMPPScript.setAttribute(\"type\", \"text/javascript\");\n      syfMPPScript.src = \"https://qpdpone.syfpos.com/mpp/UniFi.js\";\n      document.head.appendChild(syfMPPScript);\n    }\n  };\n\n  const updateOffer = (offers, price, widgetType) => {\n    const containers = getWidgetContainer();\n    containers.map(container => {\n      const offerContainer = container;\n      if (container) {\n        if (offers != null) {\n          offerContainer.innerHTML = \"\";\n          const {\n            widgetContentResponse: offersList,\n            widgetCustomize: {\n              justify = \"left\",\n              cssStyle = \"\",\n              showCard = \"true\",\n              showCardName = \"false\",\n              revolvingCardWidth,\n              setpayCardWidth\n            },\n            cardName\n          } = offers;\n          // filtering offers based on className and Adding Id\n          let newWidgetOffers = [];\n\n          if (\".\" + offerContainer.className === config.widgetElement) {\n            offerContainer.setAttribute(\"id\", \"syf-promo\");\n            newWidgetOffers = offersList;\n          } else if (\n            \".\" + offerContainer.className ===\n            config.widgetElementPLCC\n          ) {\n            offerContainer.setAttribute(\"id\", \"syf-plcc\");\n            newWidgetOffers = offersList.filter(\n              offer => offer.productDescription === \"Revolving\"\n            );\n          } else if (\n            \".\" + offerContainer.className ===\n            config.widgetElementSETPAY\n          ) {\n            offerContainer.setAttribute(\"id\", \"syf-setpay\");\n            newWidgetOffers = offersList.filter(\n              offer =>\n                offer.productDescription === \"SetPAY\" ||\n                offer.productDescription === \"SetPAYIn4\"\n            );\n          } else {\n            offerContainer.setAttribute(\"id\", \"syf-promo\");\n            newWidgetOffers = offersList;\n          }\n          newWidgetOffers.forEach(offer => {\n            var widgetText = \"\";\n\n            if (`${offer.content}` != \"noOfferAvbl\") {\n              if (showCard === \"true\") {\n                widgetText += `<div><img id=\"${offer.productDescription}\" alt=\"${offer.cardTitle}\" title=\"${offer.cardTitle}\" src=\"${offer.cardArtImageUrl}\" /></div>`;\n              }\n\n              if (`${offer.linkText}` != \"\") {\n                widgetText += `\n                    <div class=\"offer-content syf-offer\">${\n                      showCardName === \"true\" &&\n                      cardName &&\n                      ![\"SetPAYIn4\", \"SetPAY\"].includes(\n                        offer.productDescription\n                      )\n                        ? `<b>${cardName}: </b>`\n                        : \"\"\n                    }${offer.content}\n                    <a style=\"cursor:pointer;white-space:nowrap;\" id='' class=\"syf-cta\" tabIndex=\"0\">${\n                      offer.linkText\n                    }</a>\n                    </div>`;\n                widgetText += `<p  class=\"syf-desc\" hidden>${offer.productDescription}<p>`;\n                widgetText += `<p  class=\"syf-price\" hidden>${price}<p>`;\n                widgetText += `<p  class=\"syf-widget-type\" hidden>${widgetType}<p>`;\n              } else {\n                widgetText += `\n                <div class=\"offer-content syf-offer\">${\n                  showCardName === \"true\" &&\n                  cardName &&\n                  ![\"SetPAYIn4\", \"SetPAY\"].includes(offer.productDescription)\n                    ? `<b>${cardName}: </b>`\n                    : \"\"\n                }\n                ${offer.content}\n                </div>`;\n              }\n              var divElement = document.createElement(\"div\");\n              divElement.className = \"widget-box\";\n              divElement.innerHTML = widgetText;\n              offerContainer.appendChild(divElement);\n            }\n          });\n\n          const cta = document.getElementsByClassName(\"syf-cta\");\n          injectMPPScript();\n\n          for (let i = 0; i < cta.length; i++) {\n            activateCTA(\n              document.getElementsByClassName(\"syf-cta\")[i],\n              document.getElementsByClassName(\"syf-desc\")[i],\n              document.getElementsByClassName(\"syf-offer\")[i],\n              document.getElementsByClassName(\"syf-price\")[i],\n              document.getElementsByClassName(\"syf-widget-type\")[i]\n            );\n          }\n\n          // sendAnalytics(EVT_OFFER_DISPLAYED, { offer });\n\n          /* middle aligned */\n          if (justify === \"middle\") {\n            Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"insertCSS\"])(`\n                  .widget-box {\n                    text-align: center;\n                  }\n                  .widget-box #Revolving {\n                    width: ${revolvingCardWidth};\n                    vertical-align:text-bottom;\n                  }\n                  .widget-box #SetPAY , .widget-box #SetPAYIn4 {\n                    width: ${setpayCardWidth};\n                    vertical-align:text-bottom;\n                  }\n                `);\n          }\n\n          /* left aligned */\n          if (justify === \"left\") {\n            Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"insertCSS\"])(`\n                    .widget-box {\n                      display: flex;\n                      align-items: center;\n                    }\n                    .widget-box #Revolving {\n                      min-width: ${revolvingCardWidth};\n                      width: ${revolvingCardWidth};\n                    }\n                    .widget-box #SetPAY , .widget-box #SetPAYIn4 {\n                      min-width: ${setpayCardWidth};\n                      width: ${setpayCardWidth};\n                    }\n                    .widget-box .offer-content{\n                      padding-left: 5px;\n                    }\n                `);\n          }\n\n          /* right aligned */\n          if (justify === \"right\") {\n            Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"insertCSS\"])(`\n                    .widget-box {\n                      text-align: right;\n                    }\n                    .widget-box #Revolving {\n                      width: ${revolvingCardWidth};\n                      vertical-align:text-bottom;\n                    }\n                    .widget-box #SetPAY , .widget-box #SetPAYIn4  {\n                      width: ${setpayCardWidth};\n                      vertical-align:text-bottom;\n                    }\n                `);\n          }\n\n          Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"insertCSS\"])(`\n          #syf-promo, #syf-plcc, #syf-setpay {\n            color: ${config.colors.base};\n            display: block;\n            font-size: ${config.fontSize};\n          }\n          .syf-cta {\n            color: ${config.colors.point};\n            font-weight: 500;\n            text-decoration: none;\n          }\n          .widget-box:not(:last-child) {\n            margin-bottom: ${config.marginBottom};\n        }\n        `);\n          //sendAdobeAnalyticsForWidget('PI53421676', 'Electronic Express', null, offer.content,'load',offer.linkText);\n        } else {\n          offerContainer.innerHTML = ``;\n        }\n      }\n    });\n  };\n\n  // messages coming back from the iframe\n  const eventListenerFunction = event => {\n    try {\n      if (isEventSourceSYF(event.origin)) {\n        const _data = JSON.parse(event.data);\n        if (_data.event === _constants__WEBPACK_IMPORTED_MODULE_2__[\"EVT_SYF_READY\"]) {\n          // once the iFrame is ready, send over the postmessage for price\n          // and\n          // session id\n          Object(_analytics__WEBPACK_IMPORTED_MODULE_1__[\"init\"])(syfIframe, {\n            loadstart: window.__syf_widget_loadstart__,\n            loadend: window.__syf_widget_loadend__,\n            sessionId\n          });\n\n          if (price != null) {\n            if (\n              syfIframe.contentWindow === undefined ||\n              syfIframe.contentWindow === null\n            ) {\n              window.removeEventListener(\n                _constants__WEBPACK_IMPORTED_MODULE_2__[\"EVT_MESSAGE\"],\n                eventListenerFunction,\n                false\n              );\n            } else {\n\n              let currentPriceChgEventNbr = Date.now();\n              // randomId = randomId +'-'+price;\n              window.__syf__.currentPriceChgEventNbr = currentPriceChgEventNbr;\n              window.__syf__.currentPrice = price;\n              // console.log(\n              //   \"tracking currentPriceChgEventNbr 1= \" +\n              //     currentPriceChgEventNbr +\n              //     \", price = \" +\n              //     price\n              // );\n              dataToPassUpdateOffer.currentPriceChgEventNbr = currentPriceChgEventNbr;\n              dataToPassUpdateOffer.sessionId = sessionId;\n              dataToPassUpdateOffer.syfWidgetToken = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getFeatureFlagsCookie\"])();\n              dataToPassUpdateOffer.existingCookie = getSeamlessApplyBuyCookie();\n              dataToPassUpdateOffer.price = getPrice();\n              syfIframe.contentWindow.postMessage(\n                jsonString(dataToPassUpdateOffer),\n                \"https://qwidgets.syfpos.com\"\n              );\n            }\n          }\n        }\n        //update widget content on refresh event\n        if (_data.event === _constants__WEBPACK_IMPORTED_MODULE_2__[\"EVT_WIDGET_CONTENT_REFRESH\"]) {\n          if (\n            syfIframe.contentWindow === undefined ||\n            syfIframe.contentWindow === null\n          ) {\n            window.removeEventListener(\n              _constants__WEBPACK_IMPORTED_MODULE_2__[\"EVT_MESSAGE\"],\n              eventListenerFunction,\n              false\n            );\n          } else {\n            let currentPriceChgEventNbr = Date.now();\n            // randomId = randomId +'-'+price;\n            window.__syf__.currentPriceChgEventNbr = currentPriceChgEventNbr;\n            // console.log(\n            //   \"tracking EVT_WIDGET_CONTENT_REFRESH currentPriceChgEventNbr = \" +\n            //     currentPriceChgEventNbr +\n            //     \" price= \" +\n            //     price\n            // );\n            dataToPassUpdateOffer.currentPriceChgEventNbr = currentPriceChgEventNbr;\n            dataToPassUpdateOffer.syfWidgetToken = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getFeatureFlagsCookie\"])();\n            dataToPassUpdateOffer.existingCookie = getSeamlessApplyBuyCookie();\n            dataToPassUpdateOffer.price = getPrice();\n            syfIframe.contentWindow.postMessage(\n              jsonString(dataToPassUpdateOffer),\n              \"https://qwidgets.syfpos.com\"\n            );\n          }\n        }\n\n        if (_data.offer) {\n          const currentPriceChgEventNbr =\n            window.__syf__.currentPriceChgEventNbr;\n          // console.log(\n          //   \"before widget render apiEventNbr =\" +\n          //     _data.offer.apiPriceChgEventNbr +\n          //     \", currentEventNbr = \" +\n          //     currentPriceChgEventNbr\n          // );\n\n          if (currentPriceChgEventNbr == _data.offer.apiPriceChgEventNbr) {\n            // API response is for the most recent user event\n            window.__syf__.lastWidgetLoadEventNbr = currentPriceChgEventNbr;\n            // console.log(\n            //   \"before widget render success currentEventNbr =\" +\n            //     currentPriceChgEventNbr +\n            //     \" currentPrice = \" +\n            //     window.__syf__.currentPrice +\n            //     \" apiEventNbr =\" +\n            //     _data.offer.apiPriceChgEventNbr +\n            //     \" lastWidgetLoadEventNbr = \" +\n            //     window.__syf__.lastWidgetLoadEventNbr\n            // );\n\n            updateOffer(_data.offer, _data.price, _data.widgetType);\n          } else if (\n            window.__syf__.lastWidgetLoadEventNbr < _data.offer.randomId ||\n            _data.offer.content == \"noOfferAvbl\"\n          ) {\n            _data.offer.content = \"noOfferAvbl\";\n            // console.log(\n            //   \"before widget render clearing currentEventNbr =\" +\n            //     currentPriceChgEventNbr +\n            //     \" currentPrice = \" +\n            //     window.__syf__.currentPrice +\n            //     \" apiEventNbr =\" +\n            //     _data.offer.apiPriceChgEventNbr +\n            //     \" lastWidgetLoadEventNbr = \" +\n            //     window.__syf__.lastWidgetLoadEventNbr\n            // );\n            updateOffer(_data.offer, _data.price, _data.widgetType);\n          } else {\n            // console.log(\n            //   \"No widget render for currentEventNbr =\" +\n            //     currentPriceChgEventNbr +\n            //     \" currentPrice = \" +\n            //     window.__syf__.currentPrice +\n            //     \" apiEventNbr =\" +\n            //     _data.offer.apiPriceChgEventNbr +\n            //     \" lastWidgetLoadEventNbr = \" +\n            //     window.__syf__.lastWidgetLoadEventNbr\n            // );\n          }\n        }\n\n        if (_data.isSYFTokenCreated) {\n          document.cookie = _data.syfToken + \";Secure\";\n          let cid_value = \"\";\n          if (window.__syf__.url.split(\"&\").length == 2) {\n            cid_value = window.__syf__.url.split(\"&\")[1].split(\"=\")[1];\n          }\n          syfMPP.openMPPOfferModal({\n            partnerId: String(\"PI53421676\"),\n            amount: String(price),\n            pcgc: \"PCGC\",\n            cid: cid_value,\n            productCategoryNames: getProductCatogeries(),\n            childSyfPartnerId,\n            partnerCode,\n            childSyfMerchantNumber\n          });\n        }\n        if (_data.checkoutLabelDataResponse) {\n          // console.log({\n          //   checkoutLabelDataResponse: _data.checkoutLabelDataResponse,\n          // });\n          window.checkoutLabelDataResponse = _data.checkoutLabelDataResponse;\n        }\n        if (_data.tags) {\n          window.__syf__.productCatageryNames = _data.tags;\n        }\n        if (_data.SYF_token) {\n          window._SYF_token = _data.SYF_token;\n        }\n      }\n    } catch (e) {\n      console.log(\"error in event data :\" + event.data);\n      console.log(e);\n    }\n  };\n\n  window.addEventListener(_constants__WEBPACK_IMPORTED_MODULE_2__[\"EVT_MESSAGE\"], eventListenerFunction, false);\n\n  const element = document.getElementById(\"product-content\");\n  element.addEventListener(\n    \"DOMCharacterDataModified\",\n    () => {\n      if (config.isPriceChangeEventRequired === \"true\") {\n        price = getPrice();\n        window.postMessage(\n          JSON.stringify({\n            event: \"widget-content-refresh\"\n          }),\n          \"*\"\n        );\n      }\n    },\n    false\n  );\n\n  const elementToObserve = config.observingTarget\n    ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getElement\"])(config.observingTarget, \"observingTarget\")\n    : document.body;\n  const getWidget = () => getWidgetContainer();\n  Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"observeDomChanges\"])(\n    records => {\n      const newPrice = getPrice();\n      const widget = getWidget();\n      let validChange = true;\n      if (config.observingTarget) {\n        let name = config.observingTarget;\n        if (name[0] === \"#\" || name[0] === \".\") {\n          name = name.substring(1);\n        }\n        for (let index = 0; index < records.length; index++) {\n          validChange =\n            records[index].target.classList.contains(name) ||\n            records[index].target.id === name;\n          if (validChange) {\n            break;\n          }\n        }\n      }\n      return !widget || (validChange && newPrice !== price);\n    },\n    () => {\n      price = getPrice();\n      flowType = getFlowType();\n      if (price !== null && price !== undefined) {\n        if (\n          syfIframe === undefined ||\n          syfIframe.contentWindow === undefined ||\n          syfIframe === null ||\n          syfIframe.contentWindow === null\n        ) {\n          let name = config.observingTarget;\n          if (name[0] === \"#\" || name[0] === \".\") {\n            name = name.substring(1);\n          }\n          Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"removeDomObserver\"])(name);\n        } else {\n          let currentPriceChgEventNbr = Date.now();\n          // randomId = randomId +'-'+price;\n          window.__syf__.currentPriceChgEventNbr = currentPriceChgEventNbr;\n          window.__syf__.currentPrice = price;\n          // console.log(\n          //   \"tracking currentPriceChgEventNbr 1= \" +\n          //     currentPriceChgEventNbr +\n          //     \", price = \" +\n          //     price\n          // );\n          dataToPassUpdateOffer.syfWidgetToken = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getFeatureFlagsCookie\"])();\n          dataToPassUpdateOffer.existingCookie = getSeamlessApplyBuyCookie();\n          dataToPassUpdateOffer.currentPriceChgEventNbr = currentPriceChgEventNbr;\n          dataToPassUpdateOffer.price = getPrice();\n          syfIframe.contentWindow.postMessage(\n            jsonString(dataToPassUpdateOffer),\n            \"https://qwidgets.syfpos.com\"\n          );\n        }\n      }\n    },\n    elementToObserve,\n    \"price_change\"\n  );\n\n  const widgetContainers = getWidgetContainer();\n\n  widgetContainers.map(widgetContainer => {\n    if (widgetContainer) {\n      let mouseOver = null;\n\n      widgetContainer.addEventListener(\n        _constants__WEBPACK_IMPORTED_MODULE_2__[\"EVT_MOUSEENTER\"],\n        () => {\n          mouseOver = new Date().getTime();\n        },\n        false\n      );\n\n      widgetContainer.addEventListener(\n        _constants__WEBPACK_IMPORTED_MODULE_2__[\"EVT_MOUSELEAVE\"],\n        e => {\n          e.stopPropagation();\n\n          Object(_analytics__WEBPACK_IMPORTED_MODULE_1__[\"sendAnalytics\"])(_constants__WEBPACK_IMPORTED_MODULE_2__[\"EVT_CTA_HOVERED\"], {\n            hovertime: new Date().getTime() - mouseOver\n          });\n          mouseOver = null;\n        },\n        false\n      );\n    }\n  });\n}\n\n\n/***/ }),\n\n/***/ \"./src/utils.js\":\n/*!**********************!*\\\n  !*** ./src/utils.js ***!\n  \\**********************/\n/*! exports provided: parsePrice, throttle, observeDomChanges, removeDomObserver, insertCSS, getElement, setElementStyle, createElement, getSessionCookie, setSessionCookie, getCookieValue, getFeatureFlagsCookie, filterArrayByProperty, sortArrayByProperty, hasClassOrId, debounce */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parsePrice\", function() { return parsePrice; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"throttle\", function() { return throttle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"observeDomChanges\", function() { return observeDomChanges; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeDomObserver\", function() { return removeDomObserver; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"insertCSS\", function() { return insertCSS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getElement\", function() { return getElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setElementStyle\", function() { return setElementStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createElement\", function() { return createElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSessionCookie\", function() { return getSessionCookie; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setSessionCookie\", function() { return setSessionCookie; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCookieValue\", function() { return getCookieValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFeatureFlagsCookie\", function() { return getFeatureFlagsCookie; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"filterArrayByProperty\", function() { return filterArrayByProperty; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sortArrayByProperty\", function() { return sortArrayByProperty; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hasClassOrId\", function() { return hasClassOrId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"debounce\", function() { return debounce; });\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/index.js\");\n/*!\n* Copyright (c) 2018 Loop Commerce Inc. (www.loopcommerce.com).  All rights reserved.\n*/\n\nconst TTL = 7200; //In seconds\n/**\n *\n * @param {String} priceStr\n * @returns {Number} price\n */\nfunction parsePrice(priceStr) {\n  let price = 0;\n  const prices = priceStr.split('-'); // check for range of prices\n\n  prices.forEach((priceText) => { // get max price\n    const p = parseFloat(priceText.replace(/[^\\d.]/g, ''));\n    if (p > price) {\n      price = p;\n    }\n  });\n\n  return price;\n}\n\n\n/**\n *\n * @param {Function} func\n * @param {Number} wait\n * @param {Object} options\n *  `{leading: false}` to disable the execution on the leading edge.\n *  `{trailing: false}` to disable execution on the trailing edge.\n * @returns {Function} a function that will only be triggered at most\n *  once during a given window of time\n */\nconst throttle = (func, wait, options = {}) => {\n  let context;\n  let args;\n  let result;\n  let timeout = null;\n  let previous = 0;\n\n  const later = () => {\n    previous = options.leading === false ? 0 : (new Date()).getTime();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) {\n      context = null;\n      args = null;\n    }\n  };\n  return function callback(...rest) {\n    const now = (new Date()).getTime();\n    if (!previous && options.leading === false) previous = now;\n    const remaining = wait - (now - previous);\n    context = this;\n    args = rest;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      result = func.apply(context, args);\n      if (!timeout) {\n        context = null;\n        args = null;\n      }\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n};\n\nconst domObserver = {\n  \n  handlers : [],\n  \n  add: function(handle) {\n    this.handlers.push(handle);\n  },\n\n  remove: function(name) {\n    this.handlers = this.handlers.filter((handler) => {\n      if (handler.name !== name) {\n        return true;\n      }\n      // add `isRemoving`, since \"remove\" may fire as a cause of a dom change, and\n      // the handler will still exist in the array during a dom-observer callback\n      handler.isRemoving = true;\n      return false;\n    });\n  },\n\n  empty: function() {\n    this.handlers.length = 0;\n  },\n\n  observe: function(obj, callback) {\n    // use DOM mutation observer if available\n    const MutationObserver = window.MutationObserver || window.WebKitMutationObserver;\n    if (MutationObserver) {\n      // define a new observer\n      const obs = new MutationObserver((mutations) => {\n        callback(mutations);\n      });\n      // have the observer observe foo for changes in children\n      obs.observe(obj, { childList: true, subtree: true });\n    } else {\n      // fallback to polling on old and busted browsers\n      setTimeout(() => {\n        callback();\n        domObserver.observe(obj, callback);\n      }, 2000);\n    }\n\n    this.isObserving = true;\n  }\n};\n\n/**\n *\n * @param {Boolean} condition true if callback needs to be run\n * @param {Function} callback it will be executed when there are changes to the `elementToObserve`\n * @param {Element} elementToObserve\n *  element to observe, if it's not given the whole body element will be observed\n * @param {String} name name of the observer\n * @returns {String} name\n */\nconst observeDomChanges = (condition, callback, elementToObserve, name) => {\n  const observerName = name || (`observe_${Date.now()}`);\n  domObserver.add({ condition, callback, name: observerName });\n\n  if (!domObserver.isObserving) {\n    // attach observer to body, since it's the only constant in our life.\n    // throttle to fire handler at most once every 500ms\n    domObserver.observe(elementToObserve || document.body, throttle((records) => {\n      domObserver.handlers.forEach((handler) => {\n        if (handler && !handler.isRemoving && typeof handler.condition === 'function' && handler.condition(records)) {\n          if (typeof handler.callback === 'function') {\n            handler.callback(records);\n          }\n        }\n      });\n    }, 20));\n  }\n  return observerName;\n};\n\n/**\n *\n * @param {String} name name of the observer\n */\nconst removeDomObserver = (name) => {\n  domObserver.remove(name);\n};\n\n/**\n *\n * @param {String} styles css style\n * @param {String} name name of the style\n */\nconst insertCSS = (styles, name) => {\n  const el = document.createElement('style');\n  document.getElementsByTagName('head')[0].appendChild(el);\n\n  if ('textContent' in el) {\n    el.textContent = styles;\n  } else if ('styleSheet' in el) {\n    el.styleSheet.cssText = styles;\n  }\n\n  if (name) {\n    el.setAttribute('data-name', name);\n  }\n};\n\n/**\n *\n * @param {String | Array of Strings} names\n *  id or classnames with its corresponding indicator, `#` or `.`\n * @param {String} elemType add to see detailed console error\n * @returns {Element}\n */\n const getElement = (names, elemType) => {\n  const selectors = Array.isArray(names) ? names : [names];\n  let elements = [];\n  selectors.map((selector) => {\n    if(selector){\n      let element = document.querySelector(selector);\n      return element != null ? elements.push(element) : null;\n    }\n  });\n  return Array.isArray(names) ? elements : elements[0];\n};\n\n/**\n *\n * @param {Element} element element to add style\n * @param {String} styles css style to add to the element\n */\nconst setElementStyle = (element, styles) => {\n  Object.keys(styles).forEach((name) => {\n    element.style.setProperty(name, styles[name]);\n  });\n};\n\n/**\n *\n * @param {Object} options tag attributes, styles, classname\n * @returns {Element} created element with given options\n */\nconst createElement = (options) => {\n  const element = document.createElement(options.tag);\n  if (options.classname) {\n    element.classList.add(...options.classname);\n  }\n  Object.keys(options.attributes).forEach((name) => {\n    element.setAttribute(name, options.attributes[name]);\n  });\n  setElementStyle(element, options.styles);\n  return element;\n};\n\nconst getSessionCookie = () => {\n  return window.sessionStorage.getItem('syf-session');\n}\n\nconst setSessionCookie = (id) => {\n  let sessionId = getSessionCookie();\n  const randomArray = new Uint32Array(1);\n  window.crypto.getRandomValues(randomArray);\n  if (sessionId === null) {\n    sessionId = id ? (id + \"\").substring((id + \"\").length - 7) : \"\";\n    sessionId += (new Date()).getTime() + (randomArray[0] + \"\").substring(2, 8);\n    window.sessionStorage.setItem('syf-session', sessionId);\n  }\n  return sessionId;\n}\n\nconst getSeamlessFeatureFlagsCookie = () => {\n  return getCookieValue('syf-widget-token');\n};\n\nfunction getCookieValue(cookieKey) {\n  const cookiePairs = document.cookie.split(';');\n  let result = null;\n  cookiePairs.forEach((pair) => {\n    const [key, value] = pair.trim().split('=');\n    const decodeKey = decodeURIComponent(key);\n    if(decodeKey === cookieKey) {\n      result = decodeURIComponent(value);\n    }\n  });\n  return result;\n}\n\nconst getNewFeatureFlagsCookie = () => {\n  let distinctId = Object(uuid__WEBPACK_IMPORTED_MODULE_0__[\"v4\"])();\n  document.cookie = \"syf-widget-token\" + \"=\" + distinctId + \"; path=/; max-age=\" + TTL+\";Secure\";\n  return distinctId;\n};\n\nconst getFeatureFlagsCookie = () => {\n  let distinctId = getSeamlessFeatureFlagsCookie();\n  if (!distinctId) {\n    distinctId = getNewFeatureFlagsCookie();\n  }\n  return distinctId;\n};\n\nconst filterArrayByProperty=(array,property,value)=>{\n  return array.filter(function(data){\n    return data[property]===value;\n  })\n}\n\nconst sortArrayByProperty=(array,attr)=>{\n  array.sort(function(firstdata, secondData) {\n    return parseFloat(firstdata[attr]) - parseFloat(secondData[attr]);\n  });\n}\n\nconst hasClassOrId=(element,selector)=>{\n  let selectorValue=selector.replace(/^[.#]/g, \"\")\n  return element.classList.contains(selectorValue) || element.id===selectorValue\n}\n\nconst debounce = (func, delay) => {\n  var debounceTimer\n  return function() {\n      const context = this\n      const args = arguments\n          clearTimeout(debounceTimer)\n              debounceTimer\n          = setTimeout(() => func.apply(context, args), delay)\n  }\n}\n\n/***/ })\n\n/******/ });\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NhZmUtc3RhYmxlLXN0cmluZ2lmeS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbWQ1LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbmlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcGFyc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3NoYTEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92MS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjM1LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZhbGlkYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYW5hbHl0aWNzLmpzIiwid2VicGFjazovLy8uL3NyYy9icm93c2VyLWRldGVjdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL3NyYy9zeWYtd2lkZ2V0LWxvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3lmLXdpZGdldC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtRQUFBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBOzs7UUFHQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMENBQTBDLGdDQUFnQztRQUMxRTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLHdEQUF3RCxrQkFBa0I7UUFDMUU7UUFDQSxpREFBaUQsY0FBYztRQUMvRDs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EseUNBQXlDLGlDQUFpQztRQUMxRSxnSEFBZ0gsbUJBQW1CLEVBQUU7UUFDckk7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwyQkFBMkIsMEJBQTBCLEVBQUU7UUFDdkQsaUNBQWlDLGVBQWU7UUFDaEQ7UUFDQTtRQUNBOztRQUVBO1FBQ0Esc0RBQXNELCtEQUErRDs7UUFFckg7UUFDQTs7O1FBR0E7UUFDQTs7Ozs7Ozs7Ozs7OztBQ2xGWTs7QUFFWixPQUFPLGlCQUFpQjs7QUFFeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtB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YTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEc7QUFDQTs7Ozs7Ozs7Ozs7OztBQzlHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDLEdBQUc7QUFDSjtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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aGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9zeWYtd2lkZ2V0LmpzXCIpO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHsgaGFzT3duUHJvcGVydHkgfSA9IE9iamVjdC5wcm90b3R5cGVcblxuY29uc3Qgc3RyaW5naWZ5ID0gY29uZmlndXJlKClcblxuLy8gQHRzLWV4cGVjdC1lcnJvclxuc3RyaW5naWZ5LmNvbmZpZ3VyZSA9IGNvbmZpZ3VyZVxuLy8gQHRzLWV4cGVjdC1lcnJvclxuc3RyaW5naWZ5LnN0cmluZ2lmeSA9IHN0cmluZ2lmeVxuXG4vLyBAdHMtZXhwZWN0LWVycm9yXG5zdHJpbmdpZnkuZGVmYXVsdCA9IHN0cmluZ2lmeVxuXG4vLyBAdHMtZXhwZWN0LWVycm9yIHVzZWQgZm9yIG5hbWVkIGV4cG9ydFxuZXhwb3J0cy5zdHJpbmdpZnkgPSBzdHJpbmdpZnlcbi8vIEB0cy1leHBlY3QtZXJyb3IgdXNlZCBmb3IgbmFtZWQgZXhwb3J0XG5leHBvcnRzLmNvbmZpZ3VyZSA9IGNvbmZpZ3VyZVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0cmluZ2lmeVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxuY29uc3Qgc3RyRXNjYXBlU2VxdWVuY2VzUmVnRXhwID0gL1tcXHUwMDAwLVxcdTAwMWZcXHUwMDIyXFx1MDA1Y1xcdWQ4MDAtXFx1ZGZmZl18W1xcdWQ4MDAtXFx1ZGJmZl0oPyFbXFx1ZGMwMC1cXHVkZmZmXSl8KD86W15cXHVkODAwLVxcdWRiZmZdfF4pW1xcdWRjMDAtXFx1ZGZmZl0vXG5cbi8vIEVzY2FwZSBDMCBjb250cm9sIGNoYXJhY3RlcnMsIGRvdWJsZSBxdW90ZXMsIHRoZSBiYWNrc2xhc2ggYW5kIGV2ZXJ5IGNvZGVcbi8vIHVuaXQgd2l0aCBhIG51bWVyaWMgdmFsdWUgaW4gdGhlIGluY2x1c2l2ZSByYW5nZSAweEQ4MDAgdG8gMHhERkZGLlxuZnVuY3Rpb24gc3RyRXNjYXBlIChzdHIpIHtcbiAgLy8gU29tZSBtYWdpYyBudW1iZXJzIHRoYXQgd29ya2VkIG91dCBmaW5lIHdoaWxlIGJlbmNobWFya2luZyB3aXRoIHY4IDguMFxuICBpZiAoc3RyLmxlbmd0aCA8IDUwMDAgJiYgIXN0ckVzY2FwZVNlcXVlbmNlc1JlZ0V4cC50ZXN0KHN0cikpIHtcbiAgICByZXR1cm4gYFwiJHtzdHJ9XCJgXG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHN0cilcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U29ydCAoYXJyYXkpIHtcbiAgLy8gSW5zZXJ0aW9uIHNvcnQgaXMgdmVyeSBlZmZpY2llbnQgZm9yIHNtYWxsIGlucHV0IHNpemVzIGJ1dCBpdCBoYXMgYSBiYWRcbiAgLy8gd29yc3QgY2FzZSBjb21wbGV4aXR5LiBUaHVzLCB1c2UgbmF0aXZlIGFycmF5IHNvcnQgZm9yIGJpZ2dlciB2YWx1ZXMuXG4gIGlmIChhcnJheS5sZW5ndGggPiAyZTIpIHtcbiAgICByZXR1cm4gYXJyYXkuc29ydCgpXG4gIH1cbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGFycmF5W2ldXG4gICAgbGV0IHBvc2l0aW9uID0gaVxuICAgIHdoaWxlIChwb3NpdGlvbiAhPT0gMCAmJiBhcnJheVtwb3NpdGlvbiAtIDFdID4gY3VycmVudFZhbHVlKSB7XG4gICAgICBhcnJheVtwb3NpdGlvbl0gPSBhcnJheVtwb3NpdGlvbiAtIDFdXG4gICAgICBwb3NpdGlvbi0tXG4gICAgfVxuICAgIGFycmF5W3Bvc2l0aW9uXSA9IGN1cnJlbnRWYWx1ZVxuICB9XG4gIHJldHVybiBhcnJheVxufVxuXG5jb25zdCB0eXBlZEFycmF5UHJvdG90eXBlR2V0U3ltYm9sVG9TdHJpbmdUYWcgPVxuICBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZihcbiAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZihcbiAgICAgICAgbmV3IEludDhBcnJheSgpXG4gICAgICApXG4gICAgKSxcbiAgICBTeW1ib2wudG9TdHJpbmdUYWdcbiAgKS5nZXRcblxuZnVuY3Rpb24gaXNUeXBlZEFycmF5V2l0aEVudHJpZXMgKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlZEFycmF5UHJvdG90eXBlR2V0U3ltYm9sVG9TdHJpbmdUYWcuY2FsbCh2YWx1ZSkgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZS5sZW5ndGggIT09IDBcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5VHlwZWRBcnJheSAoYXJyYXksIHNlcGFyYXRvciwgbWF4aW11bUJyZWFkdGgpIHtcbiAgaWYgKGFycmF5Lmxlbmd0aCA8IG1heGltdW1CcmVhZHRoKSB7XG4gICAgbWF4aW11bUJyZWFkdGggPSBhcnJheS5sZW5ndGhcbiAgfVxuICBjb25zdCB3aGl0ZXNwYWNlID0gc2VwYXJhdG9yID09PSAnLCcgPyAnJyA6ICcgJ1xuICBsZXQgcmVzID0gYFwiMFwiOiR7d2hpdGVzcGFjZX0ke2FycmF5WzBdfWBcbiAgZm9yIChsZXQgaSA9IDE7IGkgPCBtYXhpbXVtQnJlYWR0aDsgaSsrKSB7XG4gICAgcmVzICs9IGAke3NlcGFyYXRvcn1cIiR7aX1cIjoke3doaXRlc3BhY2V9JHthcnJheVtpXX1gXG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBnZXRDaXJjdWxhclZhbHVlT3B0aW9uIChvcHRpb25zKSB7XG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdjaXJjdWxhclZhbHVlJykpIHtcbiAgICBjb25zdCBjaXJjdWxhclZhbHVlID0gb3B0aW9ucy5jaXJjdWxhclZhbHVlXG4gICAgaWYgKHR5cGVvZiBjaXJjdWxhclZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGBcIiR7Y2lyY3VsYXJWYWx1ZX1cImBcbiAgICB9XG4gICAgaWYgKGNpcmN1bGFyVmFsdWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGNpcmN1bGFyVmFsdWVcbiAgICB9XG4gICAgaWYgKGNpcmN1bGFyVmFsdWUgPT09IEVycm9yIHx8IGNpcmN1bGFyVmFsdWUgPT09IFR5cGVFcnJvcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9TdHJpbmcgKCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0NvbnZlcnRpbmcgY2lyY3VsYXIgc3RydWN0dXJlIHRvIEpTT04nKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImNpcmN1bGFyVmFsdWVcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nIG9yIHRoZSB2YWx1ZSBudWxsIG9yIHVuZGVmaW5lZCcpXG4gIH1cbiAgcmV0dXJuICdcIltDaXJjdWxhcl1cIidcbn1cblxuZnVuY3Rpb24gZ2V0Qm9vbGVhbk9wdGlvbiAob3B0aW9ucywga2V5KSB7XG4gIGxldCB2YWx1ZVxuICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCBrZXkpKSB7XG4gICAgdmFsdWUgPSBvcHRpb25zW2tleV1cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYFRoZSBcIiR7a2V5fVwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBib29sZWFuYClcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB0cnVlIDogdmFsdWVcbn1cblxuZnVuY3Rpb24gZ2V0UG9zaXRpdmVJbnRlZ2VyT3B0aW9uIChvcHRpb25zLCBrZXkpIHtcbiAgbGV0IHZhbHVlXG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsIGtleSkpIHtcbiAgICB2YWx1ZSA9IG9wdGlvbnNba2V5XVxuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBUaGUgXCIke2tleX1cIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgbnVtYmVyYClcbiAgICB9XG4gICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgVGhlIFwiJHtrZXl9XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBpbnRlZ2VyYClcbiAgICB9XG4gICAgaWYgKHZhbHVlIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoYFRoZSBcIiR7a2V5fVwiIGFyZ3VtZW50IG11c3QgYmUgPj0gMWApXG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gSW5maW5pdHkgOiB2YWx1ZVxufVxuXG5mdW5jdGlvbiBnZXRJdGVtQ291bnQgKG51bWJlcikge1xuICBpZiAobnVtYmVyID09PSAxKSB7XG4gICAgcmV0dXJuICcxIGl0ZW0nXG4gIH1cbiAgcmV0dXJuIGAke251bWJlcn0gaXRlbXNgXG59XG5cbmZ1bmN0aW9uIGdldFVuaXF1ZVJlcGxhY2VyU2V0IChyZXBsYWNlckFycmF5KSB7XG4gIGNvbnN0IHJlcGxhY2VyU2V0ID0gbmV3IFNldCgpXG4gIGZvciAoY29uc3QgdmFsdWUgb2YgcmVwbGFjZXJBcnJheSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJlcGxhY2VyU2V0LmFkZChTdHJpbmcodmFsdWUpKVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVwbGFjZXJTZXRcbn1cblxuZnVuY3Rpb24gZ2V0U3RyaWN0T3B0aW9uIChvcHRpb25zKSB7XG4gIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICdzdHJpY3QnKSkge1xuICAgIGNvbnN0IHZhbHVlID0gb3B0aW9ucy5zdHJpY3RcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcInN0cmljdFwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBib29sZWFuJylcbiAgICB9XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICByZXR1cm4gKHZhbHVlKSA9PiB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gYE9iamVjdCBjYW4gbm90IHNhZmVseSBiZSBzdHJpbmdpZmllZC4gUmVjZWl2ZWQgdHlwZSAke3R5cGVvZiB2YWx1ZX1gXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIG1lc3NhZ2UgKz0gYCAoJHt2YWx1ZS50b1N0cmluZygpfSlgXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb25maWd1cmUgKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IHsgLi4ub3B0aW9ucyB9XG4gIGNvbnN0IGZhaWwgPSBnZXRTdHJpY3RPcHRpb24ob3B0aW9ucylcbiAgaWYgKGZhaWwpIHtcbiAgICBpZiAob3B0aW9ucy5iaWdpbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgb3B0aW9ucy5iaWdpbnQgPSBmYWxzZVxuICAgIH1cbiAgICBpZiAoISgnY2lyY3VsYXJWYWx1ZScgaW4gb3B0aW9ucykpIHtcbiAgICAgIG9wdGlvbnMuY2lyY3VsYXJWYWx1ZSA9IEVycm9yXG4gICAgfVxuICB9XG4gIGNvbnN0IGNpcmN1bGFyVmFsdWUgPSBnZXRDaXJjdWxhclZhbHVlT3B0aW9uKG9wdGlvbnMpXG4gIGNvbnN0IGJpZ2ludCA9IGdldEJvb2xlYW5PcHRpb24ob3B0aW9ucywgJ2JpZ2ludCcpXG4gIGNvbnN0IGRldGVybWluaXN0aWMgPSBnZXRCb29sZWFuT3B0aW9uKG9wdGlvbnMsICdkZXRlcm1pbmlzdGljJylcbiAgY29uc3QgbWF4aW11bURlcHRoID0gZ2V0UG9zaXRpdmVJbnRlZ2VyT3B0aW9uKG9wdGlvbnMsICdtYXhpbXVtRGVwdGgnKVxuICBjb25zdCBtYXhpbXVtQnJlYWR0aCA9IGdldFBvc2l0aXZlSW50ZWdlck9wdGlvbihvcHRpb25zLCAnbWF4aW11bUJyZWFkdGgnKVxuXG4gIGZ1bmN0aW9uIHN0cmluZ2lmeUZuUmVwbGFjZXIgKGtleSwgcGFyZW50LCBzdGFjaywgcmVwbGFjZXIsIHNwYWNlciwgaW5kZW50YXRpb24pIHtcbiAgICBsZXQgdmFsdWUgPSBwYXJlbnRba2V5XVxuXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZS50b0pTT04oa2V5KVxuICAgIH1cbiAgICB2YWx1ZSA9IHJlcGxhY2VyLmNhbGwocGFyZW50LCBrZXksIHZhbHVlKVxuXG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiBzdHJFc2NhcGUodmFsdWUpXG4gICAgICBjYXNlICdvYmplY3QnOiB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiAnbnVsbCdcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhY2suaW5kZXhPZih2YWx1ZSkgIT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIGNpcmN1bGFyVmFsdWVcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXMgPSAnJ1xuICAgICAgICBsZXQgam9pbiA9ICcsJ1xuICAgICAgICBjb25zdCBvcmlnaW5hbEluZGVudGF0aW9uID0gaW5kZW50YXRpb25cblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1tdJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWF4aW11bURlcHRoIDwgc3RhY2subGVuZ3RoICsgMSkge1xuICAgICAgICAgICAgcmV0dXJuICdcIltBcnJheV1cIidcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhY2sucHVzaCh2YWx1ZSlcbiAgICAgICAgICBpZiAoc3BhY2VyICE9PSAnJykge1xuICAgICAgICAgICAgaW5kZW50YXRpb24gKz0gc3BhY2VyXG4gICAgICAgICAgICByZXMgKz0gYFxcbiR7aW5kZW50YXRpb259YFxuICAgICAgICAgICAgam9pbiA9IGAsXFxuJHtpbmRlbnRhdGlvbn1gXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IG1heGltdW1WYWx1ZXNUb1N0cmluZ2lmeSA9IE1hdGgubWluKHZhbHVlLmxlbmd0aCwgbWF4aW11bUJyZWFkdGgpXG4gICAgICAgICAgbGV0IGkgPSAwXG4gICAgICAgICAgZm9yICg7IGkgPCBtYXhpbXVtVmFsdWVzVG9TdHJpbmdpZnkgLSAxOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRtcCA9IHN0cmluZ2lmeUZuUmVwbGFjZXIoU3RyaW5nKGkpLCB2YWx1ZSwgc3RhY2ssIHJlcGxhY2VyLCBzcGFjZXIsIGluZGVudGF0aW9uKVxuICAgICAgICAgICAgcmVzICs9IHRtcCAhPT0gdW5kZWZpbmVkID8gdG1wIDogJ251bGwnXG4gICAgICAgICAgICByZXMgKz0gam9pblxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB0bXAgPSBzdHJpbmdpZnlGblJlcGxhY2VyKFN0cmluZyhpKSwgdmFsdWUsIHN0YWNrLCByZXBsYWNlciwgc3BhY2VyLCBpbmRlbnRhdGlvbilcbiAgICAgICAgICByZXMgKz0gdG1wICE9PSB1bmRlZmluZWQgPyB0bXAgOiAnbnVsbCdcbiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoIC0gMSA+IG1heGltdW1CcmVhZHRoKSB7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVkS2V5cyA9IHZhbHVlLmxlbmd0aCAtIG1heGltdW1CcmVhZHRoIC0gMVxuICAgICAgICAgICAgcmVzICs9IGAke2pvaW59XCIuLi4gJHtnZXRJdGVtQ291bnQocmVtb3ZlZEtleXMpfSBub3Qgc3RyaW5naWZpZWRcImBcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNwYWNlciAhPT0gJycpIHtcbiAgICAgICAgICAgIHJlcyArPSBgXFxuJHtvcmlnaW5hbEluZGVudGF0aW9ufWBcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICByZXR1cm4gYFske3Jlc31dYFxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSlcbiAgICAgICAgY29uc3Qga2V5TGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAgICAgaWYgKGtleUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiAne30nXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heGltdW1EZXB0aCA8IHN0YWNrLmxlbmd0aCArIDEpIHtcbiAgICAgICAgICByZXR1cm4gJ1wiW09iamVjdF1cIidcbiAgICAgICAgfVxuICAgICAgICBsZXQgd2hpdGVzcGFjZSA9ICcnXG4gICAgICAgIGxldCBzZXBhcmF0b3IgPSAnJ1xuICAgICAgICBpZiAoc3BhY2VyICE9PSAnJykge1xuICAgICAgICAgIGluZGVudGF0aW9uICs9IHNwYWNlclxuICAgICAgICAgIGpvaW4gPSBgLFxcbiR7aW5kZW50YXRpb259YFxuICAgICAgICAgIHdoaXRlc3BhY2UgPSAnICdcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYXhpbXVtUHJvcGVydGllc1RvU3RyaW5naWZ5ID0gTWF0aC5taW4oa2V5TGVuZ3RoLCBtYXhpbXVtQnJlYWR0aClcbiAgICAgICAgaWYgKGRldGVybWluaXN0aWMgJiYgIWlzVHlwZWRBcnJheVdpdGhFbnRyaWVzKHZhbHVlKSkge1xuICAgICAgICAgIGtleXMgPSBpbnNlcnRTb3J0KGtleXMpXG4gICAgICAgIH1cbiAgICAgICAgc3RhY2sucHVzaCh2YWx1ZSlcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhpbXVtUHJvcGVydGllc1RvU3RyaW5naWZ5OyBpKyspIHtcbiAgICAgICAgICBjb25zdCBrZXkgPSBrZXlzW2ldXG4gICAgICAgICAgY29uc3QgdG1wID0gc3RyaW5naWZ5Rm5SZXBsYWNlcihrZXksIHZhbHVlLCBzdGFjaywgcmVwbGFjZXIsIHNwYWNlciwgaW5kZW50YXRpb24pXG4gICAgICAgICAgaWYgKHRtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXMgKz0gYCR7c2VwYXJhdG9yfSR7c3RyRXNjYXBlKGtleSl9OiR7d2hpdGVzcGFjZX0ke3RtcH1gXG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBqb2luXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChrZXlMZW5ndGggPiBtYXhpbXVtQnJlYWR0aCkge1xuICAgICAgICAgIGNvbnN0IHJlbW92ZWRLZXlzID0ga2V5TGVuZ3RoIC0gbWF4aW11bUJyZWFkdGhcbiAgICAgICAgICByZXMgKz0gYCR7c2VwYXJhdG9yfVwiLi4uXCI6JHt3aGl0ZXNwYWNlfVwiJHtnZXRJdGVtQ291bnQocmVtb3ZlZEtleXMpfSBub3Qgc3RyaW5naWZpZWRcImBcbiAgICAgICAgICBzZXBhcmF0b3IgPSBqb2luXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwYWNlciAhPT0gJycgJiYgc2VwYXJhdG9yLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICByZXMgPSBgXFxuJHtpbmRlbnRhdGlvbn0ke3Jlc31cXG4ke29yaWdpbmFsSW5kZW50YXRpb259YFxuICAgICAgICB9XG4gICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgIHJldHVybiBgeyR7cmVzfX1gXG4gICAgICB9XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICByZXR1cm4gaXNGaW5pdGUodmFsdWUpID8gU3RyaW5nKHZhbHVlKSA6IGZhaWwgPyBmYWlsKHZhbHVlKSA6ICdudWxsJ1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSA/ICd0cnVlJyA6ICdmYWxzZSdcbiAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgIHJldHVybiB1bmRlZmluZWRcbiAgICAgIGNhc2UgJ2JpZ2ludCc6XG4gICAgICAgIGlmIChiaWdpbnQpIHtcbiAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKVxuICAgICAgICB9XG4gICAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFpbCA/IGZhaWwodmFsdWUpIDogdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RyaW5naWZ5QXJyYXlSZXBsYWNlciAoa2V5LCB2YWx1ZSwgc3RhY2ssIHJlcGxhY2VyLCBzcGFjZXIsIGluZGVudGF0aW9uKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZS50b0pTT04oa2V5KVxuICAgIH1cblxuICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICByZXR1cm4gc3RyRXNjYXBlKHZhbHVlKVxuICAgICAgY2FzZSAnb2JqZWN0Jzoge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gJ251bGwnXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YWNrLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xuICAgICAgICAgIHJldHVybiBjaXJjdWxhclZhbHVlXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvcmlnaW5hbEluZGVudGF0aW9uID0gaW5kZW50YXRpb25cbiAgICAgICAgbGV0IHJlcyA9ICcnXG4gICAgICAgIGxldCBqb2luID0gJywnXG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICdbXSdcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGltdW1EZXB0aCA8IHN0YWNrLmxlbmd0aCArIDEpIHtcbiAgICAgICAgICAgIHJldHVybiAnXCJbQXJyYXldXCInXG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YWNrLnB1c2godmFsdWUpXG4gICAgICAgICAgaWYgKHNwYWNlciAhPT0gJycpIHtcbiAgICAgICAgICAgIGluZGVudGF0aW9uICs9IHNwYWNlclxuICAgICAgICAgICAgcmVzICs9IGBcXG4ke2luZGVudGF0aW9ufWBcbiAgICAgICAgICAgIGpvaW4gPSBgLFxcbiR7aW5kZW50YXRpb259YFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBtYXhpbXVtVmFsdWVzVG9TdHJpbmdpZnkgPSBNYXRoLm1pbih2YWx1ZS5sZW5ndGgsIG1heGltdW1CcmVhZHRoKVxuICAgICAgICAgIGxldCBpID0gMFxuICAgICAgICAgIGZvciAoOyBpIDwgbWF4aW11bVZhbHVlc1RvU3RyaW5naWZ5IC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0bXAgPSBzdHJpbmdpZnlBcnJheVJlcGxhY2VyKFN0cmluZyhpKSwgdmFsdWVbaV0sIHN0YWNrLCByZXBsYWNlciwgc3BhY2VyLCBpbmRlbnRhdGlvbilcbiAgICAgICAgICAgIHJlcyArPSB0bXAgIT09IHVuZGVmaW5lZCA/IHRtcCA6ICdudWxsJ1xuICAgICAgICAgICAgcmVzICs9IGpvaW5cbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgdG1wID0gc3RyaW5naWZ5QXJyYXlSZXBsYWNlcihTdHJpbmcoaSksIHZhbHVlW2ldLCBzdGFjaywgcmVwbGFjZXIsIHNwYWNlciwgaW5kZW50YXRpb24pXG4gICAgICAgICAgcmVzICs9IHRtcCAhPT0gdW5kZWZpbmVkID8gdG1wIDogJ251bGwnXG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCAtIDEgPiBtYXhpbXVtQnJlYWR0aCkge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZEtleXMgPSB2YWx1ZS5sZW5ndGggLSBtYXhpbXVtQnJlYWR0aCAtIDFcbiAgICAgICAgICAgIHJlcyArPSBgJHtqb2lufVwiLi4uICR7Z2V0SXRlbUNvdW50KHJlbW92ZWRLZXlzKX0gbm90IHN0cmluZ2lmaWVkXCJgXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzcGFjZXIgIT09ICcnKSB7XG4gICAgICAgICAgICByZXMgKz0gYFxcbiR7b3JpZ2luYWxJbmRlbnRhdGlvbn1gXG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YWNrLnBvcCgpXG4gICAgICAgICAgcmV0dXJuIGBbJHtyZXN9XWBcbiAgICAgICAgfVxuICAgICAgICBzdGFjay5wdXNoKHZhbHVlKVxuICAgICAgICBsZXQgd2hpdGVzcGFjZSA9ICcnXG4gICAgICAgIGlmIChzcGFjZXIgIT09ICcnKSB7XG4gICAgICAgICAgaW5kZW50YXRpb24gKz0gc3BhY2VyXG4gICAgICAgICAgam9pbiA9IGAsXFxuJHtpbmRlbnRhdGlvbn1gXG4gICAgICAgICAgd2hpdGVzcGFjZSA9ICcgJ1xuICAgICAgICB9XG4gICAgICAgIGxldCBzZXBhcmF0b3IgPSAnJ1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiByZXBsYWNlcikge1xuICAgICAgICAgIGNvbnN0IHRtcCA9IHN0cmluZ2lmeUFycmF5UmVwbGFjZXIoa2V5LCB2YWx1ZVtrZXldLCBzdGFjaywgcmVwbGFjZXIsIHNwYWNlciwgaW5kZW50YXRpb24pXG4gICAgICAgICAgaWYgKHRtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXMgKz0gYCR7c2VwYXJhdG9yfSR7c3RyRXNjYXBlKGtleSl9OiR7d2hpdGVzcGFjZX0ke3RtcH1gXG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBqb2luXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzcGFjZXIgIT09ICcnICYmIHNlcGFyYXRvci5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgcmVzID0gYFxcbiR7aW5kZW50YXRpb259JHtyZXN9XFxuJHtvcmlnaW5hbEluZGVudGF0aW9ufWBcbiAgICAgICAgfVxuICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICByZXR1cm4gYHske3Jlc319YFxuICAgICAgfVxuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgcmV0dXJuIGlzRmluaXRlKHZhbHVlKSA/IFN0cmluZyh2YWx1ZSkgOiBmYWlsID8gZmFpbCh2YWx1ZSkgOiAnbnVsbCdcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHRydWUgPyAndHJ1ZScgOiAnZmFsc2UnXG4gICAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkXG4gICAgICBjYXNlICdiaWdpbnQnOlxuICAgICAgICBpZiAoYmlnaW50KSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSlcbiAgICAgICAgfVxuICAgICAgICAvLyBmYWxsdGhyb3VnaFxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhaWwgPyBmYWlsKHZhbHVlKSA6IHVuZGVmaW5lZFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmluZ2lmeUluZGVudCAoa2V5LCB2YWx1ZSwgc3RhY2ssIHNwYWNlciwgaW5kZW50YXRpb24pIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgcmV0dXJuIHN0ckVzY2FwZSh2YWx1ZSlcbiAgICAgIGNhc2UgJ29iamVjdCc6IHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuICdudWxsJ1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUudG9KU09OID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b0pTT04oa2V5KVxuICAgICAgICAgIC8vIFByZXZlbnQgY2FsbGluZyBgdG9KU09OYCBhZ2Fpbi5cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmeUluZGVudChrZXksIHZhbHVlLCBzdGFjaywgc3BhY2VyLCBpbmRlbnRhdGlvbilcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gJ251bGwnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFjay5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gY2lyY3VsYXJWYWx1ZVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsSW5kZW50YXRpb24gPSBpbmRlbnRhdGlvblxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnW10nXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbXVtRGVwdGggPCBzdGFjay5sZW5ndGggKyAxKSB7XG4gICAgICAgICAgICByZXR1cm4gJ1wiW0FycmF5XVwiJ1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGFjay5wdXNoKHZhbHVlKVxuICAgICAgICAgIGluZGVudGF0aW9uICs9IHNwYWNlclxuICAgICAgICAgIGxldCByZXMgPSBgXFxuJHtpbmRlbnRhdGlvbn1gXG4gICAgICAgICAgY29uc3Qgam9pbiA9IGAsXFxuJHtpbmRlbnRhdGlvbn1gXG4gICAgICAgICAgY29uc3QgbWF4aW11bVZhbHVlc1RvU3RyaW5naWZ5ID0gTWF0aC5taW4odmFsdWUubGVuZ3RoLCBtYXhpbXVtQnJlYWR0aClcbiAgICAgICAgICBsZXQgaSA9IDBcbiAgICAgICAgICBmb3IgKDsgaSA8IG1heGltdW1WYWx1ZXNUb1N0cmluZ2lmeSAtIDE7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdG1wID0gc3RyaW5naWZ5SW5kZW50KFN0cmluZyhpKSwgdmFsdWVbaV0sIHN0YWNrLCBzcGFjZXIsIGluZGVudGF0aW9uKVxuICAgICAgICAgICAgcmVzICs9IHRtcCAhPT0gdW5kZWZpbmVkID8gdG1wIDogJ251bGwnXG4gICAgICAgICAgICByZXMgKz0gam9pblxuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCB0bXAgPSBzdHJpbmdpZnlJbmRlbnQoU3RyaW5nKGkpLCB2YWx1ZVtpXSwgc3RhY2ssIHNwYWNlciwgaW5kZW50YXRpb24pXG4gICAgICAgICAgcmVzICs9IHRtcCAhPT0gdW5kZWZpbmVkID8gdG1wIDogJ251bGwnXG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCAtIDEgPiBtYXhpbXVtQnJlYWR0aCkge1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlZEtleXMgPSB2YWx1ZS5sZW5ndGggLSBtYXhpbXVtQnJlYWR0aCAtIDFcbiAgICAgICAgICAgIHJlcyArPSBgJHtqb2lufVwiLi4uICR7Z2V0SXRlbUNvdW50KHJlbW92ZWRLZXlzKX0gbm90IHN0cmluZ2lmaWVkXCJgXG4gICAgICAgICAgfVxuICAgICAgICAgIHJlcyArPSBgXFxuJHtvcmlnaW5hbEluZGVudGF0aW9ufWBcbiAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgIHJldHVybiBgWyR7cmVzfV1gXG4gICAgICAgIH1cblxuICAgICAgICBsZXQga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKVxuICAgICAgICBjb25zdCBrZXlMZW5ndGggPSBrZXlzLmxlbmd0aFxuICAgICAgICBpZiAoa2V5TGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuICd7fSdcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4aW11bURlcHRoIDwgc3RhY2subGVuZ3RoICsgMSkge1xuICAgICAgICAgIHJldHVybiAnXCJbT2JqZWN0XVwiJ1xuICAgICAgICB9XG4gICAgICAgIGluZGVudGF0aW9uICs9IHNwYWNlclxuICAgICAgICBjb25zdCBqb2luID0gYCxcXG4ke2luZGVudGF0aW9ufWBcbiAgICAgICAgbGV0IHJlcyA9ICcnXG4gICAgICAgIGxldCBzZXBhcmF0b3IgPSAnJ1xuICAgICAgICBsZXQgbWF4aW11bVByb3BlcnRpZXNUb1N0cmluZ2lmeSA9IE1hdGgubWluKGtleUxlbmd0aCwgbWF4aW11bUJyZWFkdGgpXG4gICAgICAgIGlmIChpc1R5cGVkQXJyYXlXaXRoRW50cmllcyh2YWx1ZSkpIHtcbiAgICAgICAgICByZXMgKz0gc3RyaW5naWZ5VHlwZWRBcnJheSh2YWx1ZSwgam9pbiwgbWF4aW11bUJyZWFkdGgpXG4gICAgICAgICAga2V5cyA9IGtleXMuc2xpY2UodmFsdWUubGVuZ3RoKVxuICAgICAgICAgIG1heGltdW1Qcm9wZXJ0aWVzVG9TdHJpbmdpZnkgLT0gdmFsdWUubGVuZ3RoXG4gICAgICAgICAgc2VwYXJhdG9yID0gam9pblxuICAgICAgICB9XG4gICAgICAgIGlmIChkZXRlcm1pbmlzdGljKSB7XG4gICAgICAgICAga2V5cyA9IGluc2VydFNvcnQoa2V5cylcbiAgICAgICAgfVxuICAgICAgICBzdGFjay5wdXNoKHZhbHVlKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heGltdW1Qcm9wZXJ0aWVzVG9TdHJpbmdpZnk7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbaV1cbiAgICAgICAgICBjb25zdCB0bXAgPSBzdHJpbmdpZnlJbmRlbnQoa2V5LCB2YWx1ZVtrZXldLCBzdGFjaywgc3BhY2VyLCBpbmRlbnRhdGlvbilcbiAgICAgICAgICBpZiAodG1wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlcyArPSBgJHtzZXBhcmF0b3J9JHtzdHJFc2NhcGUoa2V5KX06ICR7dG1wfWBcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IGpvaW5cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleUxlbmd0aCA+IG1heGltdW1CcmVhZHRoKSB7XG4gICAgICAgICAgY29uc3QgcmVtb3ZlZEtleXMgPSBrZXlMZW5ndGggLSBtYXhpbXVtQnJlYWR0aFxuICAgICAgICAgIHJlcyArPSBgJHtzZXBhcmF0b3J9XCIuLi5cIjogXCIke2dldEl0ZW1Db3VudChyZW1vdmVkS2V5cyl9IG5vdCBzdHJpbmdpZmllZFwiYFxuICAgICAgICAgIHNlcGFyYXRvciA9IGpvaW5cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VwYXJhdG9yICE9PSAnJykge1xuICAgICAgICAgIHJlcyA9IGBcXG4ke2luZGVudGF0aW9ufSR7cmVzfVxcbiR7b3JpZ2luYWxJbmRlbnRhdGlvbn1gXG4gICAgICAgIH1cbiAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgcmV0dXJuIGB7JHtyZXN9fWBcbiAgICAgIH1cbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHJldHVybiBpc0Zpbml0ZSh2YWx1ZSkgPyBTdHJpbmcodmFsdWUpIDogZmFpbCA/IGZhaWwodmFsdWUpIDogJ251bGwnXG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlID8gJ3RydWUnIDogJ2ZhbHNlJ1xuICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgY2FzZSAnYmlnaW50JzpcbiAgICAgICAgaWYgKGJpZ2ludCkge1xuICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpXG4gICAgICAgIH1cbiAgICAgICAgLy8gZmFsbHRocm91Z2hcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWlsID8gZmFpbCh2YWx1ZSkgOiB1bmRlZmluZWRcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpbmdpZnlTaW1wbGUgKGtleSwgdmFsdWUsIHN0YWNrKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIHJldHVybiBzdHJFc2NhcGUodmFsdWUpXG4gICAgICBjYXNlICdvYmplY3QnOiB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiAnbnVsbCdcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUudG9KU09OKGtleSlcbiAgICAgICAgICAvLyBQcmV2ZW50IGNhbGxpbmcgYHRvSlNPTmAgYWdhaW5cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ2lmeVNpbXBsZShrZXksIHZhbHVlLCBzdGFjaylcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gJ251bGwnXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFjay5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gY2lyY3VsYXJWYWx1ZVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlcyA9ICcnXG5cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICdbXSdcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGltdW1EZXB0aCA8IHN0YWNrLmxlbmd0aCArIDEpIHtcbiAgICAgICAgICAgIHJldHVybiAnXCJbQXJyYXldXCInXG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YWNrLnB1c2godmFsdWUpXG4gICAgICAgICAgY29uc3QgbWF4aW11bVZhbHVlc1RvU3RyaW5naWZ5ID0gTWF0aC5taW4odmFsdWUubGVuZ3RoLCBtYXhpbXVtQnJlYWR0aClcbiAgICAgICAgICBsZXQgaSA9IDBcbiAgICAgICAgICBmb3IgKDsgaSA8IG1heGltdW1WYWx1ZXNUb1N0cmluZ2lmeSAtIDE7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdG1wID0gc3RyaW5naWZ5U2ltcGxlKFN0cmluZyhpKSwgdmFsdWVbaV0sIHN0YWNrKVxuICAgICAgICAgICAgcmVzICs9IHRtcCAhPT0gdW5kZWZpbmVkID8gdG1wIDogJ251bGwnXG4gICAgICAgICAgICByZXMgKz0gJywnXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHRtcCA9IHN0cmluZ2lmeVNpbXBsZShTdHJpbmcoaSksIHZhbHVlW2ldLCBzdGFjaylcbiAgICAgICAgICByZXMgKz0gdG1wICE9PSB1bmRlZmluZWQgPyB0bXAgOiAnbnVsbCdcbiAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoIC0gMSA+IG1heGltdW1CcmVhZHRoKSB7XG4gICAgICAgICAgICBjb25zdCByZW1vdmVkS2V5cyA9IHZhbHVlLmxlbmd0aCAtIG1heGltdW1CcmVhZHRoIC0gMVxuICAgICAgICAgICAgcmVzICs9IGAsXCIuLi4gJHtnZXRJdGVtQ291bnQocmVtb3ZlZEtleXMpfSBub3Qgc3RyaW5naWZpZWRcImBcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICByZXR1cm4gYFske3Jlc31dYFxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSlcbiAgICAgICAgY29uc3Qga2V5TGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAgICAgaWYgKGtleUxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiAne30nXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1heGltdW1EZXB0aCA8IHN0YWNrLmxlbmd0aCArIDEpIHtcbiAgICAgICAgICByZXR1cm4gJ1wiW09iamVjdF1cIidcbiAgICAgICAgfVxuICAgICAgICBsZXQgc2VwYXJhdG9yID0gJydcbiAgICAgICAgbGV0IG1heGltdW1Qcm9wZXJ0aWVzVG9TdHJpbmdpZnkgPSBNYXRoLm1pbihrZXlMZW5ndGgsIG1heGltdW1CcmVhZHRoKVxuICAgICAgICBpZiAoaXNUeXBlZEFycmF5V2l0aEVudHJpZXModmFsdWUpKSB7XG4gICAgICAgICAgcmVzICs9IHN0cmluZ2lmeVR5cGVkQXJyYXkodmFsdWUsICcsJywgbWF4aW11bUJyZWFkdGgpXG4gICAgICAgICAga2V5cyA9IGtleXMuc2xpY2UodmFsdWUubGVuZ3RoKVxuICAgICAgICAgIG1heGltdW1Qcm9wZXJ0aWVzVG9TdHJpbmdpZnkgLT0gdmFsdWUubGVuZ3RoXG4gICAgICAgICAgc2VwYXJhdG9yID0gJywnXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRldGVybWluaXN0aWMpIHtcbiAgICAgICAgICBrZXlzID0gaW5zZXJ0U29ydChrZXlzKVxuICAgICAgICB9XG4gICAgICAgIHN0YWNrLnB1c2godmFsdWUpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4aW11bVByb3BlcnRpZXNUb1N0cmluZ2lmeTsgaSsrKSB7XG4gICAgICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXVxuICAgICAgICAgIGNvbnN0IHRtcCA9IHN0cmluZ2lmeVNpbXBsZShrZXksIHZhbHVlW2tleV0sIHN0YWNrKVxuICAgICAgICAgIGlmICh0bXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzICs9IGAke3NlcGFyYXRvcn0ke3N0ckVzY2FwZShrZXkpfToke3RtcH1gXG4gICAgICAgICAgICBzZXBhcmF0b3IgPSAnLCdcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtleUxlbmd0aCA+IG1heGltdW1CcmVhZHRoKSB7XG4gICAgICAgICAgY29uc3QgcmVtb3ZlZEtleXMgPSBrZXlMZW5ndGggLSBtYXhpbXVtQnJlYWR0aFxuICAgICAgICAgIHJlcyArPSBgJHtzZXBhcmF0b3J9XCIuLi5cIjpcIiR7Z2V0SXRlbUNvdW50KHJlbW92ZWRLZXlzKX0gbm90IHN0cmluZ2lmaWVkXCJgXG4gICAgICAgIH1cbiAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgcmV0dXJuIGB7JHtyZXN9fWBcbiAgICAgIH1cbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHJldHVybiBpc0Zpbml0ZSh2YWx1ZSkgPyBTdHJpbmcodmFsdWUpIDogZmFpbCA/IGZhaWwodmFsdWUpIDogJ251bGwnXG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB0cnVlID8gJ3RydWUnIDogJ2ZhbHNlJ1xuICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICAgICAgY2FzZSAnYmlnaW50JzpcbiAgICAgICAgaWYgKGJpZ2ludCkge1xuICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpXG4gICAgICAgIH1cbiAgICAgICAgLy8gZmFsbHRocm91Z2hcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWlsID8gZmFpbCh2YWx1ZSkgOiB1bmRlZmluZWRcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdHJpbmdpZnkgKHZhbHVlLCByZXBsYWNlciwgc3BhY2UpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGxldCBzcGFjZXIgPSAnJ1xuICAgICAgaWYgKHR5cGVvZiBzcGFjZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgc3BhY2VyID0gJyAnLnJlcGVhdChNYXRoLm1pbihzcGFjZSwgMTApKVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3BhY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHNwYWNlciA9IHNwYWNlLnNsaWNlKDAsIDEwKVxuICAgICAgfVxuICAgICAgaWYgKHJlcGxhY2VyICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByZXBsYWNlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBzdHJpbmdpZnlGblJlcGxhY2VyKCcnLCB7ICcnOiB2YWx1ZSB9LCBbXSwgcmVwbGFjZXIsIHNwYWNlciwgJycpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVwbGFjZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHN0cmluZ2lmeUFycmF5UmVwbGFjZXIoJycsIHZhbHVlLCBbXSwgZ2V0VW5pcXVlUmVwbGFjZXJTZXQocmVwbGFjZXIpLCBzcGFjZXIsICcnKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3BhY2VyLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICByZXR1cm4gc3RyaW5naWZ5SW5kZW50KCcnLCB2YWx1ZSwgW10sIHNwYWNlciwgJycpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHJpbmdpZnlTaW1wbGUoJycsIHZhbHVlLCBbXSlcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdpZnlcbn1cbiIsImV4cG9ydCB7IGRlZmF1bHQgYXMgdjEgfSBmcm9tICcuL3YxLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjMgfSBmcm9tICcuL3YzLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjQgfSBmcm9tICcuL3Y0LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdjUgfSBmcm9tICcuL3Y1LmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTklMIH0gZnJvbSAnLi9uaWwuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB2ZXJzaW9uIH0gZnJvbSAnLi92ZXJzaW9uLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgdmFsaWRhdGUgfSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgc3RyaW5naWZ5IH0gZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBwYXJzZSB9IGZyb20gJy4vcGFyc2UuanMnOyIsIi8qXG4gKiBCcm93c2VyLWNvbXBhdGlibGUgSmF2YVNjcmlwdCBNRDVcbiAqXG4gKiBNb2RpZmljYXRpb24gb2YgSmF2YVNjcmlwdCBNRDVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtTUQ1XG4gKlxuICogQ29weXJpZ2h0IDIwMTEsIFNlYmFzdGlhbiBUc2NoYW5cbiAqIGh0dHBzOi8vYmx1ZWltcC5uZXRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqIEJhc2VkIG9uXG4gKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFJTQSBEYXRhIFNlY3VyaXR5LCBJbmMuIE1ENSBNZXNzYWdlXG4gKiBEaWdlc3QgQWxnb3JpdGhtLCBhcyBkZWZpbmVkIGluIFJGQyAxMzIxLlxuICogVmVyc2lvbiAyLjIgQ29weXJpZ2h0IChDKSBQYXVsIEpvaG5zdG9uIDE5OTkgLSAyMDA5XG4gKiBPdGhlciBjb250cmlidXRvcnM6IEdyZWcgSG9sdCwgQW5kcmV3IEtlcGVydCwgWWRuYXIsIExvc3RpbmV0XG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2VcbiAqIFNlZSBodHRwOi8vcGFqaG9tZS5vcmcudWsvY3J5cHQvbWQ1IGZvciBtb3JlIGluZm8uXG4gKi9cbmZ1bmN0aW9uIG1kNShieXRlcykge1xuICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIHZhciBtc2cgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYnl0ZXMpKTsgLy8gVVRGOCBlc2NhcGVcblxuICAgIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobXNnLmxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXNbaV0gPSBtc2cuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWQ1VG9IZXhFbmNvZGVkQXJyYXkod29yZHNUb01kNShieXRlc1RvV29yZHMoYnl0ZXMpLCBieXRlcy5sZW5ndGggKiA4KSk7XG59XG4vKlxuICogQ29udmVydCBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzIHRvIGFuIGFycmF5IG9mIGJ5dGVzXG4gKi9cblxuXG5mdW5jdGlvbiBtZDVUb0hleEVuY29kZWRBcnJheShpbnB1dCkge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIHZhciBsZW5ndGgzMiA9IGlucHV0Lmxlbmd0aCAqIDMyO1xuICB2YXIgaGV4VGFiID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoMzI7IGkgKz0gOCkge1xuICAgIHZhciB4ID0gaW5wdXRbaSA+PiA1XSA+Pj4gaSAlIDMyICYgMHhmZjtcbiAgICB2YXIgaGV4ID0gcGFyc2VJbnQoaGV4VGFiLmNoYXJBdCh4ID4+PiA0ICYgMHgwZikgKyBoZXhUYWIuY2hhckF0KHggJiAweDBmKSwgMTYpO1xuICAgIG91dHB1dC5wdXNoKGhleCk7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgb3V0cHV0IGxlbmd0aCB3aXRoIHBhZGRpbmcgYW5kIGJpdCBsZW5ndGhcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldE91dHB1dExlbmd0aChpbnB1dExlbmd0aDgpIHtcbiAgcmV0dXJuIChpbnB1dExlbmd0aDggKyA2NCA+Pj4gOSA8PCA0KSArIDE0ICsgMTtcbn1cbi8qXG4gKiBDYWxjdWxhdGUgdGhlIE1ENSBvZiBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzLCBhbmQgYSBiaXQgbGVuZ3RoLlxuICovXG5cblxuZnVuY3Rpb24gd29yZHNUb01kNSh4LCBsZW4pIHtcbiAgLyogYXBwZW5kIHBhZGRpbmcgKi9cbiAgeFtsZW4gPj4gNV0gfD0gMHg4MCA8PCBsZW4gJSAzMjtcbiAgeFtnZXRPdXRwdXRMZW5ndGgobGVuKSAtIDFdID0gbGVuO1xuICB2YXIgYSA9IDE3MzI1ODQxOTM7XG4gIHZhciBiID0gLTI3MTczMzg3OTtcbiAgdmFyIGMgPSAtMTczMjU4NDE5NDtcbiAgdmFyIGQgPSAyNzE3MzM4Nzg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxNikge1xuICAgIHZhciBvbGRhID0gYTtcbiAgICB2YXIgb2xkYiA9IGI7XG4gICAgdmFyIG9sZGMgPSBjO1xuICAgIHZhciBvbGRkID0gZDtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpXSwgNywgLTY4MDg3NjkzNik7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDFdLCAxMiwgLTM4OTU2NDU4Nik7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDJdLCAxNywgNjA2MTA1ODE5KTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgM10sIDIyLCAtMTA0NDUyNTMzMCk7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA3LCAtMTc2NDE4ODk3KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgNV0sIDEyLCAxMjAwMDgwNDI2KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE3LCAtMTQ3MzIzMTM0MSk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDddLCAyMiwgLTQ1NzA1OTgzKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgOF0sIDcsIDE3NzAwMzU0MTYpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA5XSwgMTIsIC0xOTU4NDE0NDE3KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNywgLTQyMDYzKTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgMTFdLCAyMiwgLTE5OTA0MDQxNjIpO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDcsIDE4MDQ2MDM2ODIpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxM10sIDEyLCAtNDAzNDExMDEpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAxNF0sIDE3LCAtMTUwMjAwMjI5MCk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDE1XSwgMjIsIDEyMzY1MzUzMjkpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNSwgLTE2NTc5NjUxMCk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDZdLCA5LCAtMTA2OTUwMTYzMik7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTQsIDY0MzcxNzcxMyk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaV0sIDIwLCAtMzczODk3MzAyKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgNV0sIDUsIC03MDE1NTg2OTEpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxMF0sIDksIDM4MDE2MDgzKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNCwgLTY2MDQ3ODMzNSk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDRdLCAyMCwgLTQwNTUzNzg0OCk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDldLCA1LCA1Njg0NDY0MzgpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxNF0sIDksIC0xMDE5ODAzNjkwKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgM10sIDE0LCAtMTg3MzYzOTYxKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgOF0sIDIwLCAxMTYzNTMxNTAxKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgMTNdLCA1LCAtMTQ0NDY4MTQ2Nyk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDJdLCA5LCAtNTE0MDM3ODQpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTQsIDE3MzUzMjg0NzMpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyAxMl0sIDIwLCAtMTkyNjYwNzczNCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA0LCAtMzc4NTU4KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgOF0sIDExLCAtMjAyMjU3NDQ2Myk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTYsIDE4MzkwMzA1NjIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxNF0sIDIzLCAtMzUzMDk1NTYpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNCwgLTE1MzA5OTIwNjApO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyA0XSwgMTEsIDEyNzI4OTMzNTMpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTYsIC0xNTU0OTc2MzIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxMF0sIDIzLCAtMTA5NDczMDY0MCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDEzXSwgNCwgNjgxMjc5MTc0KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpXSwgMTEsIC0zNTg1MzcyMjIpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAzXSwgMTYsIC03MjI1MjE5NzkpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyA2XSwgMjMsIDc2MDI5MTg5KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgOV0sIDQsIC02NDAzNjQ0ODcpO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyAxMl0sIDExLCAtNDIxODE1ODM1KTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNiwgNTMwNzQyNTIwKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMl0sIDIzLCAtOTk1MzM4NjUxKTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpXSwgNiwgLTE5ODYzMDg0NCk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDddLCAxMCwgMTEyNjg5MTQxNSk7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDE0XSwgMTUsIC0xNDE2MzU0OTA1KTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgNV0sIDIxLCAtNTc0MzQwNTUpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDYsIDE3MDA0ODU1NzEpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAzXSwgMTAsIC0xODk0OTg2NjA2KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNSwgLTEwNTE1MjMpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyAxXSwgMjEsIC0yMDU0OTIyNzk5KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgOF0sIDYsIDE4NzMzMTMzNTkpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAxNV0sIDEwLCAtMzA2MTE3NDQpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyA2XSwgMTUsIC0xNTYwMTk4MzgwKTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMTNdLCAyMSwgMTMwOTE1MTY0OSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA2LCAtMTQ1NTIzMDcwKTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgMTFdLCAxMCwgLTExMjAyMTAzNzkpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAyXSwgMTUsIDcxODc4NzI1OSk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDldLCAyMSwgLTM0MzQ4NTU1MSk7XG4gICAgYSA9IHNhZmVBZGQoYSwgb2xkYSk7XG4gICAgYiA9IHNhZmVBZGQoYiwgb2xkYik7XG4gICAgYyA9IHNhZmVBZGQoYywgb2xkYyk7XG4gICAgZCA9IHNhZmVBZGQoZCwgb2xkZCk7XG4gIH1cblxuICByZXR1cm4gW2EsIGIsIGMsIGRdO1xufVxuLypcbiAqIENvbnZlcnQgYW4gYXJyYXkgYnl0ZXMgdG8gYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3Jkc1xuICogQ2hhcmFjdGVycyA+MjU1IGhhdmUgdGhlaXIgaGlnaC1ieXRlIHNpbGVudGx5IGlnbm9yZWQuXG4gKi9cblxuXG5mdW5jdGlvbiBieXRlc1RvV29yZHMoaW5wdXQpIHtcbiAgaWYgKGlucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBsZW5ndGg4ID0gaW5wdXQubGVuZ3RoICogODtcbiAgdmFyIG91dHB1dCA9IG5ldyBVaW50MzJBcnJheShnZXRPdXRwdXRMZW5ndGgobGVuZ3RoOCkpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoODsgaSArPSA4KSB7XG4gICAgb3V0cHV0W2kgPj4gNV0gfD0gKGlucHV0W2kgLyA4XSAmIDB4ZmYpIDw8IGkgJSAzMjtcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG4vKlxuICogQWRkIGludGVnZXJzLCB3cmFwcGluZyBhdCAyXjMyLiBUaGlzIHVzZXMgMTYtYml0IG9wZXJhdGlvbnMgaW50ZXJuYWxseVxuICogdG8gd29yayBhcm91bmQgYnVncyBpbiBzb21lIEpTIGludGVycHJldGVycy5cbiAqL1xuXG5cbmZ1bmN0aW9uIHNhZmVBZGQoeCwgeSkge1xuICB2YXIgbHN3ID0gKHggJiAweGZmZmYpICsgKHkgJiAweGZmZmYpO1xuICB2YXIgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gIHJldHVybiBtc3cgPDwgMTYgfCBsc3cgJiAweGZmZmY7XG59XG4vKlxuICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0LlxuICovXG5cblxuZnVuY3Rpb24gYml0Um90YXRlTGVmdChudW0sIGNudCkge1xuICByZXR1cm4gbnVtIDw8IGNudCB8IG51bSA+Pj4gMzIgLSBjbnQ7XG59XG4vKlxuICogVGhlc2UgZnVuY3Rpb25zIGltcGxlbWVudCB0aGUgZm91ciBiYXNpYyBvcGVyYXRpb25zIHRoZSBhbGdvcml0aG0gdXNlcy5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1kNWNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XG4gIHJldHVybiBzYWZlQWRkKGJpdFJvdGF0ZUxlZnQoc2FmZUFkZChzYWZlQWRkKGEsIHEpLCBzYWZlQWRkKHgsIHQpKSwgcyksIGIpO1xufVxuXG5mdW5jdGlvbiBtZDVmZihhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiAmIGMgfCB+YiAmIGQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVnZyhhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiAmIGQgfCBjICYgfmQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVoaChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiBeIGMgXiBkLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1aWkoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGMgXiAoYiB8IH5kKSwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1kNTsiLCJleHBvcnQgZGVmYXVsdCAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJzsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbmZ1bmN0aW9uIHBhcnNlKHV1aWQpIHtcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cblxuICB2YXIgdjtcbiAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gUGFyc2UgIyMjIyMjIyMtLi4uLi0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDAsIDgpLCAxNikpID4+PiAyNDtcbiAgYXJyWzFdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMl0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzNdID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLSMjIyMtLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFycls0XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSg5LCAxMyksIDE2KSkgPj4+IDg7XG4gIGFycls1XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLSMjIyMtLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbNl0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTQsIDE4KSwgMTYpKSA+Pj4gODtcbiAgYXJyWzddID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0jIyMjLS4uLi4uLi4uLi4uLlxuXG4gIGFycls4XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxOSwgMjMpLCAxNikpID4+PiA4O1xuICBhcnJbOV0gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLS4uLi4tIyMjIyMjIyMjIyMjXG4gIC8vIChVc2UgXCIvXCIgdG8gYXZvaWQgMzItYml0IHRydW5jYXRpb24gd2hlbiBiaXQtc2hpZnRpbmcgaGlnaC1vcmRlciBieXRlcylcblxuICBhcnJbMTBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDI0LCAzNiksIDE2KSkgLyAweDEwMDAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzExXSA9IHYgLyAweDEwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMl0gPSB2ID4+PiAyNCAmIDB4ZmY7XG4gIGFyclsxM10gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsxNF0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzE1XSA9IHYgJiAweGZmO1xuICByZXR1cm4gYXJyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYXJzZTsiLCJleHBvcnQgZGVmYXVsdCAvXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7IiwiLy8gVW5pcXVlIElEIGNyZWF0aW9uIHJlcXVpcmVzIGEgaGlnaCBxdWFsaXR5IHJhbmRvbSAjIGdlbmVyYXRvci4gSW4gdGhlIGJyb3dzZXIgd2UgdGhlcmVmb3JlXG4vLyByZXF1aXJlIHRoZSBjcnlwdG8gQVBJIGFuZCBkbyBub3Qgc3VwcG9ydCBidWlsdC1pbiBmYWxsYmFjayB0byBsb3dlciBxdWFsaXR5IHJhbmRvbSBudW1iZXJcbi8vIGdlbmVyYXRvcnMgKGxpa2UgTWF0aC5yYW5kb20oKSkuXG52YXIgZ2V0UmFuZG9tVmFsdWVzO1xudmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcm5nKCkge1xuICAvLyBsYXp5IGxvYWQgc28gdGhhdCBlbnZpcm9ubWVudHMgdGhhdCBuZWVkIHRvIHBvbHlmaWxsIGhhdmUgYSBjaGFuY2UgdG8gZG8gc29cbiAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAvLyBnZXRSYW5kb21WYWx1ZXMgbmVlZHMgdG8gYmUgaW52b2tlZCBpbiBhIGNvbnRleHQgd2hlcmUgXCJ0aGlzXCIgaXMgYSBDcnlwdG8gaW1wbGVtZW50YXRpb24uIEFsc28sXG4gICAgLy8gZmluZCB0aGUgY29tcGxldGUgaW1wbGVtZW50YXRpb24gb2YgY3J5cHRvIChtc0NyeXB0bykgb24gSUUxMS5cbiAgICBnZXRSYW5kb21WYWx1ZXMgPSB0eXBlb2YgY3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pIHx8IHR5cGVvZiBtc0NyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyA9PT0gJ2Z1bmN0aW9uJyAmJiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byk7XG5cbiAgICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKCkgbm90IHN1cHBvcnRlZC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCNnZXRyYW5kb212YWx1ZXMtbm90LXN1cHBvcnRlZCcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpO1xufSIsIi8vIEFkYXB0ZWQgZnJvbSBDaHJpcyBWZW5lc3MnIFNIQTEgY29kZSBhdFxuLy8gaHR0cDovL3d3dy5tb3ZhYmxlLXR5cGUuY28udWsvc2NyaXB0cy9zaGExLmh0bWxcbmZ1bmN0aW9uIGYocywgeCwgeSwgeikge1xuICBzd2l0Y2ggKHMpIHtcbiAgICBjYXNlIDA6XG4gICAgICByZXR1cm4geCAmIHkgXiB+eCAmIHo7XG5cbiAgICBjYXNlIDE6XG4gICAgICByZXR1cm4geCBeIHkgXiB6O1xuXG4gICAgY2FzZSAyOlxuICAgICAgcmV0dXJuIHggJiB5IF4geCAmIHogXiB5ICYgejtcblxuICAgIGNhc2UgMzpcbiAgICAgIHJldHVybiB4IF4geSBeIHo7XG4gIH1cbn1cblxuZnVuY3Rpb24gUk9UTCh4LCBuKSB7XG4gIHJldHVybiB4IDw8IG4gfCB4ID4+PiAzMiAtIG47XG59XG5cbmZ1bmN0aW9uIHNoYTEoYnl0ZXMpIHtcbiAgdmFyIEsgPSBbMHg1YTgyNzk5OSwgMHg2ZWQ5ZWJhMSwgMHg4ZjFiYmNkYywgMHhjYTYyYzFkNl07XG4gIHZhciBIID0gWzB4Njc0NTIzMDEsIDB4ZWZjZGFiODksIDB4OThiYWRjZmUsIDB4MTAzMjU0NzYsIDB4YzNkMmUxZjBdO1xuXG4gIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIG1zZyA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChieXRlcykpOyAvLyBVVEY4IGVzY2FwZVxuXG4gICAgYnl0ZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgKytpKSB7XG4gICAgICBieXRlcy5wdXNoKG1zZy5jaGFyQ29kZUF0KGkpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoYnl0ZXMpKSB7XG4gICAgLy8gQ29udmVydCBBcnJheS1saWtlIHRvIEFycmF5XG4gICAgYnl0ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChieXRlcyk7XG4gIH1cblxuICBieXRlcy5wdXNoKDB4ODApO1xuICB2YXIgbCA9IGJ5dGVzLmxlbmd0aCAvIDQgKyAyO1xuICB2YXIgTiA9IE1hdGguY2VpbChsIC8gMTYpO1xuICB2YXIgTSA9IG5ldyBBcnJheShOKTtcblxuICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgTjsgKytfaSkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDMyQXJyYXkoMTYpO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgKytqKSB7XG4gICAgICBhcnJbal0gPSBieXRlc1tfaSAqIDY0ICsgaiAqIDRdIDw8IDI0IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgMV0gPDwgMTYgfCBieXRlc1tfaSAqIDY0ICsgaiAqIDQgKyAyXSA8PCA4IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgM107XG4gICAgfVxuXG4gICAgTVtfaV0gPSBhcnI7XG4gIH1cblxuICBNW04gLSAxXVsxNF0gPSAoYnl0ZXMubGVuZ3RoIC0gMSkgKiA4IC8gTWF0aC5wb3coMiwgMzIpO1xuICBNW04gLSAxXVsxNF0gPSBNYXRoLmZsb29yKE1bTiAtIDFdWzE0XSk7XG4gIE1bTiAtIDFdWzE1XSA9IChieXRlcy5sZW5ndGggLSAxKSAqIDggJiAweGZmZmZmZmZmO1xuXG4gIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IE47ICsrX2kyKSB7XG4gICAgdmFyIFcgPSBuZXcgVWludDMyQXJyYXkoODApO1xuXG4gICAgZm9yICh2YXIgdCA9IDA7IHQgPCAxNjsgKyt0KSB7XG4gICAgICBXW3RdID0gTVtfaTJdW3RdO1xuICAgIH1cblxuICAgIGZvciAodmFyIF90ID0gMTY7IF90IDwgODA7ICsrX3QpIHtcbiAgICAgIFdbX3RdID0gUk9UTChXW190IC0gM10gXiBXW190IC0gOF0gXiBXW190IC0gMTRdIF4gV1tfdCAtIDE2XSwgMSk7XG4gICAgfVxuXG4gICAgdmFyIGEgPSBIWzBdO1xuICAgIHZhciBiID0gSFsxXTtcbiAgICB2YXIgYyA9IEhbMl07XG4gICAgdmFyIGQgPSBIWzNdO1xuICAgIHZhciBlID0gSFs0XTtcblxuICAgIGZvciAodmFyIF90MiA9IDA7IF90MiA8IDgwOyArK190Mikge1xuICAgICAgdmFyIHMgPSBNYXRoLmZsb29yKF90MiAvIDIwKTtcbiAgICAgIHZhciBUID0gUk9UTChhLCA1KSArIGYocywgYiwgYywgZCkgKyBlICsgS1tzXSArIFdbX3QyXSA+Pj4gMDtcbiAgICAgIGUgPSBkO1xuICAgICAgZCA9IGM7XG4gICAgICBjID0gUk9UTChiLCAzMCkgPj4+IDA7XG4gICAgICBiID0gYTtcbiAgICAgIGEgPSBUO1xuICAgIH1cblxuICAgIEhbMF0gPSBIWzBdICsgYSA+Pj4gMDtcbiAgICBIWzFdID0gSFsxXSArIGIgPj4+IDA7XG4gICAgSFsyXSA9IEhbMl0gKyBjID4+PiAwO1xuICAgIEhbM10gPSBIWzNdICsgZCA+Pj4gMDtcbiAgICBIWzRdID0gSFs0XSArIGUgPj4+IDA7XG4gIH1cblxuICByZXR1cm4gW0hbMF0gPj4gMjQgJiAweGZmLCBIWzBdID4+IDE2ICYgMHhmZiwgSFswXSA+PiA4ICYgMHhmZiwgSFswXSAmIDB4ZmYsIEhbMV0gPj4gMjQgJiAweGZmLCBIWzFdID4+IDE2ICYgMHhmZiwgSFsxXSA+PiA4ICYgMHhmZiwgSFsxXSAmIDB4ZmYsIEhbMl0gPj4gMjQgJiAweGZmLCBIWzJdID4+IDE2ICYgMHhmZiwgSFsyXSA+PiA4ICYgMHhmZiwgSFsyXSAmIDB4ZmYsIEhbM10gPj4gMjQgJiAweGZmLCBIWzNdID4+IDE2ICYgMHhmZiwgSFszXSA+PiA4ICYgMHhmZiwgSFszXSAmIDB4ZmYsIEhbNF0gPj4gMjQgJiAweGZmLCBIWzRdID4+IDE2ICYgMHhmZiwgSFs0XSA+PiA4ICYgMHhmZiwgSFs0XSAmIDB4ZmZdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzaGExOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIpIHtcbiAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHZhciB1dWlkID0gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7IC8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbi8vXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxudmFyIF9ub2RlSWQ7XG5cbnZhciBfY2xvY2tzZXE7IC8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxuXG5cbnZhciBfbGFzdE1TZWNzID0gMDtcbnZhciBfbGFzdE5TZWNzID0gMDsgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCBmb3IgQVBJIGRldGFpbHNcblxuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IG5ldyBBcnJheSgxNik7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxOyAvLyBub2RlIGFuZCBjbG9ja3NlcSBuZWVkIHRvIGJlIGluaXRpYWxpemVkIHRvIHJhbmRvbSB2YWx1ZXMgaWYgdGhleSdyZSBub3RcbiAgLy8gc3BlY2lmaWVkLiAgV2UgZG8gdGhpcyBsYXppbHkgdG8gbWluaW1pemUgaXNzdWVzIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50XG4gIC8vIHN5c3RlbSBlbnRyb3B5LiAgU2VlICMxODlcblxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbc2VlZEJ5dGVzWzBdIHwgMHgwMSwgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1dO1xuICAgIH1cblxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfSAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cblxuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBEYXRlLm5vdygpOyAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG5cbiAgdmFyIG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxOyAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG5cbiAgdmFyIGR0ID0gbXNlY3MgLSBfbGFzdE1TZWNzICsgKG5zZWNzIC0gX2xhc3ROU2VjcykgLyAxMDAwMDsgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuXG4gIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2xvY2tzZXEgPSBjbG9ja3NlcSArIDEgJiAweDNmZmY7XG4gIH0gLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuXG5cbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH0gLy8gUGVyIDQuMi4xLjIgVGhyb3cgZXJyb3IgaWYgdG9vIG1hbnkgdXVpZHMgYXJlIHJlcXVlc3RlZFxuXG5cbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWNcIik7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7IC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwOyAvLyBgdGltZV9sb3dgXG5cbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjsgLy8gYHRpbWVfbWlkYFxuXG4gIHZhciB0bWggPSBtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDAgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7IC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG5cbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmOyAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcblxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7IC8vIGBjbG9ja19zZXFfbG93YFxuXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjsgLy8gYG5vZGVgXG5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IHN0cmluZ2lmeShiKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjE7IiwiaW1wb3J0IHYzNSBmcm9tICcuL3YzNS5qcyc7XG5pbXBvcnQgbWQ1IGZyb20gJy4vbWQ1LmpzJztcbnZhciB2MyA9IHYzNSgndjMnLCAweDMwLCBtZDUpO1xuZXhwb3J0IGRlZmF1bHQgdjM7IiwiaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5pbXBvcnQgcGFyc2UgZnJvbSAnLi9wYXJzZS5qcyc7XG5cbmZ1bmN0aW9uIHN0cmluZ1RvQnl0ZXMoc3RyKSB7XG4gIHN0ciA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKTsgLy8gVVRGOCBlc2NhcGVcblxuICB2YXIgYnl0ZXMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGJ5dGVzLnB1c2goc3RyLmNoYXJDb2RlQXQoaSkpO1xuICB9XG5cbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG5leHBvcnQgdmFyIEROUyA9ICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IHZhciBVUkwgPSAnNmJhN2I4MTEtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChuYW1lLCB2ZXJzaW9uLCBoYXNoZnVuYykge1xuICBmdW5jdGlvbiBnZW5lcmF0ZVVVSUQodmFsdWUsIG5hbWVzcGFjZSwgYnVmLCBvZmZzZXQpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBzdHJpbmdUb0J5dGVzKHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWVzcGFjZSA9IHBhcnNlKG5hbWVzcGFjZSk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWVzcGFjZS5sZW5ndGggIT09IDE2KSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ05hbWVzcGFjZSBtdXN0IGJlIGFycmF5LWxpa2UgKDE2IGl0ZXJhYmxlIGludGVnZXIgdmFsdWVzLCAwLTI1NSknKTtcbiAgICB9IC8vIENvbXB1dGUgaGFzaCBvZiBuYW1lc3BhY2UgYW5kIHZhbHVlLCBQZXIgNC4zXG4gICAgLy8gRnV0dXJlOiBVc2Ugc3ByZWFkIHN5bnRheCB3aGVuIHN1cHBvcnRlZCBvbiBhbGwgcGxhdGZvcm1zLCBlLmcuIGBieXRlcyA9XG4gICAgLy8gaGFzaGZ1bmMoWy4uLm5hbWVzcGFjZSwgLi4uIHZhbHVlXSlgXG5cblxuICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KDE2ICsgdmFsdWUubGVuZ3RoKTtcbiAgICBieXRlcy5zZXQobmFtZXNwYWNlKTtcbiAgICBieXRlcy5zZXQodmFsdWUsIG5hbWVzcGFjZS5sZW5ndGgpO1xuICAgIGJ5dGVzID0gaGFzaGZ1bmMoYnl0ZXMpO1xuICAgIGJ5dGVzWzZdID0gYnl0ZXNbNl0gJiAweDBmIHwgdmVyc2lvbjtcbiAgICBieXRlc1s4XSA9IGJ5dGVzWzhdICYgMHgzZiB8IDB4ODA7XG5cbiAgICBpZiAoYnVmKSB7XG4gICAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IGJ5dGVzW2ldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnVmO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJpbmdpZnkoYnl0ZXMpO1xuICB9IC8vIEZ1bmN0aW9uI25hbWUgaXMgbm90IHNldHRhYmxlIG9uIHNvbWUgcGxhdGZvcm1zICgjMjcwKVxuXG5cbiAgdHJ5IHtcbiAgICBnZW5lcmF0ZVVVSUQubmFtZSA9IG5hbWU7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICB9IGNhdGNoIChlcnIpIHt9IC8vIEZvciBDb21tb25KUyBkZWZhdWx0IGV4cG9ydCBzdXBwb3J0XG5cblxuICBnZW5lcmF0ZVVVSUQuRE5TID0gRE5TO1xuICBnZW5lcmF0ZVVVSUQuVVJMID0gVVJMO1xuICByZXR1cm4gZ2VuZXJhdGVVVUlEO1xufSIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdpZnkocm5kcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHY0OyIsImltcG9ydCB2MzUgZnJvbSAnLi92MzUuanMnO1xuaW1wb3J0IHNoYTEgZnJvbSAnLi9zaGExLmpzJztcbnZhciB2NSA9IHYzNSgndjUnLCAweDUwLCBzaGExKTtcbmV4cG9ydCBkZWZhdWx0IHY1OyIsImltcG9ydCBSRUdFWCBmcm9tICcuL3JlZ2V4LmpzJztcblxuZnVuY3Rpb24gdmFsaWRhdGUodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuZnVuY3Rpb24gdmVyc2lvbih1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlSW50KHV1aWQuc3Vic3RyKDE0LCAxKSwgMTYpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2ZXJzaW9uOyIsImltcG9ydCB7IEVWVF9XSURHRVRfUkVBRFkgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBicm93c2VyLCBnZXREZXZpY2VUeXBlIH0gZnJvbSAnLi9icm93c2VyLWRldGVjdCc7XG5cbmxldCBhbmFseXRpY3NUYXJnZXQgPSBudWxsO1xuY29uc3QgbWFya3MgPSBbXTtcblxuZnVuY3Rpb24gc2VuZFJUVU1FdmVudChwYXJhbXMpIHtcbiAgaWYgKGFuYWx5dGljc1RhcmdldCkge1xuICAgIGFuYWx5dGljc1RhcmdldC5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShwYXJhbXMpLCAnKicpO1xuICB9IGVsc2Uge1xuICAgIG1hcmtzLnB1c2gocGFyYW1zKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VuZEFuYWx5dGljcyhldmVudE5hbWUsIGRhdGEpIHtcbiAgY29uc3QgcGFyYW1zID0ge1xuICAgIGV2ZW50OiBldmVudE5hbWUsXG4gICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICBob3N0OiB3aW5kb3cubG9jYXRpb24uaG9zdCxcbiAgICB0aXRsZTogZG9jdW1lbnQudGl0bGUsXG4gICAgdHM6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgIGJyb3dzZXI6IGJyb3dzZXIsXG4gICAgZGV2aWNlOiBnZXREZXZpY2VUeXBlKCksXG4gICAgLi4uZGF0YSxcbiAgfTtcbiAgcmV0dXJuIHNlbmRSVFVNRXZlbnQocGFyYW1zKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoYW5hbHl0aWNzSWZyYW1lLCBkYXRhKSB7XG4gIGlmIChhbmFseXRpY3NJZnJhbWUgJiYgYW5hbHl0aWNzSWZyYW1lLmNvbnRlbnRXaW5kb3cpIHtcbiAgICBhbmFseXRpY3NUYXJnZXQgPSBhbmFseXRpY3NJZnJhbWUuY29udGVudFdpbmRvdztcblxuICAgIHNlbmRBbmFseXRpY3MoRVZUX1dJREdFVF9SRUFEWSwgZGF0YSk7XG5cbiAgICB3aGlsZSAobWFya3MubGVuZ3RoID4gMCkge1xuICAgICAgc2VuZFJUVU1FdmVudChtYXJrcy5zaGlmdCgpKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbmRBZG9iZUFuYWx5dGljc0ZvcldpZGdldChwYXJ0bmVySWQsIG1lcmNoYW50TmFtZSwgc3lmVG9rZW4sIHByZWZmZXJlZE9mZmVyLCBldmVudFR5cGUsIG9mZmVyVGV4dCxwZHBQcmljZSx3aWRnZXRUeXBlLHByb2R1Y3REZXNjcmlwdGlvbixmbG93VHlwZSxudW1iZXJPZk11bHRpV2lkZ2V0cyxpc1Nob3dDYXJkQXJ0PW51bGwsc3lmV2lkZ2V0VG9rZW49XCJcIikge1xuICAvL0Fkb2JlIEFuYWx5dGljcyBSZWxhdGVkIGZpZWxkc1xuICB2YXIgX1NGRERMID0gX1NGRERMIHx8IHt9O1xuICBfU0ZEREwucGFnZUluZm8gPSBfU0ZEREwucGFnZUluZm8gfHwge307XG4gIF9TRkRETC5mb3JtQWN0aW9uID0gX1NGRERMLmZvcm1BY3Rpb24gfHwge307XG4gIF9TRkRETC5jbGljayA9IF9TRkRETC5jbGljayB8fCB7fTtcblxuICB3aW5kb3cuX19zeWZfXyA9IHdpbmRvdy5fX3N5Zl9fIHx8IHt9O1xuICB3aW5kb3cuX19zeWZfXy5fU0ZEREwgPSBfU0ZEREwgfHwge307XG5cbiAgd2luZG93Ll9fc3lmX18uX1NGRERMLnBhZ2VJbmZvID0ge1xuICAgIFwiQ291bnRyeV9MYW5ndWFnZVwiOiBcIlVTfEVOR1wiLFxuICAgIFwiU2l0ZUlkZW50aWZpZXJcIjogXCJkaWdpdGFscG9zXCIsXG4gICAgXCJEZXZpY2VcIjogZ2V0RGV2aWNlVHlwZSgpLFxuICAgIFwiUE5MXCI6IFwiUFNcIixcbiAgICBcIkNsaWVudE5hbWVcIjogbWVyY2hhbnROYW1lLFxuICAgIFwiQ3VzdG9tZXJUeXBlXCI6IFwiY29uc3VtZXJcIixcbiAgICBcIlN5ZlBhcnRuZXJJRFwiOiBwYXJ0bmVySWQsXG4gICAgXCJQYWdlS2luZFwiOiBcIm1lcmNoYW50XCIsXG4gICAgXCJQYWdlRnVuY3Rpb25cIjogXCJvZmZlcnNfd2lkZ2V0XCIsXG4gICAgXCJQYWdlU3ViRnVuY3Rpb25cIjogXCJcIixcbiAgICBcIlBhZ2VOYW1lXCI6IFwib2ZmZXJfZGV0YWlsc19wYWdlXCIsXG4gICAgXCJQbGFjZW1lbnRzXCI6IGZsb3dUeXBlLFxuICAgIFwiVGFyZ2V0TmFtZVwiOiBcIlwiLFxuICAgIFwiVG9rZW5JZFwiOiBzeWZUb2tlbixcbiAgICBcIkNvbW1lbnRcIjogXCJXaWRnZXQgT24gQ2xpY2tcIixcbiAgICBcIk9mZmVyVHlwZVwiOiBwcmVmZmVyZWRPZmZlcixcbiAgICBcInBkcFByaWNlXCI6IHBkcFByaWNlLFxuICAgIFwid2lkZ2V0LXR5cGVcIjp3aWRnZXRUeXBlLFxuICAgIFwibnVtT2ZfTXVsdGlXaWRnZXRzXCI6IG51bWJlck9mTXVsdGlXaWRnZXRzXG4gIH07XG5cbiAgaWYoaXNTaG93Q2FyZEFydD09PVwidHJ1ZVwiKXtcbiAgICB3aW5kb3cuX19zeWZfXy5fU0ZEREwucGFnZUluZm9bXCJhYnRlc3RpbmdcIl09XCJBXCI7XG4gICAgd2luZG93Ll9fc3lmX18uX1NGRERMLnBhZ2VJbmZvW1wiV2lkZ2V0LXRva2VuXCJdID0gc3lmV2lkZ2V0VG9rZW47XG4gIH1cbiAgZWxzZSBpZihpc1Nob3dDYXJkQXJ0PT09XCJmYWxzZVwiKXtcbiAgICB3aW5kb3cuX19zeWZfXy5fU0ZEREwucGFnZUluZm9bXCJhYnRlc3RpbmdcIl09XCJCXCI7XG4gICAgd2luZG93Ll9fc3lmX18uX1NGRERMLnBhZ2VJbmZvW1wiV2lkZ2V0LXRva2VuXCJdID0gc3lmV2lkZ2V0VG9rZW47XG4gIH1cblxuICB3aW5kb3cuX19zeWZfXy5fU0ZEREwuZm9ybUFjdGlvbiA9IHtcbiAgICBcImFwcFR5cGVcIjogXCJNUFBfV0lER0VUXCIsXG4gICAgXCJwcm9kdWN0XCI6IFwiTVBQX1dJREdFVFwiLFxuICAgIFwiYWN0aW9uXCI6IFwiTVBQX1dJREdFVFwiXG4gIH07XG4gIHdpbmRvdy5fX3N5Zl9fLl9TRkRETC5jbGljayA9IHtcbiAgICAvL1wiYWN0aW9uXCI6IFwiQ29udmVyc2lvbkNsaWNrRXZlbnRcIixcbiAgICAvL1wiY2xhc3NOYW1lXCI6IFwiZW5zaWdodGVuY3VzdG9tZXZlbnRcIixcbiAgICBcImFjdGlvblwiOiBcInN5ZkNsaWNrRXZlbnRcIixcbiAgICBcImNsYXNzTmFtZVwiOiBcInN5ZkNsaWNrRXZlbnRcIixcbiAgICBcImRhdGEtb2JqZWN0XCI6IFwiYnV0dG9uXCIsXG4gICAgXCJkYXRhLXJlYXNvblwiOiBvZmZlclRleHQ9PT11bmRlZmluZWQ/XCJMZWFybiBob3cgJiBQcmVxdWFsaWZ5XCI6b2ZmZXJUZXh0LFxuICAgIFwiZGF0YS10eXBlXCI6IFwiYm9keVwiLFxuICAgIFwiY2xpY2stdHlwZVwiOnByb2R1Y3REZXNjcmlwdGlvblxuICB9XG4gIGlmIChPYmplY3Qua2V5cyh3aW5kb3cuX19zeWZfXy5fU0ZEREwpLmxlbmd0aCA+IDApe1xuICAgIGlmIChldmVudFR5cGUgPT09ICdsb2FkJykge1xuICAgICAgbGV0IHBhZ2VWaWV3RXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ3N5ZldpZGdldFBhZ2VWaWV3Jyk7XG4gICAgICBwYWdlVmlld0V2ZW50LmluaXRFdmVudChcInN5ZldpZGdldFBhZ2VWaWV3XCIpO1xuICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgIGRpc3BhdGNoRXZlbnQocGFnZVZpZXdFdmVudCk7XG4gICAgICB9LCA1MDApO1xuICAgIH1cbiAgICBpZiAoZXZlbnRUeXBlID09PSAnY2xpY2snKSB7XG4gICAgICBsZXQgZXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoJ3N5ZldpZGdldENsaWNrJyk7XG4gICAgICBldmVudC5pbml0RXZlbnQoXCJzeWZXaWRnZXRDbGlja1wiKTtcbiAgICAgIGRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cbiAgfSAgIFxufVxuIiwiLypcbiAgICBMb29wIENvbW1lcmNlXG4qL1xuXG5jb25zdCBCUk9XU0VSU19EQVRBID0gW3tcbiAgICBzdWJTdHJpbmc6IFwiRWRnZVwiLFxuICAgIGlkZW50aXR5OiBcIkVkZ2VcIixcbiAgICB2ZXJzaW9uU2VhcmNoOiBcIkVkZ2VcIlxufSwge1xuICAgIHN1YlN0cmluZzogXCJDcmlPU1wiLFxuICAgIGlkZW50aXR5OiBcIkNocm9tZV9pb3NcIixcbiAgICB2ZXJzaW9uU2VhcmNoOiBcIkNyaU9TXCJcbn0sIHtcbiAgICBzdWJTdHJpbmc6IFwiTVNJRVwiLFxuICAgIGlkZW50aXR5OiBcIkV4cGxvcmVyXCIsXG4gICAgdmVyc2lvblNlYXJjaDogXCJNU0lFXCJcbn0sIHtcbiAgICBzdWJTdHJpbmc6IFwiVHJpZGVudFwiLFxuICAgIGlkZW50aXR5OiBcIkV4cGxvcmVyXCIsXG4gICAgdmVyc2lvblNlYXJjaDogXCJydlwiXG59LCB7XG4gICAgc3ViU3RyaW5nOiBcIkZpcmVmb3hcIixcbiAgICBpZGVudGl0eTogXCJGaXJlZm94XCJcbn0sIHtcbiAgICBzdWJTdHJpbmc6IFwiRnhpT1NcIixcbiAgICBpZGVudGl0eTogXCJGaXJlZm94XCIsXG4gICAgdmVyc2lvblNlYXJjaDogXCJGeGlPU1wiXG59LCB7XG4gICAgc3ViU3RyaW5nOiBcIlNhbXN1bmdCcm93c2VyXCIsXG4gICAgaWRlbnRpdHk6IFwiU2Ftc3VuZ1wiLFxuICAgIHZlcnNpb25TZWFyY2g6IFwiU2Ftc3VuZ0Jyb3dzZXJcIlxufSwge1xuICAgIHN1YlN0cmluZzogXCJTaWxrXCIsXG4gICAgaWRlbnRpdHk6IFwiU2lsa1wiLFxuICAgIHZlcnNpb25TZWFyY2g6IFwiU2lsa1wiXG59LCB7XG4gICAgc3ViU3RyaW5nOiBcIkNocm9tZVwiLFxuICAgIGlkZW50aXR5OiBcIkNocm9tZVwiXG59LCB7XG4gICAgc3ViU3RyaW5nOiBcIkFwcGxlXCIsXG4gICAgaWRlbnRpdHk6IFwiU2FmYXJpXCIsXG4gICAgdmVyc2lvblNlYXJjaDogXCJWZXJzaW9uXCJcbn0sIHtcbiAgICBpZGVudGl0eTogXCJPcGVyYVwiLFxuICAgIHZlcnNpb25TZWFyY2g6IFwiVmVyc2lvblwiXG59LCB7XG4gICAgc3ViU3RyaW5nOiBcIk9QUlwiLFxuICAgIGlkZW50aXR5OiBcIk9wZXJhXCIsXG4gICAgdmVyc2lvblNlYXJjaDogXCJPUFJcIlxufSwge1xuICAgIHN1YlN0cmluZzogXCJHZWNrb1wiLFxuICAgIGlkZW50aXR5OiBcIk1vemlsbGFcIixcbiAgICB2ZXJzaW9uU2VhcmNoOiBcInJ2XCJcbn0sIHsgLy8gZm9yIG9sZGVyIE5ldHNjYXBlcyAoNC0pXG4gICAgc3ViU3RyaW5nOiBcIk1vemlsbGFcIixcbiAgICBpZGVudGl0eTogXCJOZXRzY2FwZVwiLFxuICAgIHZlcnNpb25TZWFyY2g6IFwiTW96aWxsYVwiXG59XTtcblxudmFyIHN1cHBvcnRzTW9kZXJuU3ludGF4ID0gZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIHllcyBldmFsIGlzIGV2aWwsIGJ1dCB3ZSBoYXZlIGZ1bGwgY29udHJvbCBvdmVyIHRoZSBpbnB1dCB2YWx1ZSBoZXJlXG4gICAgICAgIC8vIHdlIHNob3VsZCBub3QgZXZlciB1c2UgZXZhbCBvciBuZXcgRnVuY3Rpb24oLi4uKSB3aXRoIHZhcmlhYmxlIHN0cmluZ3NcbiAgICAgICAgLy8gdGhlIHRyeSAvIGNhdGNoIGRvZXNuJ3Qgd29yayB3aXRob3V0IHdyYXBwaW5nIHRoaXMgY29kZSBpbiBldmFsXG4gICAgICAgIGV2YWwoJ2NvbnN0IHsgZm9vIH0gPSB7IGZvbzogXCJiYXJcIiB9OycpOyAvLyBkZXN0cnVjdHVyaW5nXG4gICAgICAgIGV2YWwoJ2NvbnN0IGZvbyA9IHt9OyBjb25zdCBiYXIgPSB7IC4uLmZvbyB9OycpOyAvLyAgbWVyZ2luZ1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gc3ludGF4IGVycm9yXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn0oKTtcblxuLy8gSW5pdGlhbCBzZXR1cFxubGV0IHticm93c2VyLCB2ZXJzaW9ufSA9IGdldEJyb3dzZXJEYXRhKG5hdmlnYXRvci51c2VyQWdlbnQsIEJST1dTRVJTX0RBVEEpO1xuXG4vKipcbiAqIFJldHVybiBicm93c2VyIG5hbWUgYW5kIHZlcnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlckFnZW50XSAtIEEgdXNlciBhZ2VudCBzdHJpbmcuIEl0IGlzIG9wdGlvbmFsLiBJZiBub3QgZ2l2ZW4sIGdsb2JhbCBgbmF2aWdhdG9yLnVzZXJBZ2VudGAgd2lsbCBiZSB1c2VkLlxuICogQHBhcmFtIHthcnJheX0gYnJvd3NlckRhdGFMaXN0IC0gQSBsaXN0IG9mIGJyb3dzZXJzIHdpdGggYnJvd3NlciBzZWFyY2ggc3RyaW5ncyBhbmQgdmVyc2lvbiBzZWFyY2ggc3RyaW5nc1xuICogQHJldHVybnMge29iamVjdH0gQnJvd3NlciBuYW1lIGFuZCB2ZXJzaW9uLCBlZy4geydDaHJvbWUnLCA4MH1cbiAqL1xuZnVuY3Rpb24gZ2V0QnJvd3NlckRhdGEodXNlckFnZW50LCBicm93c2VyRGF0YUxpc3QpIHtcbiAgICBjb25zdCBjdXJyZW50VXNlckFnZW50ID0gdXNlckFnZW50IHx8IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgbGV0IGJyb3dzZXIgPSBcInVua25vd24gYnJvd3NlclwiO1xuICAgIGxldCB2ZXJzaW9uID0gXCJ1bmtub3duIHZlcnNpb25cIjtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJyb3dzZXJEYXRhTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY3VycmVudFVzZXJBZ2VudC5pbmRleE9mKGJyb3dzZXJEYXRhTGlzdFtpXS5zdWJTdHJpbmcpICE9IC0xKSB7XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uU2VhcmNoU3RyaW5nID0gYnJvd3NlckRhdGFMaXN0W2ldLnZlcnNpb25TZWFyY2ggfHwgYnJvd3NlckRhdGFMaXN0W2ldLmlkZW50aXR5O1xuICAgICAgICAgICAgdmVyc2lvbiA9IGdldEJyb3dzZXJWZXJzaW9uKGN1cnJlbnRVc2VyQWdlbnQsIHZlcnNpb25TZWFyY2hTdHJpbmcpO1xuICAgICAgICAgICAgYnJvd3NlciA9IGJyb3dzZXJEYXRhTGlzdFtpXS5pZGVudGl0eTtcbiAgICAgICAgICAgIHJldHVybiB7IGJyb3dzZXIsIHZlcnNpb24gfTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgYnJvd3NlciwgdmVyc2lvbiB9O1xufVxuXG4vKipcbiAqIFJldHVybiBicm93c2VyIHZlcnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlckFnZW50XSAtIEEgdXNlciBhZ2VudCBzdHJpbmcuIEl0IGlzIG9wdGlvbmFsLiBJZiBub3QgZ2l2ZW4sIGdsb2JhbCBgbmF2aWdhdG9yLnVzZXJBZ2VudGAgd2lsbCBiZSB1c2VkLlxuICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb25TZWFyY2hTdHJpbmcgLSBBIHZlcnNpb24gc2VhcmNoIHN0cmluZyB0byBnZXQgYSB2ZXJzaW9uIG51bWJlciBmcm9tIGEgdXNlckFnZW50IHN0cmluZ1xuICogQHJldHVybnMge3N0cmluZ30gQnJvd3NlciB2ZXJzaW9uIG51bWJlclxuICovXG5mdW5jdGlvbiBnZXRCcm93c2VyVmVyc2lvbih1c2VyQWdlbnQsIHZlcnNpb25TZWFyY2hTdHJpbmcpIHtcbiAgICB2YXIgaW5kZXggPSB1c2VyQWdlbnQuaW5kZXhPZih2ZXJzaW9uU2VhcmNoU3RyaW5nKTtcbiAgICBpZiAoaW5kZXggPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VGbG9hdCh1c2VyQWdlbnQuc3Vic3RyaW5nKGluZGV4ICsgdmVyc2lvblNlYXJjaFN0cmluZy5sZW5ndGggKyAxKSk7XG59XG5cbi8vIFBsYXRmb3JtXG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgdGhlIGVudiBpcyBNYWNcbiAqIEBwYXJhbSB7c3RyaW5nfSBbdXNlckFnZW50XSAtIEEgdXNlciBhZ2VudCBzdHJpbmcuIEl0IGlzIG9wdGlvbmFsLiBJZiBub3QgZ2l2ZW4sIGdsb2JhbCBgbmF2aWdhdG9yLnVzZXJBZ2VudGAgd2lsbCBiZSB1c2VkLlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVudiBpcyBNYWNcbiAqL1xuZnVuY3Rpb24gaXNNYWModXNlckFnZW50KSB7XG4gICAgY29uc3QgY3VycmVudFVzZXJBZ2VudCA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIHJldHVybiBjdXJyZW50VXNlckFnZW50LmluZGV4T2YoJ01hYycpID4gLTEgJiYgIS9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KGN1cnJlbnRVc2VyQWdlbnQpO1xufVxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgZW52IGlzIFdpbmRvd1xuICogQHBhcmFtIHtzdHJpbmd9IFt1c2VyQWdlbnRdIC0gQSB1c2VyIGFnZW50IHN0cmluZy4gSXQgaXMgb3B0aW9uYWwuIElmIG5vdCBnaXZlbiwgZ2xvYmFsIGBuYXZpZ2F0b3IudXNlckFnZW50YCB3aWxsIGJlIHVzZWQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZW52IGlzIFdpbmRvd1xuICovXG5mdW5jdGlvbiBpc1dpbmRvd3ModXNlckFnZW50KSB7XG4gICAgY29uc3QgY3VycmVudFVzZXJBZ2VudCA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIHJldHVybiBjdXJyZW50VXNlckFnZW50LmluZGV4T2YoJ1dpbicpID4gLTE7XG59XG5cbi8vIE9TXG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgdGhlIGVudiBpcyBBbmRyb2lkXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJBZ2VudF0gLSBBIHVzZXIgYWdlbnQgc3RyaW5nLiBJdCBpcyBvcHRpb25hbC4gSWYgbm90IGdpdmVuLCBnbG9iYWwgYG5hdmlnYXRvci51c2VyQWdlbnRgIHdpbGwgYmUgdXNlZC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBlbnYgaXMgQW5kcm9pZFxuICovXG5mdW5jdGlvbiBpc0FuZHJvaWQodXNlckFnZW50KSB7XG4gICAgY29uc3QgY3VycmVudFVzZXJBZ2VudCA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIHJldHVybiBjdXJyZW50VXNlckFnZW50LnNlYXJjaCgvYW5kcm9pZC9pKSA+IC0xICYmIGN1cnJlbnRVc2VyQWdlbnQuaW5kZXhPZignV2luJyk9PT0gLTE7XG59XG4vKipcbiAqIFJldHVybiB0cnVlIGlmIHRoZSBlbnYgaXMgSU9TXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJBZ2VudF0gLSBBIHVzZXIgYWdlbnQgc3RyaW5nLiBJdCBpcyBvcHRpb25hbC4gSWYgbm90IGdpdmVuLCBnbG9iYWwgYG5hdmlnYXRvci51c2VyQWdlbnRgIHdpbGwgYmUgdXNlZC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBlbnYgaXMgSU9TXG4gKi9cbmZ1bmN0aW9uIGlzSW9zKHVzZXJBZ2VudCkge1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyQWdlbnQgPSB1c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICByZXR1cm4gL2lQYWR8aVBob25lfGlQb2QvLnRlc3QoY3VycmVudFVzZXJBZ2VudCkgJiYgIXdpbmRvdy5NU1N0cmVhbTtcbn1cbi8qKlxuICogUmV0dXJuIElPUyBWZXJzaW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJBZ2VudF0gLSBBIHVzZXIgYWdlbnQgc3RyaW5nLiBJdCBpcyBvcHRpb25hbC4gSWYgbm90IGdpdmVuLCBnbG9iYWwgYG5hdmlnYXRvci51c2VyQWdlbnRgIHdpbGwgYmUgdXNlZC5cbiAqIEByZXR1cm5zIHtmbG9hdH0gSU9TIFZlcnNpb24gbnVtYmVyXG4gKi9cbmZ1bmN0aW9uIGdldGlPU1ZlcnNpb24odXNlckFnZW50KSB7XG4gICAgY29uc3QgY3VycmVudFVzZXJBZ2VudCA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIGlmKCFpc0lvcyhjdXJyZW50VXNlckFnZW50KSl7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBtYXRjaCA9IGN1cnJlbnRVc2VyQWdlbnQubWF0Y2goL09TIChcXGQrKV8oXFxkKylfPyhcXGQrKT8vKTtcbiAgICB2YXIgdmVyc2lvbjtcblxuICAgIGlmIChtYXRjaCAhPT0gdW5kZWZpbmVkICYmIG1hdGNoICE9PSBudWxsKSB7XG4gICAgICAgIHZlcnNpb24gPSBbXG4gICAgICAgICAgICBwYXJzZUludChtYXRjaFsxXSwgMTApLFxuICAgICAgICAgICAgcGFyc2VJbnQobWF0Y2hbMl0sIDEwKSxcbiAgICAgICAgICAgIHBhcnNlSW50KG1hdGNoWzNdIHx8IDAsIDEwKVxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2ZXJzaW9uLmpvaW4oJy4nKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBJRVxuXG4vKipcbiAqIFJldHVybiB0cnVlIGlmIHRoZSBicm93c2VyIGlzIElFXG4gKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJBZ2VudF0gLSBBIHVzZXIgYWdlbnQgc3RyaW5nLiBJdCBpcyBvcHRpb25hbC4gSWYgbm90IGdpdmVuLCBnbG9iYWwgYG5hdmlnYXRvci51c2VyQWdlbnRgIHdpbGwgYmUgdXNlZC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBicm93c2VyIGlzIElFXG4gKi9cbmZ1bmN0aW9uIGlzSUUodXNlckFnZW50KSB7XG4gICAgY29uc3QgY3VycmVudFVzZXJBZ2VudCA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIGxldCBjdXJyZW50QnJvd3NlciA9IGJyb3dzZXI7XG4gICAgaWYgKHVzZXJBZ2VudCB8fCAhYnJvd3Nlcikge1xuICAgICAgICBjdXJyZW50QnJvd3NlciA9IGdldEJyb3dzZXJEYXRhKGN1cnJlbnRVc2VyQWdlbnQsIEJST1dTRVJTX0RBVEEpLmJyb3dzZXI7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50QnJvd3NlciA9PT0gJ0V4cGxvcmVyJztcbn1cblxuLyoqXG4gKiBSZXR1cm4gSUUgdmVyc2lvblxuICogQHBhcmFtIHtzdHJpbmd9IFt1c2VyQWdlbnRdIC0gQSB1c2VyIGFnZW50IHN0cmluZy4gSXQgaXMgb3B0aW9uYWwuIElmIG5vdCBnaXZlbiwgZ2xvYmFsIGBuYXZpZ2F0b3IudXNlckFnZW50YCB3aWxsIGJlIHVzZWQuXG4gKiBAcmV0dXJucyB7aW50ZWdlcn0gSUUgdmVyc2lvbiBudW1iZXJcbiAqL1xuLy8gbm90ZTogb25seSB3b3JrcyBmb3IgSUUgMTAgYW5kIGRvd24sIHJldHVybnMgbnVsbCBvdGhlcndpc2Ugc28gdXNlIHNwZWNpZmljIGRldGVjdGlvblxuLy8gZm9yIGllMTEgb3IgZWRnZVxuZnVuY3Rpb24gZ2V0SUVWZXJzaW9uKHVzZXJBZ2VudCkge1xuICAgIHZhciBteU5hdiA9IHVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiAobXlOYXYuaW5kZXhPZignbXNpZScpICE9IC0xKSA/IHBhcnNlSW50KG15TmF2LnNwbGl0KCdtc2llJylbMV0pIDogbnVsbDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgYnJvd3NlciBpcyBJRSAxMVxuICogQHBhcmFtIHtzdHJpbmd9IFt1c2VyQWdlbnRdIC0gQSB1c2VyIGFnZW50IHN0cmluZy4gSXQgaXMgb3B0aW9uYWwuIElmIG5vdCBnaXZlbiwgZ2xvYmFsIGBuYXZpZ2F0b3IudXNlckFnZW50YCB3aWxsIGJlIHVzZWQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgYnJvd3NlciBpcyBJRSAxMVxuICovXG5mdW5jdGlvbiBpc0lFMTEodXNlckFnZW50KSB7XG4gICAgY29uc3QgY3VycmVudFVzZXJBZ2VudCA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIGxldCBpZVZlcnNpb24gPSB2ZXJzaW9uIHx8IGdldEJyb3dzZXJEYXRhKGN1cnJlbnRVc2VyQWdlbnQsIEJST1dTRVJTX0RBVEEpLnZlcnNpb247XG4gICAgcmV0dXJuIGlzSUUodXNlckFnZW50KSAmJiBpZVZlcnNpb24gPT0gJzExJztcbn1cblxuLyoqXG4gKiBERVBSRUNBVEVEOiBSZXR1cm4gdHJ1ZSBpZiBMb29wIGlzIHN1cHBvcnRpbmcgdGhlIGN1cnJlbnQgYnJvd3NlclxuICogVXNlIGBpcy1zdXBwb3J0ZWQvaW5kZXguanNgIGluIGZhdm9yIG9mIHRoaXMgZnVuY3Rpb24uIFRoaXMgYnJvd3NlciBzdXBwb3J0XG4gKiBkZXRlY3Rpb24gY29kZSBmYWlscyB0byBydW4gb24gb2xkZXIgYnJvd3NlcnMuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IFt1c2VyQWdlbnRdIC0gQSB1c2VyIGFnZW50IHN0cmluZy4gSXQgaXMgb3B0aW9uYWwuIElmIG5vdCBnaXZlbiwgZ2xvYmFsIGBuYXZpZ2F0b3IudXNlckFnZW50YCB3aWxsIGJlIHVzZWQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBMb29wIGlzIHN1cHBvcnRpbmcgdGhlIGN1cnJlbnQgYnJvd3NlclxuICovXG5mdW5jdGlvbiBsZWdhY3lJc1N1cHBvcnRlZCh1c2VyQWdlbnQpIHtcbiAgICBjb25zdCBpc0lFMTFPckxlc3MgPSBpc0lFKHVzZXJBZ2VudCkgJiYgZ2V0SUVWZXJzaW9uKHVzZXJBZ2VudCkgJiYgZ2V0SUVWZXJzaW9uKHVzZXJBZ2VudCkgPD0gMTE7XG4gICAgcmV0dXJuICFpc0lFMTFPckxlc3MgJiYgc3VwcG9ydHNNb2Rlcm5TeW50YXg7XG59XG5cbi8qKlxuICogUmV0dXJuIHRydWUgaWYgdGhlIGJyb3dzZXIgaXMgRWRnZVxuICogQHBhcmFtIHtzdHJpbmd9IFt1c2VyQWdlbnRdIC0gQSB1c2VyIGFnZW50IHN0cmluZy4gSXQgaXMgb3B0aW9uYWwuIElmIG5vdCBnaXZlbiwgZ2xvYmFsIGBuYXZpZ2F0b3IudXNlckFnZW50YCB3aWxsIGJlIHVzZWQuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgYnJvd3NlciBpcyBFZGdlXG4gKi9cbmZ1bmN0aW9uIGlzRWRnZSh1c2VyQWdlbnQpIHtcbiAgICBjb25zdCBjdXJyZW50VXNlckFnZW50ID0gdXNlckFnZW50IHx8IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgcmV0dXJuIC9FZGdlXFwvXFxkLi9pLnRlc3QoY3VycmVudFVzZXJBZ2VudCk7XG59XG5cbmxldCBtb2JpbGU7XG5cbi8qKlxuKiBzZXRzIG1vYmlsZSB2YXJpYWJsZSB3aXRoIGEgZ2l2ZW4gYm9vbGVhbiB2YWx1ZSBmb3IgdGVzdGluZyBwdXJwb3Nlc1xuKiBAcGFyYW0ge2Jvb2xlYW59IGlzTW9iaWxlIC0gcGFzcyBpbiBhIGJvb2xlYW4gdmFsdWUgdG8gc2V0IHRoZSBsb2NhbCBgbW9iaWxlYCB2YXJpYWJsZVxuKi9cbmZ1bmN0aW9uIHNldE1vYmlsZShpc01vYmlsZSkge1xuICAgIG1vYmlsZSA9IGlzTW9iaWxlO1xufVxuLyoqXG4qIFJldHVybiB0cnVlIGlmIHRoZSBlbnYgaXMgYSBtb2JpbGUgZGV2aWNlXG4qIEBwYXJhbSB7c3RyaW5nfSBbdXNlckFnZW50XSAtIEEgdXNlciBhZ2VudCBzdHJpbmcuIEl0IGlzIG9wdGlvbmFsLiBJZiBub3QgZ2l2ZW4sIGdsb2JhbCBgbmF2aWdhdG9yLnVzZXJBZ2VudGAgd2lsbCBiZSB1c2VkLlxuKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZW52IGlzIGEgbW9iaWxlIGRldmljZVxuKi9cbmZ1bmN0aW9uIGlzTW9iaWxlKHVzZXJBZ2VudCkge1xuICAgIGlmIChtb2JpbGUpIHJldHVybiBtb2JpbGU7XG4gICAgY29uc3QgY3VycmVudFVzZXJBZ2VudCA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIG1vYmlsZSA9IC9pUChob25lfG9kKXxBbmRyb2lkKC4qbW9iaWxlKXxCbGFja0JlcnJ5fElFTW9iaWxlL2kudGVzdChjdXJyZW50VXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yfHx3aW5kb3cub3BlcmEpO1xuICAgIHJldHVybiBtb2JpbGU7XG59XG5cbi8qKlxuKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgZGV2aWNlIGlzIGFuIGlQYWRcbiogQHBhcmFtIHtzdHJpbmd9IFt1c2VyQWdlbnRdIC0gQSB1c2VyIGFnZW50IHN0cmluZy4gSXQgaXMgb3B0aW9uYWwuIElmIG5vdCBnaXZlbiwgZ2xvYmFsIGBuYXZpZ2F0b3IudXNlckFnZW50YCB3aWxsIGJlIHVzZWQuXG4qIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBkZXZpY2UgaXMgYW4gaVBhZFxuKi9cbmZ1bmN0aW9uIGlzSXBhZCh1c2VyQWdlbnQpIHtcbiAgICBjb25zdCBjdXJyZW50VXNlckFnZW50ID0gdXNlckFnZW50IHx8IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgLy9UaGUgT3Zlcmx5IEV4cGxpY2l0IDkwJSBTb2x1dGlvbiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9kYWxldGhlZGV2ZWxvcGVyLzE1MDMyNTJcbiAgICBjb25zdCBpcGFkID0gL2lQYWQvLnRlc3QoY3VycmVudFVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHdpbmRvdy5vcGVyYSk7XG4gICAgLy8gaVBhZCBPUyBzdGFydHMgc2VuZGluZyBkZXNrdG9wIFVBIGZyb20gdmVyc2lvbiAxMywgd2UgbmVlZCB0byBjb21iaW5lIGl0IHdpdGggYSBmZWF0dXJlIGRldGVjdGlvblxuICAgIC8vIHRvIG1ha2Ugc3VyZSBpdCdzIGFuIGlQYWQuXG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3NlcmJhbmdoaXRhL01vYmlsZS1EZXRlY3QvaXNzdWVzLzc5NVxuICAgIC8vIFRoaXMgd2lsbCB3b3JrIHVubGVzcyBvbmUgZGF5LCBBcHBsZSBkZWNpZGVkIHRvIHNoaXAgYSBNYWNib29rIHdpdGguLi4gYSB0b3VjaCBzY3JlZW4uXG4gICAgY29uc3QgaXBhZG9zID0gL01hY2ludG9zaC8udGVzdChjdXJyZW50VXNlckFnZW50KSAmJiAnb250b3VjaGVuZCcgaW4gZG9jdW1lbnQ7XG4gICAgcmV0dXJuIGlwYWQgfHwgaXBhZG9zO1xufVxuXG4vKipcbiogUmV0dXJuIHRydWUgaWYgdGhlIGRldmljZSBpcyBhbiBpUGhvbmVcbiogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVudiBpcyBhbiBpUGhvbmVcbiovXG5mdW5jdGlvbiBpc0lwaG9uZSh1c2VyQWdlbnQpIHtcbiAgICByZXR1cm4gaXNNb2JpbGUodXNlckFnZW50KSAmJiBpc0lvcyh1c2VyQWdlbnQpO1xufVxuXG4vLyBCcm93c2VyXG5cbi8qKlxuKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgYnJvd3NlciBpcyBDaHJvbWVcbiogQHBhcmFtIHtzdHJpbmd9IFt1c2VyQWdlbnRdIC0gQSB1c2VyIGFnZW50IHN0cmluZy4gSXQgaXMgb3B0aW9uYWwuIElmIG5vdCBnaXZlbiwgZ2xvYmFsIGBuYXZpZ2F0b3IudXNlckFnZW50YCB3aWxsIGJlIHVzZWQuXG4qIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBicm93c2VyIGlzIENocm9tZVxuKi9cbmZ1bmN0aW9uIGlzQ2hyb21lKHVzZXJBZ2VudCkge1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyQWdlbnQgPSB1c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICBsZXQgY3VycmVudEJyb3dzZXIgPSBicm93c2VyO1xuICAgIGlmICh1c2VyQWdlbnQgfHwgIWJyb3dzZXIpIHtcbiAgICAgICAgY3VycmVudEJyb3dzZXIgPSBnZXRCcm93c2VyRGF0YShjdXJyZW50VXNlckFnZW50LCBCUk9XU0VSU19EQVRBKS5icm93c2VyO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudEJyb3dzZXIgPT0gXCJDaHJvbWVcIjtcbn1cblxuLyoqXG4qIFJldHVybiB0cnVlIGlmIHRoZSBicm93c2VyIGlzIFNhZmFyaVxuKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJBZ2VudF0gLSBBIHVzZXIgYWdlbnQgc3RyaW5nLiBJdCBpcyBvcHRpb25hbC4gSWYgbm90IGdpdmVuLCBnbG9iYWwgYG5hdmlnYXRvci51c2VyQWdlbnRgIHdpbGwgYmUgdXNlZC5cbiogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGJyb3dzZXIgaXMgU2FmYXJpXG4qL1xuZnVuY3Rpb24gaXNTYWZhcmkodXNlckFnZW50KSB7XG4gICAgY29uc3QgY3VycmVudFVzZXJBZ2VudCA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIGxldCBjdXJyZW50QnJvd3NlciA9IGJyb3dzZXI7XG4gICAgaWYgKHVzZXJBZ2VudCB8fCAhYnJvd3Nlcikge1xuICAgICAgICBjdXJyZW50QnJvd3NlciA9IGdldEJyb3dzZXJEYXRhKGN1cnJlbnRVc2VyQWdlbnQsIEJST1dTRVJTX0RBVEEpLmJyb3dzZXI7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50QnJvd3NlciA9PSBcIlNhZmFyaVwiO1xufVxuXG4vKipcbiogUmV0dXJuIHRydWUgaWYgdGhlIGJyb3dzZXIgaXMgRmlyZUZveFxuKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJBZ2VudF0gLSBBIHVzZXIgYWdlbnQgc3RyaW5nLiBJdCBpcyBvcHRpb25hbC4gSWYgbm90IGdpdmVuLCBnbG9iYWwgYG5hdmlnYXRvci51c2VyQWdlbnRgIHdpbGwgYmUgdXNlZC5cbiogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGJyb3dzZXIgaXMgRmlyZUZveFxuKi9cbmZ1bmN0aW9uIGlzRmlyZWZveCh1c2VyQWdlbnQpIHtcbiAgICBjb25zdCBjdXJyZW50VXNlckFnZW50ID0gdXNlckFnZW50IHx8IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgbGV0IGN1cnJlbnRCcm93c2VyID0gYnJvd3NlcjtcbiAgICBpZiAodXNlckFnZW50IHx8ICFicm93c2VyKSB7XG4gICAgICAgIGN1cnJlbnRCcm93c2VyID0gZ2V0QnJvd3NlckRhdGEoY3VycmVudFVzZXJBZ2VudCwgQlJPV1NFUlNfREFUQSkuYnJvd3NlcjtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRCcm93c2VyID09IFwiRmlyZWZveFwiO1xufVxuXG4vKipcbiogUmV0dXJuIHRydWUgaWYgdGhlIG9zIGlzIENocm9tZV9pb3NcbiogQHBhcmFtIHtzdHJpbmd9IFt1c2VyQWdlbnRdIC0gQSB1c2VyIGFnZW50IHN0cmluZy4gSXQgaXMgb3B0aW9uYWwuIElmIG5vdCBnaXZlbiwgZ2xvYmFsIGBuYXZpZ2F0b3IudXNlckFnZW50YCB3aWxsIGJlIHVzZWQuXG4qIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBvcyBpcyBDaHJvbWVfaW9zXG4qL1xuZnVuY3Rpb24gaXNDaHJvbWVJb3ModXNlckFnZW50KSB7XG4gICAgY29uc3QgY3VycmVudFVzZXJBZ2VudCA9IHVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIGxldCBjdXJyZW50QnJvd3NlciA9IGJyb3dzZXI7XG4gICAgaWYgKHVzZXJBZ2VudCB8fCAhYnJvd3Nlcikge1xuICAgICAgICBjdXJyZW50QnJvd3NlciA9IGdldEJyb3dzZXJEYXRhKGN1cnJlbnRVc2VyQWdlbnQsIEJST1dTRVJTX0RBVEEpLmJyb3dzZXI7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50QnJvd3NlciA9PT0gJ0Nocm9tZV9pb3MnO1xufVxuXG4vLyBUYWJsZXRzXG5cbi8qKlxuKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgZGV2aWNlIGlzIFN1cmZhY2VUYWJsZXRcbiogQHBhcmFtIHtzdHJpbmd9IFt1c2VyQWdlbnRdIC0gQSB1c2VyIGFnZW50IHN0cmluZy4gSXQgaXMgb3B0aW9uYWwuIElmIG5vdCBnaXZlbiwgZ2xvYmFsIGBuYXZpZ2F0b3IudXNlckFnZW50YCB3aWxsIGJlIHVzZWQuXG4qIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBkZXZpY2UgaXMgU3VyZmFjZVRhYmxldFxuKi9cbmZ1bmN0aW9uIGlzU3VyZmFjZVRhYmxldCh1c2VyQWdlbnQpIHtcbiAgICBjb25zdCBjdXJyZW50VXNlckFnZW50ID0gdXNlckFnZW50IHx8IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgcmV0dXJuICgvTW96aWxsYS4qTVNJRS4qOyBXaW5kb3dzIE5ULio7IFRvdWNoLykudGVzdChjdXJyZW50VXNlckFnZW50KTtcbn1cblxuLyoqXG4qIFJldHVybiB0cnVlIGlmIHRoZSBkZXZpY2UgaXMgQW5kcm9pZFRhYmxldFxuKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJBZ2VudF0gLSBBIHVzZXIgYWdlbnQgc3RyaW5nLiBJdCBpcyBvcHRpb25hbC4gSWYgbm90IGdpdmVuLCBnbG9iYWwgYG5hdmlnYXRvci51c2VyQWdlbnRgIHdpbGwgYmUgdXNlZC5cbiogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGRldmljZSBpcyBBbmRyb2lkVGFibGV0XG4qL1xuZnVuY3Rpb24gaXNBbmRyb2lkVGFibGV0KHVzZXJBZ2VudCkge1xuICAgIGNvbnN0IGN1cnJlbnRVc2VyQWdlbnQgPSB1c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICByZXR1cm4gLyhhbmRyb2lkKD8hLiptb2JpbGUpKS9pLnRlc3QoY3VycmVudFVzZXJBZ2VudCk7XG59XG5cbi8qKlxuKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgZW52IGlzIFNhbXN1bmdJbnRlcm5ldFxuKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJBZ2VudF0gLSBBIHVzZXIgYWdlbnQgc3RyaW5nLiBJdCBpcyBvcHRpb25hbC4gSWYgbm90IGdpdmVuLCBnbG9iYWwgYG5hdmlnYXRvci51c2VyQWdlbnRgIHdpbGwgYmUgdXNlZC5cbiogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVudiBpcyBTYW1zdW5nSW50ZXJuZXRcbiovXG5mdW5jdGlvbiBpc1NhbXN1bmdJbnRlcm5ldCh1c2VyQWdlbnQpIHtcbiAgICBjb25zdCBjdXJyZW50VXNlckFnZW50ID0gdXNlckFnZW50IHx8IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgcmV0dXJuIC8oU2Ftc3VuZ0Jyb3dzZXIpL2kudGVzdChjdXJyZW50VXNlckFnZW50KTtcbn1cblxuLyoqXG4qIFJldHVybiB0cnVlIGlmIHRoZSBkZXZpY2UgaXMgQW5kcm9pZE1vYmlsZVxuKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJBZ2VudF0gLSBBIHVzZXIgYWdlbnQgc3RyaW5nLiBJdCBpcyBvcHRpb25hbC4gSWYgbm90IGdpdmVuLCBnbG9iYWwgYG5hdmlnYXRvci51c2VyQWdlbnRgIHdpbGwgYmUgdXNlZC5cbiogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGRldmljZSBpcyBBbmRyb2lkTW9iaWxlXG4qL1xuZnVuY3Rpb24gaXNBbmRyb2lkTW9iaWxlKHVzZXJBZ2VudCkge1xuICAgIHJldHVybiBpc0FuZHJvaWQodXNlckFnZW50KSAmJiAhaXNBbmRyb2lkVGFibGV0KHVzZXJBZ2VudCk7XG59XG5cbi8qKlxuKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgYnJvc3dlciBpcyBTYWZhcmkgYW5kIG9zIGlzIGlvc1xuKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJBZ2VudF0gLSBBIHVzZXIgYWdlbnQgc3RyaW5nLiBJdCBpcyBvcHRpb25hbC4gSWYgbm90IGdpdmVuLCBnbG9iYWwgYG5hdmlnYXRvci51c2VyQWdlbnRgIHdpbGwgYmUgdXNlZC5cbiogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGJyb3N3ZXIgaXMgU2FmYXJpIGFuZCBvcyBpcyBpb3NcbiovXG5mdW5jdGlvbiBpc1NhZmFyaUlvcyh1c2VyQWdlbnQpIHtcbiAgICByZXR1cm4gaXNJb3ModXNlckFnZW50KSAmJiBpc1NhZmFyaSh1c2VyQWdlbnQpICYmICFpc0Nocm9tZUlvcyh1c2VyQWdlbnQpO1xufVxuXG4vKipcbiogUmV0dXJuIHRydWUgaWYgdGhlIGVudiBpcyBDaHJvbWVBbmRyb2lkXG4qIEBwYXJhbSB7c3RyaW5nfSBbdXNlckFnZW50XSAtIEEgdXNlciBhZ2VudCBzdHJpbmcuIEl0IGlzIG9wdGlvbmFsLiBJZiBub3QgZ2l2ZW4sIGdsb2JhbCBgbmF2aWdhdG9yLnVzZXJBZ2VudGAgd2lsbCBiZSB1c2VkLlxuKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZW52IGlzIENocm9tZUFuZHJvaWRcbiovXG5mdW5jdGlvbiBpc0Nocm9tZUFuZHJvaWQodXNlckFnZW50KSB7XG4gICAgcmV0dXJuIGlzQ2hyb21lKHVzZXJBZ2VudCkgJiYgaXNBbmRyb2lkKHVzZXJBZ2VudCk7XG59XG5cbi8qKlxuKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgZGV2aWNlIGlzIHRhYmxldFxuKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJBZ2VudF0gLSBBIHVzZXIgYWdlbnQgc3RyaW5nLiBJdCBpcyBvcHRpb25hbC4gSWYgbm90IGdpdmVuLCBnbG9iYWwgYG5hdmlnYXRvci51c2VyQWdlbnRgIHdpbGwgYmUgdXNlZC5cbiogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGRldmljZSBpcyB0YWJsZXRcbiovXG5mdW5jdGlvbiBpc1RhYmxldCh1c2VyQWdlbnQpIHtcbiAgICByZXR1cm4gaXNJcGFkKHVzZXJBZ2VudCkgfHwgaXNBbmRyb2lkVGFibGV0KHVzZXJBZ2VudCkgfHwgaXNTdXJmYWNlVGFibGV0KHVzZXJBZ2VudCk7XG59XG5cbi8qKlxuKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgZGV2aWNlIGlzIE1vYmlsZSBPciBUYWJsZXRcbiogQHBhcmFtIHtzdHJpbmd9IFt1c2VyQWdlbnRdIC0gQSB1c2VyIGFnZW50IHN0cmluZy4gSXQgaXMgb3B0aW9uYWwuIElmIG5vdCBnaXZlbiwgZ2xvYmFsIGBuYXZpZ2F0b3IudXNlckFnZW50YCB3aWxsIGJlIHVzZWQuXG4qIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBkZXZpY2UgaXMgTW9iaWxlIE9yIFRhYmxldFxuKi9cbmZ1bmN0aW9uIGlzTW9iaWxlT3JUYWJsZXQodXNlckFnZW50KSB7XG4gICAgcmV0dXJuIGlzTW9iaWxlKHVzZXJBZ2VudCkgfHwgaXNUYWJsZXQodXNlckFnZW50KTtcbn1cblxuLyoqXG4qIFJldHVybiBkZXZpY2UgdHlwZVxuKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJBZ2VudF0gLSBBIHVzZXIgYWdlbnQgc3RyaW5nLiBJdCBpcyBvcHRpb25hbC4gSWYgbm90IGdpdmVuLCBnbG9iYWwgYG5hdmlnYXRvci51c2VyQWdlbnRgIHdpbGwgYmUgdXNlZC5cbiogQHJldHVybnMge3N0cmluZ30gRGV2aWNlIHR5cGUsIFwiRGVza3RvcFwiLCBcIlRhYmxldFwiLCBvciBcIk1vYmlsZVwiXG4qL1xuZnVuY3Rpb24gZ2V0RGV2aWNlVHlwZSh1c2VyQWdlbnQpIHtcbiAgICB2YXIgdHlwZSA9IFwiRGVza3RvcFwiO1xuICAgIGlmKGlzVGFibGV0KHVzZXJBZ2VudCkpe1xuICAgICAgICB0eXBlID0gXCJUYWJsZXRcIjtcbiAgICB9XG4gICAgZWxzZSBpZihpc01vYmlsZSh1c2VyQWdlbnQpKXtcbiAgICAgICAgdHlwZSA9IFwiTW9iaWxlXCI7XG4gICAgfVxuICAgIHJldHVybiB0eXBlO1xufVxuXG4vKipcbiogUmV0dXJuIGRldmljZSB0eXBlXG4qIEBwYXJhbSB7c3RyaW5nfSBbdXNlckFnZW50XSAtIEEgdXNlciBhZ2VudCBzdHJpbmcuIEl0IGlzIG9wdGlvbmFsLiBJZiBub3QgZ2l2ZW4sIGdsb2JhbCBgbmF2aWdhdG9yLnVzZXJBZ2VudGAgd2lsbCBiZSB1c2VkLlxuKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgZGV2aWNlIGlzIERlc2t0b3BcbiovXG5mdW5jdGlvbiBpc0Rlc2t0b3AodXNlckFnZW50KSB7XG4gICAgcmV0dXJuIGdldERldmljZVR5cGUodXNlckFnZW50KSA9PT0gXCJEZXNrdG9wXCI7XG59XG5cbi8qKlxuKiBSZXR1cm4gdHJ1ZSBpZiByZWNvcmRpbmcgaXMgc3VwcG9ydGVkXG4qIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBlbnYgc3VwcG9ydHMgcmVjb3JkaW5nXG4qL1xuZnVuY3Rpb24gaXNSZWNvcmRpbmdTdXBwb3J0ZWQoKSB7XG4gICAgLy8gTFBMLTIyNTQwOiBXZSBjdXJyZW50bHkgcmVseSBvbiB0aGUgTWVkaWFSZWNvcmRlciBBUEkgZm9yIHVwbG9hZGluZyB2aWRlbywgb25jZSB3ZSBmaW5kXG4gICAgLy8gYSBkaWZmZXJlbnQgYXBwcm9hY2ggdG8gc3VwcG9ydCBvdGhlciBicm93c2Vycywgd2lsbCBuZWVkIHRvIGNoYW5nZSB0aGlzIGxvZ2ljLlxuICAgIHJldHVybiB0eXBlb2Ygd2luZG93Lk1lZGlhUmVjb3JkZXIgPT09ICdmdW5jdGlvbicgfHwgaXNJb3MoKTtcbn1cblxuLyoqXG4qIFJldHVybiB0cnVlIGlmIGFwcGxlIHdhbGxldCBpcyBzdXBwb3J0ZWRcbiogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVudiBzdXBwb3J0cyBhcHBsZSB3YWxsZXRcbiovXG5mdW5jdGlvbiBhcHBsZVdhbGxldFN1cHBvcnRlZCgpIHtcbiAgICByZXR1cm4gd2luZG93LkFwcGxlUGF5U2Vzc2lvbiAmJiBBcHBsZVBheVNlc3Npb24uY2FuTWFrZVBheW1lbnRzKCk7XG59XG5cbi8qKlxuKiBSZXR1cm4gdHJ1ZSBpZiB3aW5kb3cgbmFtZSBpcyBtZXNzZW5nZXJfcmVmXG4qIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHdpbmRvdyBuYW1lIGlzIG1lc3Nlbmdlcl9yZWZcbiovXG5mdW5jdGlvbiBpc01lc3NlbmdlcigpIHtcbiAgICByZXR1cm4gd2luZG93Lm5hbWUgPT09IFwibWVzc2VuZ2VyX3JlZlwiO1xuICAgIC8vIHJlbW92aW5nIHRoZXNlIGNoZWNrcyBhcyBpdCBtZXNzZXMgdXAgd2hlbiBvcGVuaW5nIHVwIG5vcm1hbCBzaG9wIGNoZWNrb3V0IGZsb3dzIGZyb20gYSBGQUNFQk9PSyBhcHAgd2Vidmlld1xuICAgIC8vIC4uLnRoaXMgbWF5IGNhdXNlIHJlZ3Jlc3Npb24gb24gbWVzc2VuZ2VyLCBzbyB3aGVuIHdlIHJlaW50cm9kdWNlIHRoYXQgdGhpcyBtYXkgbmVlZCB0byBiZSByZXZpc3RlZFxuICAgIC8vfHwgd2luZG93Lm5hbWUgPT09IFwiZmFjZWJvb2tfcmVmXCIgfHwgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkZCQU5cIikgPiAtMSkgfHwgKG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkZCQVZcIikgPiAtMSk7XG59XG5cbi8qKlxuKiBSZXR1cm4gdHJ1ZSBpZiBjb2xvciBwcmVmZXJlbmNlIGlzIHNldCB0byBkYXJrIG1vZGVcbiogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgZW52IGlzIGRhcmsgbW9kZVxuKi9cbmZ1bmN0aW9uIGlzRGFya01vZGUoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKVwiKS5tYXRjaGVzO1xufVxuXG4vKipcbiogUmV0dXJuIHRydWUgaWYgY29sb3IgcHJlZmVyZW5jZSBpcyBzZXQgdG8gbGlnaHQgbW9kZVxuKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBlbnYgaXMgbGlnaHQgbW9kZVxuKi9cbmZ1bmN0aW9uIGlzTGlnaHRNb2RlKCkge1xuICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpXCIpLm1hdGNoZXM7XG59XG5cbi8qKlxuKiBSZXR1cm4gdHJ1ZSBpZiBlbnYgaGFzIG5vIGNvbG9yIHByZWZlcmVuY2VcbiogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgZW52IGhhcyBubyBjb2xvciBwcmVmZXJlbmNlXG4qL1xuZnVuY3Rpb24gbm9Db2xvclByZWZlcmVuY2UoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBuby1wcmVmZXJlbmNlKVwiKS5tYXRjaGVzO1xufVxuXG4vKipcbiogUmV0dXJuIGNvbG9yIHNjaGVtZVxuKiBAcmV0dXJucyB7c3RyaW5nfSBDb2xvciBwcmVmZXJlbmNlLCBcImxpZ2h0XCIsIFwiZGFya1wiLCBvciBcIm5vbmVcIlxuKi9cbmZ1bmN0aW9uIGdldENvbG9yU2NoZW1lKCkge1xuICAgIGlmKG5vQ29sb3JQcmVmZXJlbmNlKCkpe1xuICAgICAgICByZXR1cm4gJ25vbmUnO1xuICAgIH1cbiAgICBlbHNlIGlmKGlzTGlnaHRNb2RlKCkpe1xuICAgICAgICByZXR1cm4gJ2xpZ2h0JztcbiAgICB9XG4gICAgZWxzZSBpZihpc0RhcmtNb2RlKCkpe1xuICAgICAgICByZXR1cm4gJ2RhcmsnO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuXG5leHBvcnQge1xuICAgIEJST1dTRVJTX0RBVEEsXG4gICAgYnJvd3NlcixcbiAgICB2ZXJzaW9uLFxuICAgIG1vYmlsZSxcbiAgICBzZXRNb2JpbGUsXG4gICAgZ2V0QnJvd3NlckRhdGEsXG4gICAgZ2V0QnJvd3NlclZlcnNpb24sXG4gICAgaXNNYWMsXG4gICAgaXNXaW5kb3dzLFxuICAgIGlzQW5kcm9pZCxcbiAgICBpc0lvcyxcbiAgICBnZXRpT1NWZXJzaW9uLFxuICAgIGlzSUUsXG4gICAgZ2V0SUVWZXJzaW9uLFxuICAgIGlzSUUxMSxcbiAgICBsZWdhY3lJc1N1cHBvcnRlZCxcbiAgICBpc0VkZ2UsXG4gICAgaXNNb2JpbGUsXG4gICAgaXNJcGFkLFxuICAgIGlzSXBob25lLFxuICAgIGlzQ2hyb21lLFxuICAgIGlzU2FmYXJpLFxuICAgIGlzRmlyZWZveCxcbiAgICBpc0Nocm9tZUlvcyxcbiAgICBpc1N1cmZhY2VUYWJsZXQsXG4gICAgaXNBbmRyb2lkVGFibGV0LFxuICAgIGlzU2Ftc3VuZ0ludGVybmV0LFxuICAgIGlzQW5kcm9pZE1vYmlsZSxcbiAgICBpc1NhZmFyaUlvcyxcbiAgICBpc0Nocm9tZUFuZHJvaWQsXG4gICAgaXNUYWJsZXQsXG4gICAgaXNNb2JpbGVPclRhYmxldCxcbiAgICBnZXREZXZpY2VUeXBlLFxuICAgIGlzRGVza3RvcCxcbiAgICBpc1JlY29yZGluZ1N1cHBvcnRlZCxcbiAgICBhcHBsZVdhbGxldFN1cHBvcnRlZCxcbiAgICBpc01lc3NlbmdlcixcbiAgICBpc0RhcmtNb2RlLFxuICAgIGlzTGlnaHRNb2RlLFxuICAgIG5vQ29sb3JQcmVmZXJlbmNlLFxuICAgIGdldENvbG9yU2NoZW1lXG59OyIsImV4cG9ydCBjb25zdCBFUlJfU1lGID0gJ1NZRi1FUlJPUic7XG5cbmV4cG9ydCBjb25zdCBFVlRfQ0xJQ0sgPSAnY2xpY2snO1xuZXhwb3J0IGNvbnN0IEVWVF9NRVNTQUdFID0gJ21lc3NhZ2UnO1xuZXhwb3J0IGNvbnN0IEVWVF9NT1VTRUVOVEVSID0gJ21vdXNlZW50ZXInO1xuZXhwb3J0IGNvbnN0IEVWVF9NT1VTRUxFQVZFID0gJ21vdXNlbGVhdmUnO1xuZXhwb3J0IGNvbnN0IEVWVF9PRkZFUl9ESVNQTEFZRUQgPSAnb2ZmZXItZGlzcGxheWVkJztcbmV4cG9ydCBjb25zdCBFVlRfQ1RBX0hPVkVSRUQgPSAnY3RhLWhvdmVyZWQnO1xuZXhwb3J0IGNvbnN0IEVWVF9DVEFfQ0xJQ0tFRCA9ICdjdGEtaG92ZXJlZCc7XG5leHBvcnQgY29uc3QgRVZUX1NZRl9SRUFEWSA9ICdzeWYtcmVhZHknO1xuZXhwb3J0IGNvbnN0IEVWVF9XSURHRVRfUkVBRFkgPSAnd2lkZ2V0LXJlYWR5JztcbmV4cG9ydCBjb25zdCBFVlRfV0lER0VUX0NPTlRFTlRfUkVGUkVTSCA9J3dpZGdldC1jb250ZW50LXJlZnJlc2gnO1xuZXhwb3J0IGNvbnN0IExPQ0FMU1RPUkFHRV9OQU1FID0gJ3N5Zi11c2VyJztcbiIsImV4cG9ydCBmdW5jdGlvbiB3aWRnZXRfbG9hZGVyKCkge1xuXG4gIHdpbmRvdy5fX3N5Zl93aWRnZXRfbG9hZHN0YXJ0X18gPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgd2luZG93Ll9fc3lmX18gPSB3aW5kb3cuX19zeWZfXyB8fCB7fTtcbiAgd2luZG93Ll9fc3lmX18uc25pcHBldFN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIHdpbmRvdy5fX3N5Zl9fLnNuaXBwZXRFeGVjdXRlZCA9IHRydWU7XG4gIHdpbmRvdy5fX3N5Zl9fLnVybCA9IFwiV0lER0VUX1VSTF9WQUxVRVwiO1xuICB3aW5kb3cuX19zeWZfXy5vbiA9IFdJREdFVF9FTkFCTEU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiAgd2luZG93Ll9fc3lmX18ucHJvZHVjdENhdGFnZXJ5TmFtZXMgPSBcIlBST0RVQ1RfQ0FUT0dFUllfTkFNRVNcIjtcbiAgd2luZG93Ll9fc3lmX18uZmxvd1R5cGUgPSBcIkZMT1dUWVBFXCI7XG4gIHdpbmRvdy5fX3N5Zl9fLnN1YkZsb3dUeXBlID0gXCJTVUJLRVlcIjtcbiAgd2luZG93Ll9fc3lmX18ucHJvZHVjdEF0dHJpYnV0ZXMgPSBcIlBST0RVQ1RfQVRUUklCVVRFU1wiO1xuICBcbiAgLy8gdW5jb21tZW50IGZvciBsb2NhbCB0ZXN0aW5nXG4gIC8vIHJldHVybiB0cnVlO1xuICAvLyBDcm9zcyBzaXRlIHNjcmlwdGluZyByZWRpcmVjdGlvblxuXG4gIC8vIHZhciB1cmxQYXR0ZXJuID0gL14oKGh0dHBbc10pOlxcLyk/XFwvPyhbXjpcXC9cXHNdKykoXFwvKShbXFx3XFwtXFwuXStbXiM/XFxzXSspKC4qKT8oPzpcXD98XFwmKSg/PGtleT5bXFx3XSspKD86XFw9fFxcJj8pKD88dmFsdWU+W1xcdyssLi1dKikkLztcblxuICAvLyB2YXIgdXJsUGF0dGVybjEgPSAvXmh0dHBzPzpcXC9cXC8oPzp3d3dcXC4pPyhbLWEtekEtWjAtOUA6JS5fXFwrfiM9XXsyLDI1Nn1cXC5bYS16XXsyLDZ9XFxiKSooXFwvW1xcL1xcZFxcd1xcLi1dKikqKD86W1xcP10qKSQvO1xuICAvLyBpZiAodXJsUGF0dGVybi50ZXN0KFwiSE9TVE5BTUVcIikgfHwgdXJsUGF0dGVybjEudGVzdChcIkhPU1ROQU1FXCIpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIC8vIH0gXG4gIC8vIGVsc2UgeyAgICAgXG4gIC8vICAgY29uc29sZS5sb2coXCJOb3QgYSB2YWxpZCBVcmwsIFBsZWFzZSBjbG9zZSB0aGUgYnJvd3NlciB3aW5kb3dcIik7XG4gIC8vICAgcmV0dXJuIGZhbHNlXG4gIC8vIH0gICAgXG59OyIsImltcG9ydCB7XG4gIHBhcnNlUHJpY2UsXG4gIG9ic2VydmVEb21DaGFuZ2VzLFxuICBpbnNlcnRDU1MsXG4gIGdldEVsZW1lbnQsXG4gIGNyZWF0ZUVsZW1lbnQsXG4gIHNldFNlc3Npb25Db29raWUsXG4gIHJlbW92ZURvbU9ic2VydmVyLFxuICBnZXRGZWF0dXJlRmxhZ3NDb29raWVcbn0gZnJvbSBcIi4vdXRpbHNcIjtcblxuaW1wb3J0IHsgaW5pdCwgc2VuZEFuYWx5dGljcywgc2VuZEFkb2JlQW5hbHl0aWNzRm9yV2lkZ2V0IH0gZnJvbSBcIi4vYW5hbHl0aWNzXCI7XG5pbXBvcnQgeyBnZXRDb29raWVWYWx1ZSB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmltcG9ydCB7XG4gIEVWVF9NRVNTQUdFLFxuICBFVlRfTU9VU0VFTlRFUixcbiAgRVZUX01PVVNFTEVBVkUsXG4gIEVWVF9TWUZfUkVBRFksXG4gIEVWVF9DTElDSyxcbiAgRVZUX0NUQV9IT1ZFUkVELFxuICBFVlRfV0lER0VUX0NPTlRFTlRfUkVGUkVTSCxcbiAgRVZUX0NUQV9DTElDS0VELFxuICBFVlRfT0ZGRVJfRElTUExBWUVELFxuICBFUlJfU1lGXG59IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5pbXBvcnQgeyB3aWRnZXRfbG9hZGVyIH0gZnJvbSBcIi4vc3lmLXdpZGdldC1sb2FkZXJcIjtcblxuKGZ1bmN0aW9uIHdpZGdldEluaXQoKSB7XG4gIGxldCB3aWRnZXRfZW5hYmxlID0gd2lkZ2V0X2xvYWRlcigpO1xuICBpZiAod2lkZ2V0X2VuYWJsZSA9PT0gdHJ1ZSkge1xuICAgIHN0YXJ0V2lkZ2V0KCk7XG4gIH1cbn0pKCk7XG5cbmZ1bmN0aW9uIHN0YXJ0V2lkZ2V0KCkge1xuICBpZiAoIXdpbmRvdy5fX3N5Zl9fLm9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgd2luZG93Ll9fc3lmX3dpZGdldF9sb2FkZW5kX18gPSBEYXRlLm5vdygpO1xuICBsZXQgZGJ1eURhdGEgPSB7IGZvcm06IG51bGwsIG9iamVjdDogbnVsbCB9O1xuICBjb25zdCBqc29uU3RyaW5nID0gcmVxdWlyZShcInNhZmUtc3RhYmxlLXN0cmluZ2lmeVwiKTtcblxuICBjb25zdCBjb25maWcgPSBXSURHRVRfQ1VTVE9NX0FUVFJJQlVURVNfSlNPTjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG4gIGlmIChjb25maWcudHJ1c3RlZERvbWFpbnMpIHtcbiAgICBjb25maWcudHJ1c3RlZERvbWFpbnMucHVzaChcIkhPU1ROQU1FXCIpO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZy50cnVzdGVkRG9tYWlucyA9IFtcIkhPU1ROQU1FXCJdO1xuICB9XG5cbiAgLyoqXG4gICAqIHJldHVybnMge051bWJlcnxudWxsfSBwcmljZVxuICAgKi9cbiAgY29uc3QgZ2V0UHJpY2UgPSAoKSA9PiB7XG4gICAgY29uc3QgcHJpY2VFbGVtZW50ID0gZ2V0RWxlbWVudChjb25maWcub2JzZXJ2aW5nVGFyZ2V0LCBcInByaWNlXCIpO1xuICAgIGlmICghcHJpY2VFbGVtZW50KSB7XG4gICAgICAvLyBzZW5kQW5hbHl0aWNzKEVSUl9TWUYsIHsgZXJyb3I6IGBwcmljZSBlbGVtZW50ICcke2NvbmZpZy5vYnNlcnZpbmdUYXJnZXR9JyBub3QgZm91bmRgIH0pO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZVByaWNlKHByaWNlRWxlbWVudC5pbm5lclRleHQpO1xuICB9O1xuXG4gIGNvbnN0IGdldFByb2R1Y3RDYXRvZ2VyaWVzID0gKCkgPT4ge1xuICAgIGlmICh3aW5kb3cuX19zeWZfXy5wcm9kdWN0Q2F0YWdlcnlOYW1lcyAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5fX3N5Zl9fLnByb2R1Y3RDYXRhZ2VyeU5hbWVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0Rmxvd1R5cGUgPSAoKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5fX3N5Zl9fLmZsb3dUeXBlICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gd2luZG93Ll9fc3lmX18uZmxvd1R5cGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZXRQcm9kdWN0QXR0cmlidXRlcyA9ICgpID0+IHtcbiAgICBpZiAod2luZG93Ll9fc3lmX18ucHJvZHVjdEF0dHJpYnV0ZXMgIT09IG51bGwpIHtcbiAgICAgIHJldHVybiB3aW5kb3cuX19zeWZfXy5wcm9kdWN0QXR0cmlidXRlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGlzRXZlbnRTb3VyY2VTWUYgPSBldmVudFNvdXJjZSA9PiB7XG4gICAgbGV0IGFsbG93ZWREb21haW5zID0gWy4uLmNvbmZpZy50cnVzdGVkRG9tYWluc107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbGxvd2VkRG9tYWlucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFsbG93ZWREb21haW5zW2ldLmluY2x1ZGVzKGV2ZW50U291cmNlKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuICBjb25zdCBnZXRTZWFtbGVzc0FwcGx5QnV5Q29va2llID0gKCkgPT4ge1xuICAgIGxldCBuYW1lRVEgPSBcInN5ZlRva2VuXCIgKyBcIj1cIjtcbiAgICBsZXQgY2EgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoXCI7XCIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2EubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBjID0gY2FbaV07XG4gICAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT0gXCIgXCIpIGMgPSBjLnN1YnN0cmluZygxLCBjLmxlbmd0aCk7XG4gICAgICBpZiAoYy5pbmRleE9mKG5hbWVFUSkgPT0gMCkge1xuICAgICAgICBsZXQgdG9rZW4gPSBjLnN1YnN0cmluZyhuYW1lRVEubGVuZ3RoLCBjLmxlbmd0aCk7XG4gICAgICAgIGlmICh0b2tlbi5pbmNsdWRlcyhcIlBBUlRORVJfSURcIikpIHJldHVybiB0b2tlbjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFwiTVBQXCI7XG4gIH07XG5cbiAgY29uc3QgZ2V0V2lkZ2V0Q29udGFpbmVyID0gKCkgPT4ge1xuICAgIGxldCBlbGVtZW50cyA9IFtdO1xuICAgIGxldCB3aWRnZXRDbGFzc05hbWVzID0gW107XG4gICAgaWYgKGNvbmZpZy53aWRnZXRFbGVtZW50KSB3aWRnZXRDbGFzc05hbWVzLnB1c2goY29uZmlnLndpZGdldEVsZW1lbnQpO1xuICAgIGlmIChjb25maWcud2lkZ2V0RWxlbWVudFBMQ0MpXG4gICAgICB3aWRnZXRDbGFzc05hbWVzLnB1c2goY29uZmlnLndpZGdldEVsZW1lbnRQTENDKTtcbiAgICBpZiAoY29uZmlnLndpZGdldEVsZW1lbnRTRVRQQVkpXG4gICAgICB3aWRnZXRDbGFzc05hbWVzLnB1c2goY29uZmlnLndpZGdldEVsZW1lbnRTRVRQQVkpO1xuICAgIGVsZW1lbnRzID0gZ2V0RWxlbWVudCh3aWRnZXRDbGFzc05hbWVzLCBcIndpZGdldFwiKTtcbiAgICBlbGVtZW50cy5tYXAoZWxlbWVudCA9PiB7XG4gICAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICAgIC8vIHNlbmRBbmFseXRpY3MoRVJSX1NZRiwgeyBlcnJvcjogYHdpZGdldCBlbGVtZW50ICcke2NvbmZpZy53aWRnZXRFbGVtZW50fSBub3QgZm91bmRgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZGJ1eUZvcm0gPSBlbGVtZW50LmRhdGFzZXQuZGJ1eUZvcm07XG4gICAgICAgIGlmICh1bmRlZmluZWQgPT09IGRidXlGb3JtKSB7XG4gICAgICAgICAgbGV0IGRidXlKU09OID0gZWxlbWVudC5kYXRhc2V0LmRidXlKc29uO1xuICAgICAgICAgIGlmICh1bmRlZmluZWQgIT09IGRidXlKU09OKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBsZXQgZGJ1eU9iamVjdCA9IEpTT04ucGFyc2UoZGJ1eUpTT04pO1xuICAgICAgICAgICAgICBkYnV5RGF0YVtcIm9iamVjdFwiXSA9IGRidXlPYmplY3Q7XG4gICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgbGV0IGRidXlPYmplY3QgPSB3aW5kb3dbZGJ1eUpTT05dO1xuICAgICAgICAgICAgICBpZiAodW5kZWZpbmVkICE9PSBkYnV5T2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgZGJ1eURhdGFbXCJvYmplY3RcIl0gPSBkYnV5T2JqZWN0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRidXlEYXRhW1wiZm9ybVwiXSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRidXlEYXRhW1wiZm9ybVwiXSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRidXlGb3JtKTtcbiAgICAgICAgICBkYnV5RGF0YVtcIm9iamVjdFwiXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZWxlbWVudHM7XG4gIH07XG5cbiAgbGV0IHByaWNlID0gZ2V0UHJpY2UoKTtcbiAgbGV0IGZsb3dUeXBlID0gZ2V0Rmxvd1R5cGUoKTtcbiAgbGV0IGV4aXN0aW5nQ29va2llID0gZ2V0U2VhbWxlc3NBcHBseUJ1eUNvb2tpZSgpO1xuICBsZXQgcHJvZHVjdENhdG9nZXJ5ID0gZ2V0UHJvZHVjdENhdG9nZXJpZXMoKTtcbiAgbGV0IHByb2R1Y3RBdHRyaWJ1dGVzID0gZ2V0UHJvZHVjdEF0dHJpYnV0ZXMoKTtcbiAgbGV0IHN5ZldpZGdldFRva2VuID0gZ2V0RmVhdHVyZUZsYWdzQ29va2llKCk7XG4gIGxldCBjaGlsZFN5ZlBhcnRuZXJJZCA9IFN0cmluZyhcIkNISUxEX1NZRl9QQVJUTkVSSURcIik7XG4gIGxldCBwYXJ0bmVyQ29kZSA9IFN0cmluZyhcIlBBUlRORVJfQ09ERVwiKTtcbiAgbGV0IGNoaWxkU3lmTWVyY2hhbnROdW1iZXIgPSBTdHJpbmcoXCJDSElMRF9TWUZfTUVSQ0hBTlRfTlVNQkVSXCIpO1xuICBjb25zdCBwcm9jZXNzSW5kID0gU3RyaW5nKFwiUFJPQ0VTU0lORFwiKTtcbiAgbGV0IGRhdGFUb1Bhc3NVcGRhdGVPZmZlciA9IHtcbiAgICBwcmljZSxcbiAgICBleGlzdGluZ0Nvb2tpZSxcbiAgICBwcm9kdWN0Q2F0b2dlcnksXG4gICAgZmxvd1R5cGUsXG4gICAgc3lmV2lkZ2V0VG9rZW5cbiAgfTtcbiAgaWYgKHByb2R1Y3RBdHRyaWJ1dGVzKVxuICAgIGRhdGFUb1Bhc3NVcGRhdGVPZmZlci5wcm9kdWN0QXR0cmlidXRlcyA9IHByb2R1Y3RBdHRyaWJ1dGVzO1xuXG4gIGxldCBwcmVxdWFsRmxhZyA9IFN0cmluZyhQUkVRVUFMX0ZMQUcpO1xuXG4gIGlmICghcHJpY2UpIHtcbiAgICByZXR1cm47XG4gIH0gXG5cbiAgY29uc3Qgc2Vzc2lvbklkID0gc2V0U2Vzc2lvbkNvb2tpZShcIlBBUlRORVJfSURcIik7XG5cbiAgY29uc3QgY29udGFpbmVyID0gY3JlYXRlRWxlbWVudCh7XG4gICAgdGFnOiBcImRpdlwiLFxuICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgIGlkOiBcInN5Zi1pZnJhbWUtY29udGFpbmVyXCJcbiAgICB9LFxuICAgIHN0eWxlczoge1xuICAgICAgXCJ6LWluZGV4XCI6IDE2MDAwMDAwMCxcbiAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICB0b3A6IDAsXG4gICAgICBsZWZ0OiAwLFxuICAgICAgcmlnaHQ6IDAsXG4gICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgb3ZlcmZsb3c6IFwiYXV0b1wiLFxuICAgICAgZGlzcGxheTogXCJub25lXCJcbiAgICB9XG4gIH0pO1xuXG4gIC8qIGlmcmFtZSB3cmFwcGVyICovXG4gIGNvbnN0IHdyYXBwZXIgPSBjcmVhdGVFbGVtZW50KHtcbiAgICB0YWc6IFwiZGl2XCIsXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgaWQ6IFwic3lmLWlmcmFtZS13cmFwcGVyXCJcbiAgICB9LFxuICAgIHN0eWxlczoge1xuICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgIHdpZHRoOiBcIjYwMHB4XCIsXG4gICAgICBoZWlnaHQ6IFwiMzUwcHhcIixcbiAgICAgIG1hcmdpbjogXCIxMDBweCBhdXRvXCJcbiAgICB9XG4gIH0pO1xuXG4gIC8qIGlmcmFtZSBmb3Igb2ZmZXJzIGFwaSBjYWxscyAqL1xuICBsZXQgYWRkaXRpb25hbFBhcmFtcyA9IFwiXCI7XG4gIGlmIChjaGlsZFN5ZlBhcnRuZXJJZCAmJiBjaGlsZFN5ZlBhcnRuZXJJZCAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgYWRkaXRpb25hbFBhcmFtcyArPSBcIiZjaGlsZFN5ZlBhcnRuZXJJZD1cIiArIGNoaWxkU3lmUGFydG5lcklkO1xuICAgIGRhdGFUb1Bhc3NVcGRhdGVPZmZlci5jaGlsZFN5ZlBhcnRuZXJJZCA9IGNoaWxkU3lmUGFydG5lcklkO1xuICB9XG4gIGlmIChwYXJ0bmVyQ29kZSAmJiBwYXJ0bmVyQ29kZSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgYWRkaXRpb25hbFBhcmFtcyArPSBcIiZwYXJ0bmVyQ29kZT1cIiArIHBhcnRuZXJDb2RlO1xuICAgIGRhdGFUb1Bhc3NVcGRhdGVPZmZlci5wYXJ0bmVyQ29kZSA9IHBhcnRuZXJDb2RlO1xuICB9XG4gIGlmIChjaGlsZFN5Zk1lcmNoYW50TnVtYmVyICYmIGNoaWxkU3lmTWVyY2hhbnROdW1iZXIgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGFkZGl0aW9uYWxQYXJhbXMgKz0gXCImY2hpbGRTeWZNZXJjaGFudE51bWJlcj1cIiArIGNoaWxkU3lmTWVyY2hhbnROdW1iZXI7XG4gICAgZGF0YVRvUGFzc1VwZGF0ZU9mZmVyLmNoaWxkU3lmTWVyY2hhbnROdW1iZXIgPSBjaGlsZFN5Zk1lcmNoYW50TnVtYmVyO1xuICB9XG4gIGlmIChwcm9jZXNzSW5kICYmIHByb2Nlc3NJbmQgIT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGRhdGFUb1Bhc3NVcGRhdGVPZmZlci5wcm9jZXNzSW5kID0gcHJvY2Vzc0luZDtcbiAgfVxuICBjb25zdCBzeWZJZnJhbWUgPSBjcmVhdGVFbGVtZW50KHtcbiAgICB0YWc6IFwiSUZSQU1FXCIsXG4gICAgYXR0cmlidXRlczoge1xuICAgICAgaWQ6IFwic3lmLWludGVybmFsLXdyYXBwZXJcIixcbiAgICAgIHNyYzpcbiAgICAgICAgXCJIT1NUTkFNRS9zeWYtd2lkZ2V0LWludGVybmFsLmh0bWw/cGFydG5lcklkPVBBUlRORVJfSUQmZmxvd1R5cGU9XCIgK1xuICAgICAgICBmbG93VHlwZSArXG4gICAgICAgIGFkZGl0aW9uYWxQYXJhbXMgK1xuICAgICAgICBcIiZzdWJGbG93VHlwZT1cIiArXG4gICAgICAgIFwiJmNpZD1DSURfVkFMVUVcIlxuICAgIH0sXG4gICAgc3R5bGVzOiB7XG4gICAgICBkaXNwbGF5OiBcIm5vbmVcIlxuICAgIH1cbiAgfSk7XG4gIHN5ZklmcmFtZS5sb2FkaW5nID0gXCJlYWdlclwiO1xuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKHdyYXBwZXIpO1xuICB3cmFwcGVyLmFwcGVuZENoaWxkKHN5ZklmcmFtZSk7XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fVxuICAgKiAgICAgICAgICAgIGN0YSBIVE1MRWxlbWVudCB0byBhdHRhY2ggdGhlIG9uQ2xpY2sgZXZlbnQgdG9cbiAgICovXG4gIGNvbnN0IGFjdGl2YXRlQ1RBID0gKGN0YSwgZGVzYywgb2ZmZXIsIHByaWNlLCB3aWRnZXRUeXBlKSA9PiB7XG4gICAgaWYgKGN0YSAhPT0gbnVsbCkge1xuICAgICAgY3RhLmFkZEV2ZW50TGlzdGVuZXIoRVZUX0NMSUNLLCAoKSA9PiB7XG4gICAgICAgIGxldCBleGlzdGluZ0Nvb2tpZSA9IGdldFNlYW1sZXNzQXBwbHlCdXlDb29raWUoKTtcbiAgICAgICAgY29uc3Qgc3lmV2lkZ2V0VG9rZW4gPSBnZXRDb29raWVWYWx1ZShcInN5Zi13aWRnZXQtdG9rZW5cIik7XG4gICAgICAgIC8vIHNlbmRBbmFseXRpY3MoRVZUX0NUQV9DTElDS0VEKTtcbiAgICAgICAgc3lmSWZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoXG4gICAgICAgICAganNvblN0cmluZyh7XG4gICAgICAgICAgICBzeWZUb2tlbjogZXhpc3RpbmdDb29raWUsXG4gICAgICAgICAgICBwcm9kdWN0RGVzY3JpcHRpb246IGRlc2MudGV4dENvbnRlbnQsXG4gICAgICAgICAgICBvZmZlclRleHQ6IGN0YS50ZXh0Q29udGVudCxcbiAgICAgICAgICAgIG9mZmVyVHlwZTogb2ZmZXIudGV4dENvbnRlbnQsXG4gICAgICAgICAgICBwcmljZTogcHJpY2UudGV4dENvbnRlbnQsXG4gICAgICAgICAgICB3aWRnZXRUeXBlOiB3aWRnZXRUeXBlLnRleHRDb250ZW50LFxuICAgICAgICAgICAgc3lmV2lkZ2V0VG9rZW46IHN5ZldpZGdldFRva2VuLFxuICAgICAgICAgICAgaXNMZWFybkhvd0NsaWNrZWQ6IHRydWVcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBcIkhPU1ROQU1FXCJcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBpbmplY3RNUFBTY3JpcHQgPSAoKSA9PiB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3lmTVBQU2NyaXB0XCIpID09PSBudWxsKSB7XG4gICAgICBjb25zdCBzeWZNUFBTY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgc3lmTVBQU2NyaXB0LnNldEF0dHJpYnV0ZShcImlkXCIsIFwic3lmTVBQU2NyaXB0XCIpO1xuICAgICAgc3lmTVBQU2NyaXB0LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0L2phdmFzY3JpcHRcIik7XG4gICAgICBzeWZNUFBTY3JpcHQuc3JjID0gXCJNUFBfU0NSSVBUX1VSTFwiO1xuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzeWZNUFBTY3JpcHQpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCB1cGRhdGVPZmZlciA9IChvZmZlcnMsIHByaWNlLCB3aWRnZXRUeXBlKSA9PiB7XG4gICAgY29uc3QgY29udGFpbmVycyA9IGdldFdpZGdldENvbnRhaW5lcigpO1xuICAgIGNvbnRhaW5lcnMubWFwKGNvbnRhaW5lciA9PiB7XG4gICAgICBjb25zdCBvZmZlckNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgaWYgKG9mZmVycyAhPSBudWxsKSB7XG4gICAgICAgICAgb2ZmZXJDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICB3aWRnZXRDb250ZW50UmVzcG9uc2U6IG9mZmVyc0xpc3QsXG4gICAgICAgICAgICB3aWRnZXRDdXN0b21pemU6IHtcbiAgICAgICAgICAgICAganVzdGlmeSA9IFwibGVmdFwiLFxuICAgICAgICAgICAgICBjc3NTdHlsZSA9IFwiXCIsXG4gICAgICAgICAgICAgIHNob3dDYXJkID0gXCJ0cnVlXCIsXG4gICAgICAgICAgICAgIHNob3dDYXJkTmFtZSA9IFwiZmFsc2VcIixcbiAgICAgICAgICAgICAgcmV2b2x2aW5nQ2FyZFdpZHRoLFxuICAgICAgICAgICAgICBzZXRwYXlDYXJkV2lkdGhcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYXJkTmFtZVxuICAgICAgICAgIH0gPSBvZmZlcnM7XG4gICAgICAgICAgLy8gZmlsdGVyaW5nIG9mZmVycyBiYXNlZCBvbiBjbGFzc05hbWUgYW5kIEFkZGluZyBJZFxuICAgICAgICAgIGxldCBuZXdXaWRnZXRPZmZlcnMgPSBbXTtcblxuICAgICAgICAgIGlmIChcIi5cIiArIG9mZmVyQ29udGFpbmVyLmNsYXNzTmFtZSA9PT0gY29uZmlnLndpZGdldEVsZW1lbnQpIHtcbiAgICAgICAgICAgIG9mZmVyQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcImlkXCIsIFwic3lmLXByb21vXCIpO1xuICAgICAgICAgICAgbmV3V2lkZ2V0T2ZmZXJzID0gb2ZmZXJzTGlzdDtcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgXCIuXCIgKyBvZmZlckNvbnRhaW5lci5jbGFzc05hbWUgPT09XG4gICAgICAgICAgICBjb25maWcud2lkZ2V0RWxlbWVudFBMQ0NcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIG9mZmVyQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcImlkXCIsIFwic3lmLXBsY2NcIik7XG4gICAgICAgICAgICBuZXdXaWRnZXRPZmZlcnMgPSBvZmZlcnNMaXN0LmZpbHRlcihcbiAgICAgICAgICAgICAgb2ZmZXIgPT4gb2ZmZXIucHJvZHVjdERlc2NyaXB0aW9uID09PSBcIlJldm9sdmluZ1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBcIi5cIiArIG9mZmVyQ29udGFpbmVyLmNsYXNzTmFtZSA9PT1cbiAgICAgICAgICAgIGNvbmZpZy53aWRnZXRFbGVtZW50U0VUUEFZXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBvZmZlckNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcInN5Zi1zZXRwYXlcIik7XG4gICAgICAgICAgICBuZXdXaWRnZXRPZmZlcnMgPSBvZmZlcnNMaXN0LmZpbHRlcihcbiAgICAgICAgICAgICAgb2ZmZXIgPT5cbiAgICAgICAgICAgICAgICBvZmZlci5wcm9kdWN0RGVzY3JpcHRpb24gPT09IFwiU2V0UEFZXCIgfHxcbiAgICAgICAgICAgICAgICBvZmZlci5wcm9kdWN0RGVzY3JpcHRpb24gPT09IFwiU2V0UEFZSW40XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9mZmVyQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcImlkXCIsIFwic3lmLXByb21vXCIpO1xuICAgICAgICAgICAgbmV3V2lkZ2V0T2ZmZXJzID0gb2ZmZXJzTGlzdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3V2lkZ2V0T2ZmZXJzLmZvckVhY2gob2ZmZXIgPT4ge1xuICAgICAgICAgICAgdmFyIHdpZGdldFRleHQgPSBcIlwiO1xuXG4gICAgICAgICAgICBpZiAoYCR7b2ZmZXIuY29udGVudH1gICE9IFwibm9PZmZlckF2YmxcIikge1xuICAgICAgICAgICAgICBpZiAoc2hvd0NhcmQgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgd2lkZ2V0VGV4dCArPSBgPGRpdj48aW1nIGlkPVwiJHtvZmZlci5wcm9kdWN0RGVzY3JpcHRpb259XCIgYWx0PVwiJHtvZmZlci5jYXJkVGl0bGV9XCIgdGl0bGU9XCIke29mZmVyLmNhcmRUaXRsZX1cIiBzcmM9XCIke29mZmVyLmNhcmRBcnRJbWFnZVVybH1cIiAvPjwvZGl2PmA7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoYCR7b2ZmZXIubGlua1RleHR9YCAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgd2lkZ2V0VGV4dCArPSBgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvZmZlci1jb250ZW50IHN5Zi1vZmZlclwiPiR7XG4gICAgICAgICAgICAgICAgICAgICAgc2hvd0NhcmROYW1lID09PSBcInRydWVcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgIGNhcmROYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgIVtcIlNldFBBWUluNFwiLCBcIlNldFBBWVwiXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZmVyLnByb2R1Y3REZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgID8gYDxiPiR7Y2FyZE5hbWV9OiA8L2I+YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgICAgICAgIH0ke29mZmVyLmNvbnRlbnR9XG4gICAgICAgICAgICAgICAgICAgIDxhIHN0eWxlPVwiY3Vyc29yOnBvaW50ZXI7d2hpdGUtc3BhY2U6bm93cmFwO1wiIGlkPScnIGNsYXNzPVwic3lmLWN0YVwiIHRhYkluZGV4PVwiMFwiPiR7XG4gICAgICAgICAgICAgICAgICAgICAgb2ZmZXIubGlua1RleHRcbiAgICAgICAgICAgICAgICAgICAgfTwvYT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDtcbiAgICAgICAgICAgICAgICB3aWRnZXRUZXh0ICs9IGA8cCAgY2xhc3M9XCJzeWYtZGVzY1wiIGhpZGRlbj4ke29mZmVyLnByb2R1Y3REZXNjcmlwdGlvbn08cD5gO1xuICAgICAgICAgICAgICAgIHdpZGdldFRleHQgKz0gYDxwICBjbGFzcz1cInN5Zi1wcmljZVwiIGhpZGRlbj4ke3ByaWNlfTxwPmA7XG4gICAgICAgICAgICAgICAgd2lkZ2V0VGV4dCArPSBgPHAgIGNsYXNzPVwic3lmLXdpZGdldC10eXBlXCIgaGlkZGVuPiR7d2lkZ2V0VHlwZX08cD5gO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHdpZGdldFRleHQgKz0gYFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvZmZlci1jb250ZW50IHN5Zi1vZmZlclwiPiR7XG4gICAgICAgICAgICAgICAgICBzaG93Q2FyZE5hbWUgPT09IFwidHJ1ZVwiICYmXG4gICAgICAgICAgICAgICAgICBjYXJkTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgIVtcIlNldFBBWUluNFwiLCBcIlNldFBBWVwiXS5pbmNsdWRlcyhvZmZlci5wcm9kdWN0RGVzY3JpcHRpb24pXG4gICAgICAgICAgICAgICAgICAgID8gYDxiPiR7Y2FyZE5hbWV9OiA8L2I+YFxuICAgICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJHtvZmZlci5jb250ZW50fVxuICAgICAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIGRpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICBkaXZFbGVtZW50LmNsYXNzTmFtZSA9IFwid2lkZ2V0LWJveFwiO1xuICAgICAgICAgICAgICBkaXZFbGVtZW50LmlubmVySFRNTCA9IHdpZGdldFRleHQ7XG4gICAgICAgICAgICAgIG9mZmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGRpdkVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY29uc3QgY3RhID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInN5Zi1jdGFcIik7XG4gICAgICAgICAgaW5qZWN0TVBQU2NyaXB0KCk7XG5cbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGN0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYWN0aXZhdGVDVEEoXG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzeWYtY3RhXCIpW2ldLFxuICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic3lmLWRlc2NcIilbaV0sXG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzeWYtb2ZmZXJcIilbaV0sXG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzeWYtcHJpY2VcIilbaV0sXG4gICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzeWYtd2lkZ2V0LXR5cGVcIilbaV1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gc2VuZEFuYWx5dGljcyhFVlRfT0ZGRVJfRElTUExBWUVELCB7IG9mZmVyIH0pO1xuXG4gICAgICAgICAgLyogbWlkZGxlIGFsaWduZWQgKi9cbiAgICAgICAgICBpZiAoanVzdGlmeSA9PT0gXCJtaWRkbGVcIikge1xuICAgICAgICAgICAgaW5zZXJ0Q1NTKGBcbiAgICAgICAgICAgICAgICAgIC53aWRnZXQtYm94IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgLndpZGdldC1ib3ggI1Jldm9sdmluZyB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAke3Jldm9sdmluZ0NhcmRXaWR0aH07XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOnRleHQtYm90dG9tO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgLndpZGdldC1ib3ggI1NldFBBWSAsIC53aWRnZXQtYm94ICNTZXRQQVlJbjQge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJHtzZXRwYXlDYXJkV2lkdGh9O1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjp0ZXh0LWJvdHRvbTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKiBsZWZ0IGFsaWduZWQgKi9cbiAgICAgICAgICBpZiAoanVzdGlmeSA9PT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICAgIGluc2VydENTUyhgXG4gICAgICAgICAgICAgICAgICAgIC53aWRnZXQtYm94IHtcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLndpZGdldC1ib3ggI1Jldm9sdmluZyB7XG4gICAgICAgICAgICAgICAgICAgICAgbWluLXdpZHRoOiAke3Jldm9sdmluZ0NhcmRXaWR0aH07XG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICR7cmV2b2x2aW5nQ2FyZFdpZHRofTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAud2lkZ2V0LWJveCAjU2V0UEFZICwgLndpZGdldC1ib3ggI1NldFBBWUluNCB7XG4gICAgICAgICAgICAgICAgICAgICAgbWluLXdpZHRoOiAke3NldHBheUNhcmRXaWR0aH07XG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICR7c2V0cGF5Q2FyZFdpZHRofTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAud2lkZ2V0LWJveCAub2ZmZXItY29udGVudHtcbiAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDVweDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8qIHJpZ2h0IGFsaWduZWQgKi9cbiAgICAgICAgICBpZiAoanVzdGlmeSA9PT0gXCJyaWdodFwiKSB7XG4gICAgICAgICAgICBpbnNlcnRDU1MoYFxuICAgICAgICAgICAgICAgICAgICAud2lkZ2V0LWJveCB7XG4gICAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLndpZGdldC1ib3ggI1Jldm9sdmluZyB7XG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICR7cmV2b2x2aW5nQ2FyZFdpZHRofTtcbiAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbC1hbGlnbjp0ZXh0LWJvdHRvbTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAud2lkZ2V0LWJveCAjU2V0UEFZICwgLndpZGdldC1ib3ggI1NldFBBWUluNCAge1xuICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAke3NldHBheUNhcmRXaWR0aH07XG4gICAgICAgICAgICAgICAgICAgICAgdmVydGljYWwtYWxpZ246dGV4dC1ib3R0b207XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpbnNlcnRDU1MoYFxuICAgICAgICAgICNzeWYtcHJvbW8sICNzeWYtcGxjYywgI3N5Zi1zZXRwYXkge1xuICAgICAgICAgICAgY29sb3I6ICR7Y29uZmlnLmNvbG9ycy5iYXNlfTtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgZm9udC1zaXplOiAke2NvbmZpZy5mb250U2l6ZX07XG4gICAgICAgICAgfVxuICAgICAgICAgIC5zeWYtY3RhIHtcbiAgICAgICAgICAgIGNvbG9yOiAke2NvbmZpZy5jb2xvcnMucG9pbnR9O1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLndpZGdldC1ib3g6bm90KDpsYXN0LWNoaWxkKSB7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAke2NvbmZpZy5tYXJnaW5Cb3R0b219O1xuICAgICAgICB9XG4gICAgICAgIGApO1xuICAgICAgICAgIC8vc2VuZEFkb2JlQW5hbHl0aWNzRm9yV2lkZ2V0KCdQQVJUTkVSX0lEJywgJ01FUkNIQU5UX05BTUUnLCBudWxsLCBvZmZlci5jb250ZW50LCdsb2FkJyxvZmZlci5saW5rVGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2ZmZXJDb250YWluZXIuaW5uZXJIVE1MID0gYGA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICAvLyBtZXNzYWdlcyBjb21pbmcgYmFjayBmcm9tIHRoZSBpZnJhbWVcbiAgY29uc3QgZXZlbnRMaXN0ZW5lckZ1bmN0aW9uID0gZXZlbnQgPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoaXNFdmVudFNvdXJjZVNZRihldmVudC5vcmlnaW4pKSB7XG4gICAgICAgIGNvbnN0IF9kYXRhID0gSlNPTi5wYXJzZShldmVudC5kYXRhKTtcbiAgICAgICAgaWYgKF9kYXRhLmV2ZW50ID09PSBFVlRfU1lGX1JFQURZKSB7XG4gICAgICAgICAgLy8gb25jZSB0aGUgaUZyYW1lIGlzIHJlYWR5LCBzZW5kIG92ZXIgdGhlIHBvc3RtZXNzYWdlIGZvciBwcmljZVxuICAgICAgICAgIC8vIGFuZFxuICAgICAgICAgIC8vIHNlc3Npb24gaWRcbiAgICAgICAgICBpbml0KHN5ZklmcmFtZSwge1xuICAgICAgICAgICAgbG9hZHN0YXJ0OiB3aW5kb3cuX19zeWZfd2lkZ2V0X2xvYWRzdGFydF9fLFxuICAgICAgICAgICAgbG9hZGVuZDogd2luZG93Ll9fc3lmX3dpZGdldF9sb2FkZW5kX18sXG4gICAgICAgICAgICBzZXNzaW9uSWRcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChwcmljZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHN5ZklmcmFtZS5jb250ZW50V2luZG93ID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgc3lmSWZyYW1lLmNvbnRlbnRXaW5kb3cgPT09IG51bGxcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICBFVlRfTUVTU0FHRSxcbiAgICAgICAgICAgICAgICBldmVudExpc3RlbmVyRnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgbGV0IGN1cnJlbnRQcmljZUNoZ0V2ZW50TmJyID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgLy8gcmFuZG9tSWQgPSByYW5kb21JZCArJy0nK3ByaWNlO1xuICAgICAgICAgICAgICB3aW5kb3cuX19zeWZfXy5jdXJyZW50UHJpY2VDaGdFdmVudE5iciA9IGN1cnJlbnRQcmljZUNoZ0V2ZW50TmJyO1xuICAgICAgICAgICAgICB3aW5kb3cuX19zeWZfXy5jdXJyZW50UHJpY2UgPSBwcmljZTtcbiAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXG4gICAgICAgICAgICAgIC8vICAgXCJ0cmFja2luZyBjdXJyZW50UHJpY2VDaGdFdmVudE5iciAxPSBcIiArXG4gICAgICAgICAgICAgIC8vICAgICBjdXJyZW50UHJpY2VDaGdFdmVudE5iciArXG4gICAgICAgICAgICAgIC8vICAgICBcIiwgcHJpY2UgPSBcIiArXG4gICAgICAgICAgICAgIC8vICAgICBwcmljZVxuICAgICAgICAgICAgICAvLyApO1xuICAgICAgICAgICAgICBkYXRhVG9QYXNzVXBkYXRlT2ZmZXIuY3VycmVudFByaWNlQ2hnRXZlbnROYnIgPSBjdXJyZW50UHJpY2VDaGdFdmVudE5icjtcbiAgICAgICAgICAgICAgZGF0YVRvUGFzc1VwZGF0ZU9mZmVyLnNlc3Npb25JZCA9IHNlc3Npb25JZDtcbiAgICAgICAgICAgICAgZGF0YVRvUGFzc1VwZGF0ZU9mZmVyLnN5ZldpZGdldFRva2VuID0gZ2V0RmVhdHVyZUZsYWdzQ29va2llKCk7XG4gICAgICAgICAgICAgIGRhdGFUb1Bhc3NVcGRhdGVPZmZlci5leGlzdGluZ0Nvb2tpZSA9IGdldFNlYW1sZXNzQXBwbHlCdXlDb29raWUoKTtcbiAgICAgICAgICAgICAgZGF0YVRvUGFzc1VwZGF0ZU9mZmVyLnByaWNlID0gZ2V0UHJpY2UoKTtcbiAgICAgICAgICAgICAgc3lmSWZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAganNvblN0cmluZyhkYXRhVG9QYXNzVXBkYXRlT2ZmZXIpLFxuICAgICAgICAgICAgICAgIFwiSE9TVE5BTUVcIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL3VwZGF0ZSB3aWRnZXQgY29udGVudCBvbiByZWZyZXNoIGV2ZW50XG4gICAgICAgIGlmIChfZGF0YS5ldmVudCA9PT0gRVZUX1dJREdFVF9DT05URU5UX1JFRlJFU0gpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBzeWZJZnJhbWUuY29udGVudFdpbmRvdyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICBzeWZJZnJhbWUuY29udGVudFdpbmRvdyA9PT0gbnVsbFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgIEVWVF9NRVNTQUdFLFxuICAgICAgICAgICAgICBldmVudExpc3RlbmVyRnVuY3Rpb24sXG4gICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudFByaWNlQ2hnRXZlbnROYnIgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgLy8gcmFuZG9tSWQgPSByYW5kb21JZCArJy0nK3ByaWNlO1xuICAgICAgICAgICAgd2luZG93Ll9fc3lmX18uY3VycmVudFByaWNlQ2hnRXZlbnROYnIgPSBjdXJyZW50UHJpY2VDaGdFdmVudE5icjtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgLy8gICBcInRyYWNraW5nIEVWVF9XSURHRVRfQ09OVEVOVF9SRUZSRVNIIGN1cnJlbnRQcmljZUNoZ0V2ZW50TmJyID0gXCIgK1xuICAgICAgICAgICAgLy8gICAgIGN1cnJlbnRQcmljZUNoZ0V2ZW50TmJyICtcbiAgICAgICAgICAgIC8vICAgICBcIiBwcmljZT0gXCIgK1xuICAgICAgICAgICAgLy8gICAgIHByaWNlXG4gICAgICAgICAgICAvLyApO1xuICAgICAgICAgICAgZGF0YVRvUGFzc1VwZGF0ZU9mZmVyLmN1cnJlbnRQcmljZUNoZ0V2ZW50TmJyID0gY3VycmVudFByaWNlQ2hnRXZlbnROYnI7XG4gICAgICAgICAgICBkYXRhVG9QYXNzVXBkYXRlT2ZmZXIuc3lmV2lkZ2V0VG9rZW4gPSBnZXRGZWF0dXJlRmxhZ3NDb29raWUoKTtcbiAgICAgICAgICAgIGRhdGFUb1Bhc3NVcGRhdGVPZmZlci5leGlzdGluZ0Nvb2tpZSA9IGdldFNlYW1sZXNzQXBwbHlCdXlDb29raWUoKTtcbiAgICAgICAgICAgIGRhdGFUb1Bhc3NVcGRhdGVPZmZlci5wcmljZSA9IGdldFByaWNlKCk7XG4gICAgICAgICAgICBzeWZJZnJhbWUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZShcbiAgICAgICAgICAgICAganNvblN0cmluZyhkYXRhVG9QYXNzVXBkYXRlT2ZmZXIpLFxuICAgICAgICAgICAgICBcIkhPU1ROQU1FXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9kYXRhLm9mZmVyKSB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFByaWNlQ2hnRXZlbnROYnIgPVxuICAgICAgICAgICAgd2luZG93Ll9fc3lmX18uY3VycmVudFByaWNlQ2hnRXZlbnROYnI7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coXG4gICAgICAgICAgLy8gICBcImJlZm9yZSB3aWRnZXQgcmVuZGVyIGFwaUV2ZW50TmJyID1cIiArXG4gICAgICAgICAgLy8gICAgIF9kYXRhLm9mZmVyLmFwaVByaWNlQ2hnRXZlbnROYnIgK1xuICAgICAgICAgIC8vICAgICBcIiwgY3VycmVudEV2ZW50TmJyID0gXCIgK1xuICAgICAgICAgIC8vICAgICBjdXJyZW50UHJpY2VDaGdFdmVudE5iclxuICAgICAgICAgIC8vICk7XG5cbiAgICAgICAgICBpZiAoY3VycmVudFByaWNlQ2hnRXZlbnROYnIgPT0gX2RhdGEub2ZmZXIuYXBpUHJpY2VDaGdFdmVudE5icikge1xuICAgICAgICAgICAgLy8gQVBJIHJlc3BvbnNlIGlzIGZvciB0aGUgbW9zdCByZWNlbnQgdXNlciBldmVudFxuICAgICAgICAgICAgd2luZG93Ll9fc3lmX18ubGFzdFdpZGdldExvYWRFdmVudE5iciA9IGN1cnJlbnRQcmljZUNoZ0V2ZW50TmJyO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXG4gICAgICAgICAgICAvLyAgIFwiYmVmb3JlIHdpZGdldCByZW5kZXIgc3VjY2VzcyBjdXJyZW50RXZlbnROYnIgPVwiICtcbiAgICAgICAgICAgIC8vICAgICBjdXJyZW50UHJpY2VDaGdFdmVudE5iciArXG4gICAgICAgICAgICAvLyAgICAgXCIgY3VycmVudFByaWNlID0gXCIgK1xuICAgICAgICAgICAgLy8gICAgIHdpbmRvdy5fX3N5Zl9fLmN1cnJlbnRQcmljZSArXG4gICAgICAgICAgICAvLyAgICAgXCIgYXBpRXZlbnROYnIgPVwiICtcbiAgICAgICAgICAgIC8vICAgICBfZGF0YS5vZmZlci5hcGlQcmljZUNoZ0V2ZW50TmJyICtcbiAgICAgICAgICAgIC8vICAgICBcIiBsYXN0V2lkZ2V0TG9hZEV2ZW50TmJyID0gXCIgK1xuICAgICAgICAgICAgLy8gICAgIHdpbmRvdy5fX3N5Zl9fLmxhc3RXaWRnZXRMb2FkRXZlbnROYnJcbiAgICAgICAgICAgIC8vICk7XG5cbiAgICAgICAgICAgIHVwZGF0ZU9mZmVyKF9kYXRhLm9mZmVyLCBfZGF0YS5wcmljZSwgX2RhdGEud2lkZ2V0VHlwZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIHdpbmRvdy5fX3N5Zl9fLmxhc3RXaWRnZXRMb2FkRXZlbnROYnIgPCBfZGF0YS5vZmZlci5yYW5kb21JZCB8fFxuICAgICAgICAgICAgX2RhdGEub2ZmZXIuY29udGVudCA9PSBcIm5vT2ZmZXJBdmJsXCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIF9kYXRhLm9mZmVyLmNvbnRlbnQgPSBcIm5vT2ZmZXJBdmJsXCI7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIC8vICAgXCJiZWZvcmUgd2lkZ2V0IHJlbmRlciBjbGVhcmluZyBjdXJyZW50RXZlbnROYnIgPVwiICtcbiAgICAgICAgICAgIC8vICAgICBjdXJyZW50UHJpY2VDaGdFdmVudE5iciArXG4gICAgICAgICAgICAvLyAgICAgXCIgY3VycmVudFByaWNlID0gXCIgK1xuICAgICAgICAgICAgLy8gICAgIHdpbmRvdy5fX3N5Zl9fLmN1cnJlbnRQcmljZSArXG4gICAgICAgICAgICAvLyAgICAgXCIgYXBpRXZlbnROYnIgPVwiICtcbiAgICAgICAgICAgIC8vICAgICBfZGF0YS5vZmZlci5hcGlQcmljZUNoZ0V2ZW50TmJyICtcbiAgICAgICAgICAgIC8vICAgICBcIiBsYXN0V2lkZ2V0TG9hZEV2ZW50TmJyID0gXCIgK1xuICAgICAgICAgICAgLy8gICAgIHdpbmRvdy5fX3N5Zl9fLmxhc3RXaWRnZXRMb2FkRXZlbnROYnJcbiAgICAgICAgICAgIC8vICk7XG4gICAgICAgICAgICB1cGRhdGVPZmZlcihfZGF0YS5vZmZlciwgX2RhdGEucHJpY2UsIF9kYXRhLndpZGdldFR5cGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIC8vICAgXCJObyB3aWRnZXQgcmVuZGVyIGZvciBjdXJyZW50RXZlbnROYnIgPVwiICtcbiAgICAgICAgICAgIC8vICAgICBjdXJyZW50UHJpY2VDaGdFdmVudE5iciArXG4gICAgICAgICAgICAvLyAgICAgXCIgY3VycmVudFByaWNlID0gXCIgK1xuICAgICAgICAgICAgLy8gICAgIHdpbmRvdy5fX3N5Zl9fLmN1cnJlbnRQcmljZSArXG4gICAgICAgICAgICAvLyAgICAgXCIgYXBpRXZlbnROYnIgPVwiICtcbiAgICAgICAgICAgIC8vICAgICBfZGF0YS5vZmZlci5hcGlQcmljZUNoZ0V2ZW50TmJyICtcbiAgICAgICAgICAgIC8vICAgICBcIiBsYXN0V2lkZ2V0TG9hZEV2ZW50TmJyID0gXCIgK1xuICAgICAgICAgICAgLy8gICAgIHdpbmRvdy5fX3N5Zl9fLmxhc3RXaWRnZXRMb2FkRXZlbnROYnJcbiAgICAgICAgICAgIC8vICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF9kYXRhLmlzU1lGVG9rZW5DcmVhdGVkKSB7XG4gICAgICAgICAgZG9jdW1lbnQuY29va2llID0gX2RhdGEuc3lmVG9rZW4gKyBcIjtTZWN1cmVcIjtcbiAgICAgICAgICBsZXQgY2lkX3ZhbHVlID0gXCJcIjtcbiAgICAgICAgICBpZiAod2luZG93Ll9fc3lmX18udXJsLnNwbGl0KFwiJlwiKS5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgY2lkX3ZhbHVlID0gd2luZG93Ll9fc3lmX18udXJsLnNwbGl0KFwiJlwiKVsxXS5zcGxpdChcIj1cIilbMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIHN5Zk1QUC5vcGVuTVBQT2ZmZXJNb2RhbCh7XG4gICAgICAgICAgICBwYXJ0bmVySWQ6IFN0cmluZyhcIlBBUlRORVJfSURcIiksXG4gICAgICAgICAgICBhbW91bnQ6IFN0cmluZyhwcmljZSksXG4gICAgICAgICAgICBwY2djOiBcIlBDR0NcIixcbiAgICAgICAgICAgIGNpZDogY2lkX3ZhbHVlLFxuICAgICAgICAgICAgcHJvZHVjdENhdGVnb3J5TmFtZXM6IGdldFByb2R1Y3RDYXRvZ2VyaWVzKCksXG4gICAgICAgICAgICBjaGlsZFN5ZlBhcnRuZXJJZCxcbiAgICAgICAgICAgIHBhcnRuZXJDb2RlLFxuICAgICAgICAgICAgY2hpbGRTeWZNZXJjaGFudE51bWJlclxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfZGF0YS5jaGVja291dExhYmVsRGF0YVJlc3BvbnNlKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coe1xuICAgICAgICAgIC8vICAgY2hlY2tvdXRMYWJlbERhdGFSZXNwb25zZTogX2RhdGEuY2hlY2tvdXRMYWJlbERhdGFSZXNwb25zZSxcbiAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICB3aW5kb3cuY2hlY2tvdXRMYWJlbERhdGFSZXNwb25zZSA9IF9kYXRhLmNoZWNrb3V0TGFiZWxEYXRhUmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9kYXRhLnRhZ3MpIHtcbiAgICAgICAgICB3aW5kb3cuX19zeWZfXy5wcm9kdWN0Q2F0YWdlcnlOYW1lcyA9IF9kYXRhLnRhZ3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF9kYXRhLlNZRl90b2tlbikge1xuICAgICAgICAgIHdpbmRvdy5fU1lGX3Rva2VuID0gX2RhdGEuU1lGX3Rva2VuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5sb2coXCJlcnJvciBpbiBldmVudCBkYXRhIDpcIiArIGV2ZW50LmRhdGEpO1xuICAgICAgY29uc29sZS5sb2coZSk7XG4gICAgfVxuICB9O1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKEVWVF9NRVNTQUdFLCBldmVudExpc3RlbmVyRnVuY3Rpb24sIGZhbHNlKTtcblxuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9kdWN0LWNvbnRlbnRcIik7XG4gIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcIkRPTUNoYXJhY3RlckRhdGFNb2RpZmllZFwiLFxuICAgICgpID0+IHtcbiAgICAgIGlmIChjb25maWcuaXNQcmljZUNoYW5nZUV2ZW50UmVxdWlyZWQgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgIHByaWNlID0gZ2V0UHJpY2UoKTtcbiAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIGV2ZW50OiBcIndpZGdldC1jb250ZW50LXJlZnJlc2hcIlxuICAgICAgICAgIH0pLFxuICAgICAgICAgIFwiKlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcbiAgICBmYWxzZVxuICApO1xuXG4gIGNvbnN0IGVsZW1lbnRUb09ic2VydmUgPSBjb25maWcub2JzZXJ2aW5nVGFyZ2V0XG4gICAgPyBnZXRFbGVtZW50KGNvbmZpZy5vYnNlcnZpbmdUYXJnZXQsIFwib2JzZXJ2aW5nVGFyZ2V0XCIpXG4gICAgOiBkb2N1bWVudC5ib2R5O1xuICBjb25zdCBnZXRXaWRnZXQgPSAoKSA9PiBnZXRXaWRnZXRDb250YWluZXIoKTtcbiAgb2JzZXJ2ZURvbUNoYW5nZXMoXG4gICAgcmVjb3JkcyA9PiB7XG4gICAgICBjb25zdCBuZXdQcmljZSA9IGdldFByaWNlKCk7XG4gICAgICBjb25zdCB3aWRnZXQgPSBnZXRXaWRnZXQoKTtcbiAgICAgIGxldCB2YWxpZENoYW5nZSA9IHRydWU7XG4gICAgICBpZiAoY29uZmlnLm9ic2VydmluZ1RhcmdldCkge1xuICAgICAgICBsZXQgbmFtZSA9IGNvbmZpZy5vYnNlcnZpbmdUYXJnZXQ7XG4gICAgICAgIGlmIChuYW1lWzBdID09PSBcIiNcIiB8fCBuYW1lWzBdID09PSBcIi5cIikge1xuICAgICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZygxKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgcmVjb3Jkcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICB2YWxpZENoYW5nZSA9XG4gICAgICAgICAgICByZWNvcmRzW2luZGV4XS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKG5hbWUpIHx8XG4gICAgICAgICAgICByZWNvcmRzW2luZGV4XS50YXJnZXQuaWQgPT09IG5hbWU7XG4gICAgICAgICAgaWYgKHZhbGlkQ2hhbmdlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAhd2lkZ2V0IHx8ICh2YWxpZENoYW5nZSAmJiBuZXdQcmljZSAhPT0gcHJpY2UpO1xuICAgIH0sXG4gICAgKCkgPT4ge1xuICAgICAgcHJpY2UgPSBnZXRQcmljZSgpO1xuICAgICAgZmxvd1R5cGUgPSBnZXRGbG93VHlwZSgpO1xuICAgICAgaWYgKHByaWNlICE9PSBudWxsICYmIHByaWNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHN5ZklmcmFtZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgc3lmSWZyYW1lLmNvbnRlbnRXaW5kb3cgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgIHN5ZklmcmFtZSA9PT0gbnVsbCB8fFxuICAgICAgICAgIHN5ZklmcmFtZS5jb250ZW50V2luZG93ID09PSBudWxsXG4gICAgICAgICkge1xuICAgICAgICAgIGxldCBuYW1lID0gY29uZmlnLm9ic2VydmluZ1RhcmdldDtcbiAgICAgICAgICBpZiAobmFtZVswXSA9PT0gXCIjXCIgfHwgbmFtZVswXSA9PT0gXCIuXCIpIHtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZygxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVtb3ZlRG9tT2JzZXJ2ZXIobmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGV0IGN1cnJlbnRQcmljZUNoZ0V2ZW50TmJyID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAvLyByYW5kb21JZCA9IHJhbmRvbUlkICsnLScrcHJpY2U7XG4gICAgICAgICAgd2luZG93Ll9fc3lmX18uY3VycmVudFByaWNlQ2hnRXZlbnROYnIgPSBjdXJyZW50UHJpY2VDaGdFdmVudE5icjtcbiAgICAgICAgICB3aW5kb3cuX19zeWZfXy5jdXJyZW50UHJpY2UgPSBwcmljZTtcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcbiAgICAgICAgICAvLyAgIFwidHJhY2tpbmcgY3VycmVudFByaWNlQ2hnRXZlbnROYnIgMT0gXCIgK1xuICAgICAgICAgIC8vICAgICBjdXJyZW50UHJpY2VDaGdFdmVudE5iciArXG4gICAgICAgICAgLy8gICAgIFwiLCBwcmljZSA9IFwiICtcbiAgICAgICAgICAvLyAgICAgcHJpY2VcbiAgICAgICAgICAvLyApO1xuICAgICAgICAgIGRhdGFUb1Bhc3NVcGRhdGVPZmZlci5zeWZXaWRnZXRUb2tlbiA9IGdldEZlYXR1cmVGbGFnc0Nvb2tpZSgpO1xuICAgICAgICAgIGRhdGFUb1Bhc3NVcGRhdGVPZmZlci5leGlzdGluZ0Nvb2tpZSA9IGdldFNlYW1sZXNzQXBwbHlCdXlDb29raWUoKTtcbiAgICAgICAgICBkYXRhVG9QYXNzVXBkYXRlT2ZmZXIuY3VycmVudFByaWNlQ2hnRXZlbnROYnIgPSBjdXJyZW50UHJpY2VDaGdFdmVudE5icjtcbiAgICAgICAgICBkYXRhVG9QYXNzVXBkYXRlT2ZmZXIucHJpY2UgPSBnZXRQcmljZSgpO1xuICAgICAgICAgIHN5ZklmcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKFxuICAgICAgICAgICAganNvblN0cmluZyhkYXRhVG9QYXNzVXBkYXRlT2ZmZXIpLFxuICAgICAgICAgICAgXCJIT1NUTkFNRVwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZWxlbWVudFRvT2JzZXJ2ZSxcbiAgICBcInByaWNlX2NoYW5nZVwiXG4gICk7XG5cbiAgY29uc3Qgd2lkZ2V0Q29udGFpbmVycyA9IGdldFdpZGdldENvbnRhaW5lcigpO1xuXG4gIHdpZGdldENvbnRhaW5lcnMubWFwKHdpZGdldENvbnRhaW5lciA9PiB7XG4gICAgaWYgKHdpZGdldENvbnRhaW5lcikge1xuICAgICAgbGV0IG1vdXNlT3ZlciA9IG51bGw7XG5cbiAgICAgIHdpZGdldENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBFVlRfTU9VU0VFTlRFUixcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgIG1vdXNlT3ZlciA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB9LFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcblxuICAgICAgd2lkZ2V0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIEVWVF9NT1VTRUxFQVZFLFxuICAgICAgICBlID0+IHtcbiAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgc2VuZEFuYWx5dGljcyhFVlRfQ1RBX0hPVkVSRUQsIHtcbiAgICAgICAgICAgIGhvdmVydGltZTogbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBtb3VzZU92ZXJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBtb3VzZU92ZXIgPSBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBmYWxzZVxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xufVxuIiwiLyohXG4qIENvcHlyaWdodCAoYykgMjAxOCBMb29wIENvbW1lcmNlIEluYy4gKHd3dy5sb29wY29tbWVyY2UuY29tKS4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4qL1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSBcInV1aWRcIjtcbmNvbnN0IFRUTCA9IDcyMDA7IC8vSW4gc2Vjb25kc1xuLyoqXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByaWNlU3RyXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBwcmljZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VQcmljZShwcmljZVN0cikge1xuICBsZXQgcHJpY2UgPSAwO1xuICBjb25zdCBwcmljZXMgPSBwcmljZVN0ci5zcGxpdCgnLScpOyAvLyBjaGVjayBmb3IgcmFuZ2Ugb2YgcHJpY2VzXG5cbiAgcHJpY2VzLmZvckVhY2goKHByaWNlVGV4dCkgPT4geyAvLyBnZXQgbWF4IHByaWNlXG4gICAgY29uc3QgcCA9IHBhcnNlRmxvYXQocHJpY2VUZXh0LnJlcGxhY2UoL1teXFxkLl0vZywgJycpKTtcbiAgICBpZiAocCA+IHByaWNlKSB7XG4gICAgICBwcmljZSA9IHA7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcHJpY2U7XG59XG5cblxuLyoqXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuY1xuICogQHBhcmFtIHtOdW1iZXJ9IHdhaXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiAgYHtsZWFkaW5nOiBmYWxzZX1gIHRvIGRpc2FibGUgdGhlIGV4ZWN1dGlvbiBvbiB0aGUgbGVhZGluZyBlZGdlLlxuICogIGB7dHJhaWxpbmc6IGZhbHNlfWAgdG8gZGlzYWJsZSBleGVjdXRpb24gb24gdGhlIHRyYWlsaW5nIGVkZ2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IGEgZnVuY3Rpb24gdGhhdCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3RcbiAqICBvbmNlIGR1cmluZyBhIGdpdmVuIHdpbmRvdyBvZiB0aW1lXG4gKi9cbmV4cG9ydCBjb25zdCB0aHJvdHRsZSA9IChmdW5jLCB3YWl0LCBvcHRpb25zID0ge30pID0+IHtcbiAgbGV0IGNvbnRleHQ7XG4gIGxldCBhcmdzO1xuICBsZXQgcmVzdWx0O1xuICBsZXQgdGltZW91dCA9IG51bGw7XG4gIGxldCBwcmV2aW91cyA9IDA7XG5cbiAgY29uc3QgbGF0ZXIgPSAoKSA9PiB7XG4gICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgdGltZW91dCA9IG51bGw7XG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICBpZiAoIXRpbWVvdXQpIHtcbiAgICAgIGNvbnRleHQgPSBudWxsO1xuICAgICAgYXJncyA9IG51bGw7XG4gICAgfVxuICB9O1xuICByZXR1cm4gZnVuY3Rpb24gY2FsbGJhY2soLi4ucmVzdCkge1xuICAgIGNvbnN0IG5vdyA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgaWYgKCFwcmV2aW91cyAmJiBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlKSBwcmV2aW91cyA9IG5vdztcbiAgICBjb25zdCByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICBjb250ZXh0ID0gdGhpcztcbiAgICBhcmdzID0gcmVzdDtcbiAgICBpZiAocmVtYWluaW5nIDw9IDAgfHwgcmVtYWluaW5nID4gd2FpdCkge1xuICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIGlmICghdGltZW91dCkge1xuICAgICAgICBjb250ZXh0ID0gbnVsbDtcbiAgICAgICAgYXJncyA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG59O1xuXG5jb25zdCBkb21PYnNlcnZlciA9IHtcbiAgXG4gIGhhbmRsZXJzIDogW10sXG4gIFxuICBhZGQ6IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgIHRoaXMuaGFuZGxlcnMucHVzaChoYW5kbGUpO1xuICB9LFxuXG4gIHJlbW92ZTogZnVuY3Rpb24obmFtZSkge1xuICAgIHRoaXMuaGFuZGxlcnMgPSB0aGlzLmhhbmRsZXJzLmZpbHRlcigoaGFuZGxlcikgPT4ge1xuICAgICAgaWYgKGhhbmRsZXIubmFtZSAhPT0gbmFtZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIGFkZCBgaXNSZW1vdmluZ2AsIHNpbmNlIFwicmVtb3ZlXCIgbWF5IGZpcmUgYXMgYSBjYXVzZSBvZiBhIGRvbSBjaGFuZ2UsIGFuZFxuICAgICAgLy8gdGhlIGhhbmRsZXIgd2lsbCBzdGlsbCBleGlzdCBpbiB0aGUgYXJyYXkgZHVyaW5nIGEgZG9tLW9ic2VydmVyIGNhbGxiYWNrXG4gICAgICBoYW5kbGVyLmlzUmVtb3ZpbmcgPSB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuICB9LFxuXG4gIGVtcHR5OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmhhbmRsZXJzLmxlbmd0aCA9IDA7XG4gIH0sXG5cbiAgb2JzZXJ2ZTogZnVuY3Rpb24ob2JqLCBjYWxsYmFjaykge1xuICAgIC8vIHVzZSBET00gbXV0YXRpb24gb2JzZXJ2ZXIgaWYgYXZhaWxhYmxlXG4gICAgY29uc3QgTXV0YXRpb25PYnNlcnZlciA9IHdpbmRvdy5NdXRhdGlvbk9ic2VydmVyIHx8IHdpbmRvdy5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuICAgIGlmIChNdXRhdGlvbk9ic2VydmVyKSB7XG4gICAgICAvLyBkZWZpbmUgYSBuZXcgb2JzZXJ2ZXJcbiAgICAgIGNvbnN0IG9icyA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgICAgY2FsbGJhY2sobXV0YXRpb25zKTtcbiAgICAgIH0pO1xuICAgICAgLy8gaGF2ZSB0aGUgb2JzZXJ2ZXIgb2JzZXJ2ZSBmb28gZm9yIGNoYW5nZXMgaW4gY2hpbGRyZW5cbiAgICAgIG9icy5vYnNlcnZlKG9iaiwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZhbGxiYWNrIHRvIHBvbGxpbmcgb24gb2xkIGFuZCBidXN0ZWQgYnJvd3NlcnNcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICBkb21PYnNlcnZlci5vYnNlcnZlKG9iaiwgY2FsbGJhY2spO1xuICAgICAgfSwgMjAwMCk7XG4gICAgfVxuXG4gICAgdGhpcy5pc09ic2VydmluZyA9IHRydWU7XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gY29uZGl0aW9uIHRydWUgaWYgY2FsbGJhY2sgbmVlZHMgdG8gYmUgcnVuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBpdCB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlcmUgYXJlIGNoYW5nZXMgdG8gdGhlIGBlbGVtZW50VG9PYnNlcnZlYFxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50VG9PYnNlcnZlXG4gKiAgZWxlbWVudCB0byBvYnNlcnZlLCBpZiBpdCdzIG5vdCBnaXZlbiB0aGUgd2hvbGUgYm9keSBlbGVtZW50IHdpbGwgYmUgb2JzZXJ2ZWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIG9ic2VydmVyXG4gKiBAcmV0dXJucyB7U3RyaW5nfSBuYW1lXG4gKi9cbmV4cG9ydCBjb25zdCBvYnNlcnZlRG9tQ2hhbmdlcyA9IChjb25kaXRpb24sIGNhbGxiYWNrLCBlbGVtZW50VG9PYnNlcnZlLCBuYW1lKSA9PiB7XG4gIGNvbnN0IG9ic2VydmVyTmFtZSA9IG5hbWUgfHwgKGBvYnNlcnZlXyR7RGF0ZS5ub3coKX1gKTtcbiAgZG9tT2JzZXJ2ZXIuYWRkKHsgY29uZGl0aW9uLCBjYWxsYmFjaywgbmFtZTogb2JzZXJ2ZXJOYW1lIH0pO1xuXG4gIGlmICghZG9tT2JzZXJ2ZXIuaXNPYnNlcnZpbmcpIHtcbiAgICAvLyBhdHRhY2ggb2JzZXJ2ZXIgdG8gYm9keSwgc2luY2UgaXQncyB0aGUgb25seSBjb25zdGFudCBpbiBvdXIgbGlmZS5cbiAgICAvLyB0aHJvdHRsZSB0byBmaXJlIGhhbmRsZXIgYXQgbW9zdCBvbmNlIGV2ZXJ5IDUwMG1zXG4gICAgZG9tT2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50VG9PYnNlcnZlIHx8IGRvY3VtZW50LmJvZHksIHRocm90dGxlKChyZWNvcmRzKSA9PiB7XG4gICAgICBkb21PYnNlcnZlci5oYW5kbGVycy5mb3JFYWNoKChoYW5kbGVyKSA9PiB7XG4gICAgICAgIGlmIChoYW5kbGVyICYmICFoYW5kbGVyLmlzUmVtb3ZpbmcgJiYgdHlwZW9mIGhhbmRsZXIuY29uZGl0aW9uID09PSAnZnVuY3Rpb24nICYmIGhhbmRsZXIuY29uZGl0aW9uKHJlY29yZHMpKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyLmNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBoYW5kbGVyLmNhbGxiYWNrKHJlY29yZHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgMjApKTtcbiAgfVxuICByZXR1cm4gb2JzZXJ2ZXJOYW1lO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgb2JzZXJ2ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZURvbU9ic2VydmVyID0gKG5hbWUpID0+IHtcbiAgZG9tT2JzZXJ2ZXIucmVtb3ZlKG5hbWUpO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0eWxlcyBjc3Mgc3R5bGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIG5hbWUgb2YgdGhlIHN0eWxlXG4gKi9cbmV4cG9ydCBjb25zdCBpbnNlcnRDU1MgPSAoc3R5bGVzLCBuYW1lKSA9PiB7XG4gIGNvbnN0IGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXS5hcHBlbmRDaGlsZChlbCk7XG5cbiAgaWYgKCd0ZXh0Q29udGVudCcgaW4gZWwpIHtcbiAgICBlbC50ZXh0Q29udGVudCA9IHN0eWxlcztcbiAgfSBlbHNlIGlmICgnc3R5bGVTaGVldCcgaW4gZWwpIHtcbiAgICBlbC5zdHlsZVNoZWV0LmNzc1RleHQgPSBzdHlsZXM7XG4gIH1cblxuICBpZiAobmFtZSkge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnZGF0YS1uYW1lJywgbmFtZSk7XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nIHwgQXJyYXkgb2YgU3RyaW5nc30gbmFtZXNcbiAqICBpZCBvciBjbGFzc25hbWVzIHdpdGggaXRzIGNvcnJlc3BvbmRpbmcgaW5kaWNhdG9yLCBgI2Agb3IgYC5gXG4gKiBAcGFyYW0ge1N0cmluZ30gZWxlbVR5cGUgYWRkIHRvIHNlZSBkZXRhaWxlZCBjb25zb2xlIGVycm9yXG4gKiBAcmV0dXJucyB7RWxlbWVudH1cbiAqL1xuIGV4cG9ydCBjb25zdCBnZXRFbGVtZW50ID0gKG5hbWVzLCBlbGVtVHlwZSkgPT4ge1xuICBjb25zdCBzZWxlY3RvcnMgPSBBcnJheS5pc0FycmF5KG5hbWVzKSA/IG5hbWVzIDogW25hbWVzXTtcbiAgbGV0IGVsZW1lbnRzID0gW107XG4gIHNlbGVjdG9ycy5tYXAoKHNlbGVjdG9yKSA9PiB7XG4gICAgaWYoc2VsZWN0b3Ipe1xuICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIHJldHVybiBlbGVtZW50ICE9IG51bGwgPyBlbGVtZW50cy5wdXNoKGVsZW1lbnQpIDogbnVsbDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShuYW1lcykgPyBlbGVtZW50cyA6IGVsZW1lbnRzWzBdO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50IGVsZW1lbnQgdG8gYWRkIHN0eWxlXG4gKiBAcGFyYW0ge1N0cmluZ30gc3R5bGVzIGNzcyBzdHlsZSB0byBhZGQgdG8gdGhlIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IHNldEVsZW1lbnRTdHlsZSA9IChlbGVtZW50LCBzdHlsZXMpID0+IHtcbiAgT2JqZWN0LmtleXMoc3R5bGVzKS5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgZWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCBzdHlsZXNbbmFtZV0pO1xuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIHRhZyBhdHRyaWJ1dGVzLCBzdHlsZXMsIGNsYXNzbmFtZVxuICogQHJldHVybnMge0VsZW1lbnR9IGNyZWF0ZWQgZWxlbWVudCB3aXRoIGdpdmVuIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUVsZW1lbnQgPSAob3B0aW9ucykgPT4ge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChvcHRpb25zLnRhZyk7XG4gIGlmIChvcHRpb25zLmNsYXNzbmFtZSkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCguLi5vcHRpb25zLmNsYXNzbmFtZSk7XG4gIH1cbiAgT2JqZWN0LmtleXMob3B0aW9ucy5hdHRyaWJ1dGVzKS5mb3JFYWNoKChuYW1lKSA9PiB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgb3B0aW9ucy5hdHRyaWJ1dGVzW25hbWVdKTtcbiAgfSk7XG4gIHNldEVsZW1lbnRTdHlsZShlbGVtZW50LCBvcHRpb25zLnN0eWxlcyk7XG4gIHJldHVybiBlbGVtZW50O1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNlc3Npb25Db29raWUgPSAoKSA9PiB7XG4gIHJldHVybiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc3lmLXNlc3Npb24nKTtcbn1cblxuZXhwb3J0IGNvbnN0IHNldFNlc3Npb25Db29raWUgPSAoaWQpID0+IHtcbiAgbGV0IHNlc3Npb25JZCA9IGdldFNlc3Npb25Db29raWUoKTtcbiAgY29uc3QgcmFuZG9tQXJyYXkgPSBuZXcgVWludDMyQXJyYXkoMSk7XG4gIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHJhbmRvbUFycmF5KTtcbiAgaWYgKHNlc3Npb25JZCA9PT0gbnVsbCkge1xuICAgIHNlc3Npb25JZCA9IGlkID8gKGlkICsgXCJcIikuc3Vic3RyaW5nKChpZCArIFwiXCIpLmxlbmd0aCAtIDcpIDogXCJcIjtcbiAgICBzZXNzaW9uSWQgKz0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKSArIChyYW5kb21BcnJheVswXSArIFwiXCIpLnN1YnN0cmluZygyLCA4KTtcbiAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnc3lmLXNlc3Npb24nLCBzZXNzaW9uSWQpO1xuICB9XG4gIHJldHVybiBzZXNzaW9uSWQ7XG59XG5cbmNvbnN0IGdldFNlYW1sZXNzRmVhdHVyZUZsYWdzQ29va2llID0gKCkgPT4ge1xuICByZXR1cm4gZ2V0Q29va2llVmFsdWUoJ3N5Zi13aWRnZXQtdG9rZW4nKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDb29raWVWYWx1ZShjb29raWVLZXkpIHtcbiAgY29uc3QgY29va2llUGFpcnMgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTtcbiAgbGV0IHJlc3VsdCA9IG51bGw7XG4gIGNvb2tpZVBhaXJzLmZvckVhY2goKHBhaXIpID0+IHtcbiAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBwYWlyLnRyaW0oKS5zcGxpdCgnPScpO1xuICAgIGNvbnN0IGRlY29kZUtleSA9IGRlY29kZVVSSUNvbXBvbmVudChrZXkpO1xuICAgIGlmKGRlY29kZUtleSA9PT0gY29va2llS2V5KSB7XG4gICAgICByZXN1bHQgPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmNvbnN0IGdldE5ld0ZlYXR1cmVGbGFnc0Nvb2tpZSA9ICgpID0+IHtcbiAgbGV0IGRpc3RpbmN0SWQgPSB1dWlkdjQoKTtcbiAgZG9jdW1lbnQuY29va2llID0gXCJzeWYtd2lkZ2V0LXRva2VuXCIgKyBcIj1cIiArIGRpc3RpbmN0SWQgKyBcIjsgcGF0aD0vOyBtYXgtYWdlPVwiICsgVFRMK1wiO1NlY3VyZVwiO1xuICByZXR1cm4gZGlzdGluY3RJZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGZWF0dXJlRmxhZ3NDb29raWUgPSAoKSA9PiB7XG4gIGxldCBkaXN0aW5jdElkID0gZ2V0U2VhbWxlc3NGZWF0dXJlRmxhZ3NDb29raWUoKTtcbiAgaWYgKCFkaXN0aW5jdElkKSB7XG4gICAgZGlzdGluY3RJZCA9IGdldE5ld0ZlYXR1cmVGbGFnc0Nvb2tpZSgpO1xuICB9XG4gIHJldHVybiBkaXN0aW5jdElkO1xufTtcblxuZXhwb3J0IGNvbnN0IGZpbHRlckFycmF5QnlQcm9wZXJ0eT0oYXJyYXkscHJvcGVydHksdmFsdWUpPT57XG4gIHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24oZGF0YSl7XG4gICAgcmV0dXJuIGRhdGFbcHJvcGVydHldPT09dmFsdWU7XG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBzb3J0QXJyYXlCeVByb3BlcnR5PShhcnJheSxhdHRyKT0+e1xuICBhcnJheS5zb3J0KGZ1bmN0aW9uKGZpcnN0ZGF0YSwgc2Vjb25kRGF0YSkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KGZpcnN0ZGF0YVthdHRyXSkgLSBwYXJzZUZsb2F0KHNlY29uZERhdGFbYXR0cl0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGNvbnN0IGhhc0NsYXNzT3JJZD0oZWxlbWVudCxzZWxlY3Rvcik9PntcbiAgbGV0IHNlbGVjdG9yVmFsdWU9c2VsZWN0b3IucmVwbGFjZSgvXlsuI10vZywgXCJcIilcbiAgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKHNlbGVjdG9yVmFsdWUpIHx8IGVsZW1lbnQuaWQ9PT1zZWxlY3RvclZhbHVlXG59XG5cbmV4cG9ydCBjb25zdCBkZWJvdW5jZSA9IChmdW5jLCBkZWxheSkgPT4ge1xuICB2YXIgZGVib3VuY2VUaW1lclxuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBjb250ZXh0ID0gdGhpc1xuICAgICAgY29uc3QgYXJncyA9IGFyZ3VtZW50c1xuICAgICAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZVRpbWVyKVxuICAgICAgICAgICAgICBkZWJvdW5jZVRpbWVyXG4gICAgICAgICAgPSBzZXRUaW1lb3V0KCgpID0+IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyksIGRlbGF5KVxuICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==", "comment": ""}, "redirectURL": "", "headersSize": 426, "bodySize": 67416, "comment": ""}, "url": "https://qwidgets.syfpos.com/syf-widget.js?partnerId=PI53421676&productCategoryNames=&processInd=%20&cid=unifitest&syfPlatform=&flowType=PDP"}, {"method": "POST", "postData": {"mimeType": "application/json", "text": "{\"price\":100,\"productCategoryNames\":\"\",\"syfToken\":\"MPP\"}", "comment": ""}, "response": {"status": 200, "statusText": "OK", "httpVersion": "HTTP/1.1", "cookies": [], "headers": [], "content": {"size": 486, "mimeType": "application/json", "text": "{\"widgetContentResponse\":[{\"content\":\"4 interest-free payments of $25.00&nbsp;\",\"linkText\":\"<b>Learn how</b>\",\"cardArtImageUrl\":\"https://qpdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068991.svg\",\"cardTitle\":\"\",\"productDescription\":\"SetPAYIn4\"}],\"tags\":null,\"cardName\":\"\",\"widgetCustomize\":{\"justify\":\"left\",\"setpayCardHeight\":\"36px\",\"revolvingCardHeight\":\"36px\",\"cssStyle\":\"\",\"setpayCardWidth\":\"56px\",\"revolvingCardWidth\":\"56px\",\"showCard\":\"true\",\"showCardName\":\"true\"}}", "comment": ""}, "redirectURL": "", "headersSize": 866, "bodySize": 327, "comment": ""}, "url": "https://qwidgets.syfpos.com/content?partnerId=PI53421676&flowType=PDP&syfToken=MPP"}, {"method": "POST", "postData": {"mimeType": "application/json", "text": "{\"processInd\":\"3\",\"partnerId\":\"PI53421676\",\"transAmount1\":\"100.00\",\"productCategoryNames\":\"\",\"productCategoryNames1\":null,\"productCategoryNames2\":null,\"productCategoryNames3\":null,\"transAmount2\":null,\"transAmount3\":null,\"defaultPromoCode\":\"\",\"syfToken\":\"MPP16982457997479PI53421676\",\"flowType\":\"PDP\"}", "comment": ""}, "response": {"status": 200, "statusText": "OK", "httpVersion": "HTTP/1.1", "cookies": [], "headers": [], "content": {"size": 8061, "mimeType": "application/json", "text": "{\"brandingInfo\":{\"product_details\":{\"mpp\":{\"product_specific_branding\":{\"preQual\":\"true\",\"linkColor\":\"blue\",\"bannerText\":\"<b>Buy Now,</b> Pay Over Time\",\"footerLogo\":\"https://qpdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068992.svg\",\"bannerImage\":\"https://qpdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e047857.svg\",\"buttonColor\":\"blue\",\"accessibility\":\"https://www.synchrony.com/gwas2\",\"setPaySubText\":\"ONE TIME INSTALLMENT LOAN\",\"applyButtonText\":\"APPLY NOW\",\"creditCardImage\":\"https://pos.qapply.syf.com/cs/groups/public/documents/et_imagetype/etimg068315.svg\",\"footerLinkColor\":\"\",\"setPayImageLink\":\"link\",\"mppPrimaryColors\":\"#c63527\",\"productOfferings\":{\"apply\":{\"buttonText\":\"Apply Now\"},\"setPay\":{\"buttonText\":\"Set Pay\"},\"prequal\":{\"buttonText\":\"PreQualify Now\"}},\"mppSecondaryColors\":\"\",\"availableOffersText\":\"Options Available Now to Finance\",\"onlinePrivacyPolicy\":\"https://qpdpone.syfpos.com/cs/groups/public/documents/et_appdoc/e026513.html\",\"onlineUsageAgreement\":\"https://qpdpone.syfpos.com/cs/groups/public/documents/et_appdoc/e026518.html\",\"prequalifyButtonText\":\"PREQUALIFY FOR AVAILABLE OPTIONS\",\"setPaycreditCardImage\":\"https://qpdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068991.svg\",\"showMppAmountInputBox\":null,\"shopAvailableOffersText\":\"Financing Options Available Now\",\"productOfferingSelection\":\"prequal\"}},\"dbuy\":{\"product_specific_branding\":{\"ctaTextColor\":\"blue\",\"dbuyLinkColor\":\"blue\",\"ctaButtonColor\":\"blue\",\"dbuyButtonColor\":\"blue\",\"ctaBackgroundColor\":\"blue\",\"ctaButtonTextColor\":\"blue\",\"ctaButtonBorderColor\":\"blue\"},\"product_specific_functionality\":{\"upe\":true,\"callBack\":false,\"mimeType\":[\"text\",\"json\"],\"applyFlag\":true,\"corePromo\":\"text\",\"openToBuy\":true,\"b2CPostBack\":true,\"installment\":true,\"prefillFlag\":true,\"productCode\":\"text\",\"ofplLanguage\":true,\"tokenization\":true,\"transactMode\":false,\"applyModalHold\":true,\"applyPrefillFlag\":true,\"confirmationFlag\":true,\"refundSettlement\":true,\"returnExpiryDate\":true,\"seamlessApplyBuy\":false,\"segmentationType\":[\"ADVANCED\",\"GENERIC\",\"CORE\"],\"cardHolderPrefixes\":[\"text1\",\"text2\"],\"standAloneApplyBuy\":true,\"gcWhiteListedPrefix\":[\"text1\",\"text2\"],\"sendCustomerAddress\":true,\"applyBuyCommunication\":[\"DBWithTab\",\"GemfireWithApplyTab\",\"GemfireWithModal\"],\"accountAssociationOnly\":false,\"sendCustomerEmailPhone\":true,\"refundSettlementPrefixes\":[\"text1\",\"text2\"]}},\"apply\":{\"product_specific_branding\":{\"preQual\":null,\"linkColor\":null,\"bannerText\":null,\"footerLogo\":null,\"bannerImage\":null,\"buttonColor\":null,\"accessibility\":null,\"setPaySubText\":null,\"applyButtonText\":null,\"creditCardImage\":null,\"footerLinkColor\":null,\"setPayImageLink\":null,\"mppPrimaryColors\":null,\"productOfferings\":null,\"mppSecondaryColors\":null,\"availableOffersText\":null,\"onlinePrivacyPolicy\":null,\"onlineUsageAgreement\":null,\"prequalifyButtonText\":null,\"setPaycreditCardImage\":null,\"showMppAmountInputBox\":null,\"shopAvailableOffersText\":null,\"productOfferingSelection\":null}}},\"branding_details\":{\"common_branding_theme\":[{\"linkColor\":\"red\",\"termsLink\":\"link\",\"bannerText\":\"text\",\"bannerColor\":\"red\",\"bannerImage\":\"link\",\"buttonColor\":\"red\",\"isActivated\":\"true\",\"privacyLink\":\"link\",\"backgroundColor\":\"white\",\"footerImageLink\":\"link\",\"websiteUsageLink\":\"link\",\"footerImageAltText\":\"text\",\"theme_name\":\"default_theme_name\",\"creation_date\":\"ISO Date\"}]},\"merchant_details\":{\"d2dFlag\":\"Y\",\"merchantName\":\"Electronic Express\",\"isPDPCallBack\":\"Y\",\"skipMppScreen\":\"N\",\"whiteListPrefixes\":\"http://localhost:3006,https://dpdpone.syfpos.com/mit,http://ec2-3-226-168-54.compute-1.amazonaws.com/magento2.4,http://localhost,https://qpdpone.syfpos.com,https://updpone.syfpos.com,https://syf-business-demo.myshopify.com,https://pdpone.syfpayments.com,https://dev.electronicexpress.com,https://synchrony-devstore-unifi.myshopify.com,https://dshop.mysynchrony.com,https://qshop.mysynchrony.com,https://synchrony-qa-1-0-4.myshopify.com,http://ec2-3-215-218-234.compute-1.amazonaws.com,http://ec2-3-215-218-234.compute-1.amazonaws.com/magento24_4,https://pos.qapply.syf.com,http://pos.qapply.syf.com,http://ec2-3-215-218-234.compute-1.amazonaws.com/magento24_1,https://qpdpone.syfpos.com,http://ec2-3-215-218-234.compute-1.amazonaws.com/magento24_4,http://ec2-3-215-218-234.compute-1.amazonaws.com/magento24_1,https://pos.qapply.syf.com,http://107.23.119.192/2.3.1/,https://synchrony-qa-1-0-5.myshopify.com,http://ec2-3-93-142-80.compute-1.amazonaws.com/245-new/pub,https://qwidgets.syfpos.com,https://pos.qbuy.syf.com,https://qpdpone.syfpos.com/mppcore/d2d/success,https://qa.unifitestsite.com,\",\"merchantWebsiteURL\":\"https://www.electronicexpress.com\"}},\"offersDetails\":{\"responseDescription\":null,\"offerInfo\":[{\"calculatedAmount\":\"$0.00\",\"apr\":null,\"totalPayment\":\"0.00\",\"durationInMonths\":\"0\",\"monthlyPaymentDisclosure\":\"\",\"monthlyPaymentDisclosureLanguage\":\"\",\"offerType\":\"SetPAYIn4\",\"preferredOffer\":\"YES\",\"offerDisclosure\":\" \",\"offerDisclosureLanguage\":\" \",\"offerNumber\":null,\"offerTitle\":\"Paid Over 6 Weeks\",\"limitedTimeOfferDateFormat\":\"\",\"minPurchase\":\"40.00\",\"maxPurchase\":\"500.00\",\"merchantNumber\":\"6097688000001639\",\"setPayIn4Info\":{\"merchantNumber\":\"6097688000001639\",\"terms\":[{\"product\":\"BUY_NOW_PAY_LATER\",\"purchaseAmount\":\"100.00\",\"purchaseDate\":\"2023-10-25\",\"downPaymentDate\":\"2023-10-25\",\"downPaymentAmount\":\"25.00\",\"initialStatementDate\":\"2023-10-27\",\"paymentSchedule\":[{\"cycle\":\"1\",\"paymentAmount\":\"25.00\",\"date\":\"2023-11-10\"},{\"cycle\":\"2\",\"paymentAmount\":\"25.00\",\"date\":\"2023-11-24\"},{\"cycle\":\"3\",\"paymentAmount\":\"25.00\",\"date\":\"2023-12-08\"}]}]},\"offerBannerTitle\":\"<b>4 interest-free payments of $25.00</b>\",\"offerBannerDisclaimer\":\" \",\"offerBannerSubTitle\":\" \",\"discountEligible\":\"false\",\"minimumMonthlyPaymentFlag\":null}],\"offerStaticLanguage\":null,\"offerRangeLanguage\":null,\"totalOfferAmount\":\"100.00\",\"productInfo\":{\"capabilityId\":\"PI53421676INTSF24532189\",\"mpqProductCode\":\"250\",\"merchantProductGroups\":[{\"merchantNumber\":\"5348120121000194\",\"industryName\":\"CONSUMER ELECTRONICS\",\"clientProductDescription\":\"Revolving\",\"productCode\":\"GR\",\"groupCode\":\"10\",\"productCodeDefault\":null,\"destinationFlag\":null,\"customerType\":null,\"productDescription\":\"ELECTRONIC EXPRESS\",\"prinProgProductDescription\":null,\"buildPrdGrpId\":null,\"internetMid\":null,\"syfPartnerId\":null,\"childPartnerId\":\"false\"}]},\"offerDisclaimer\":\"Are these offers not what you're looking for? Continue browsing to see other offers on eligible brands and products.\",\"cardName\":\"\",\"clientShortName\":\"\",\"cardTitle\":\"\"},\"productStateInfo\":null,\"mppConfig\":{\"productFooterMessagempp\":\"Learn More on ##CLIENT_NAME## Financing Page\",\"showMppAmountInputBox\":\"Y\",\"max\":\"99999.99\",\"footerLinkColor\":\"#727272\",\"showToolTip\":\"N\",\"pencilimg\":\"https://spdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068952.svg\",\"addCartimg\":\"https://spdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068946.svg\",\"triangleExclaminationimg\":\"https://spdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068954.svg\",\"pie3img\":\"https://spdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068949.svg\",\"min\":\"1\",\"pie2img\":\"https://spdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068947.svg\",\"pie1img\":\"https://spdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068951.svg\",\"productPageEnablempp\":\"Y\",\"pie4img\":\"https://spdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068950.svg\",\"postBackDecisionMsgmpp\":null,\"subtitlempp\":\"See if you Prequalify for available options with no impact to your credit score\",\"plusCircleimg\":\"https://spdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068945.svg\",\"learchHowIconUpimg\":\"https://spdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068910.svg\",\"learchHowIconDownimg\":\"https://spdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068944.svg\",\"quardCircleimg\":\"https://spdpone.syfpos.com/cs/groups/public/documents/et_clientoffer/e068948.svg\"},\"channelId\":null,\"responseCode\":null,\"responseText\":null,\"partnerConfigInfo\":null,\"ProductDetails\":null,\"isPayInFourAvailable\":true}", "comment": ""}, "redirectURL": "", "headersSize": 1783, "bodySize": 2645, "comment": ""}, "url": "https://qpdpone.syfpos.com/mppcore/fetchMerchantSpecificInfo"}]